var app=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var n,r="undefined"!=typeof Symbol&&Symbol,a=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0},i="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,s=Object.prototype.toString,l="[object Function]",c=function(e){var t=this;if("function"!=typeof t||s.call(t)!==l)throw new TypeError(i+t);for(var n,r=o.call(arguments,1),a=function(){if(this instanceof n){var a=t.apply(this,r.concat(o.call(arguments)));return Object(a)===a?a:this}return t.apply(e,r.concat(o.call(arguments)))},c=Math.max(0,t.length-r.length),u=[],h=0;h<c;h++)u.push("$"+h);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n},u=Function.prototype.bind||c,h=u.call(Function.call,Object.prototype.hasOwnProperty),f=SyntaxError,p=Function,d=TypeError,m=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(e){y=null}var g=function(){throw new d},v=y?function(){try{return g}catch(e){try{return y(arguments,"callee").get}catch(e){return g}}}():g,b="function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&a(),w=Object.getPrototypeOf||function(e){return e.__proto__},_={},k="undefined"==typeof Uint8Array?n:w(Uint8Array),T={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":b?w([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":_,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b?w(w([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&b?w((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&b?w((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b?w(""[Symbol.iterator]()):n,"%Symbol%":b?Symbol:n,"%SyntaxError%":f,"%ThrowTypeError%":v,"%TypedArray%":k,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},x=function e(t){var n;if("%AsyncFunction%"===t)n=m("async function () {}");else if("%GeneratorFunction%"===t)n=m("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=m("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&(n=w(a.prototype))}return T[t]=n,n},S={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=u,M=h,A=C.call(Function.call,Array.prototype.concat),E=C.call(Function.apply,Array.prototype.splice),N=C.call(Function.call,String.prototype.replace),j=C.call(Function.call,String.prototype.slice),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,H=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new f("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new f("invalid intrinsic syntax, expected opening `%`");var r=[];return N(e,P,(function(e,t,n,a){r[r.length]=n?N(a,L,"$1"):t||e})),r},O=function(e,t){var n,r=e;if(M(S,r)&&(r="%"+(n=S[r])[0]+"%"),M(T,r)){var a=T[r];if(a===_&&(a=x(r)),void 0===a&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new f("intrinsic "+e+" does not exist!")},F=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');var n=H(e),r=n.length>0?n[0]:"",a=O("%"+r+"%",t),i=a.name,o=a.value,s=!1,l=a.alias;l&&(r=l[0],E(n,A([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var h=n[c],p=j(h,0,1),m=j(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new f("property names with quotes must have matching quotes");if("constructor"!==h&&u||(s=!0),M(T,i="%"+(r+="."+h)+"%"))o=T[i];else if(null!=o){if(!(h in o)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(y&&c+1>=n.length){var g=y(o,h);o=(u=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:o[h]}else u=M(o,h),o=o[h];u&&!s&&(T[i]=o)}}return o},U={exports:{}};!function(e){var t=u,n=F,r=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(a,r),o=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var n=i(t,a,arguments);if(o&&s){var r=o(n,"length");r.configurable&&s(n,"length",{value:1+l(0,e.length-(arguments.length-1))})}return n};var c=function(){return i(t,r,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(U);var B=F,I=U.exports,R=I(B("String.prototype.indexOf")),D=t(Object.freeze({__proto__:null,default:{}})),G="function"==typeof Map&&Map.prototype,q=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,W=G&&q&&"function"==typeof q.get?q.get:null,z=G&&Map.prototype.forEach,V="function"==typeof Set&&Set.prototype,K=Object.getOwnPropertyDescriptor&&V?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,$=V&&K&&"function"==typeof K.get?K.get:null,X=V&&Set.prototype.forEach,Q="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Y="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,J=Boolean.prototype.valueOf,Z=Object.prototype.toString,ee=Function.prototype.toString,te=String.prototype.match,ne="function"==typeof BigInt?BigInt.prototype.valueOf:null,re=Object.getOwnPropertySymbols,ae="function"==typeof Symbol?Symbol.prototype.toString:null,ie=Object.prototype.propertyIsEnumerable,oe=D.custom,se=oe&&he(oe)?oe:null;function le(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function ce(e){return String(e).replace(/"/g,"&quot;")}function ue(e){return"[object Array]"===de(e)}function he(e){return"[object Symbol]"===de(e)}var fe=Object.prototype.hasOwnProperty||function(e){return e in this};function pe(e,t){return fe.call(e,t)}function de(e){return Z.call(e)}function me(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ye(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return ye(e.slice(0,t.maxStringLength),t)+r}return le(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,ge),"single",t)}function ge(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function ve(e){return"Object("+e+")"}function be(e){return e+" { ? }"}function we(e,t,n,r){return e+" ("+t+") {"+(r?_e(n,r):n.join(", "))+"}"}function _e(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function ke(e,t){var n=ue(e),r=[];if(n){r.length=e.length;for(var a=0;a<e.length;a++)r[a]=pe(e,a)?t(e[a],e):""}for(var i in e)pe(e,i)&&(n&&String(Number(i))===i&&i<e.length||(/[^\w$]/.test(i)?r.push(t(i,e)+": "+t(e[i],e)):r.push(i+": "+t(e[i],e))));if("function"==typeof re)for(var o=re(e),s=0;s<o.length;s++)ie.call(e,o[s])&&r.push("["+t(o[s])+"]: "+t(e[o[s]],e));return r}var Te=F,xe=function(e,t){var n=B(e,!!t);return"function"==typeof n&&R(e,".prototype.")>-1?I(n):n},Se=function e(t,n,r,a){var i=n||{};if(pe(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pe(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=!pe(i,"customInspect")||i.customInspect;if("boolean"!=typeof o)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(pe(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return ye(t,i);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var s=void 0===i.depth?5:i.depth;if(void 0===r&&(r=0),r>=s&&s>0&&"object"==typeof t)return ue(t)?"[Array]":"[Object]";var l=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(i,r);if(void 0===a)a=[];else if(me(a,t)>=0)return"[Circular]";function c(t,n,o){if(n&&(a=a.slice()).push(n),o){var s={depth:i.depth};return pe(i,"quoteStyle")&&(s.quoteStyle=i.quoteStyle),e(t,s,r+1,a)}return e(t,i,r+1,a)}if("function"==typeof t){var u=function(e){if(e.name)return e.name;var t=te.call(ee.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),h=ke(t,c);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(h.length>0?" { "+h.join(", ")+" }":"")}if(he(t)){var f=ae.call(t);return"object"==typeof t?ve(f):f}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var p="<"+String(t.nodeName).toLowerCase(),d=t.attributes||[],m=0;m<d.length;m++)p+=" "+d[m].name+"="+le(ce(d[m].value),"double",i);return p+=">",t.childNodes&&t.childNodes.length&&(p+="..."),p+="</"+String(t.nodeName).toLowerCase()+">"}if(ue(t)){if(0===t.length)return"[]";var y=ke(t,c);return l&&!function(e){for(var t=0;t<e.length;t++)if(me(e[t],"\n")>=0)return!1;return!0}(y)?"["+_e(y,l)+"]":"[ "+y.join(", ")+" ]"}if(function(e){return"[object Error]"===de(e)}(t)){var g=ke(t,c);return 0===g.length?"["+String(t)+"]":"{ ["+String(t)+"] "+g.join(", ")+" }"}if("object"==typeof t&&o){if(se&&"function"==typeof t[se])return t[se]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!W||!e||"object"!=typeof e)return!1;try{W.call(e);try{$.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var v=[];return z.call(t,(function(e,n){v.push(c(n,t,!0)+" => "+c(e,t))})),we("Map",W.call(t),v,l)}if(function(e){if(!$||!e||"object"!=typeof e)return!1;try{$.call(e);try{W.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var b=[];return X.call(t,(function(e){b.push(c(e,t))})),we("Set",$.call(t),b,l)}if(function(e){if(!Q||!e||"object"!=typeof e)return!1;try{Q.call(e,Q);try{Y.call(e,Y)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return be("WeakMap");if(function(e){if(!Y||!e||"object"!=typeof e)return!1;try{Y.call(e,Y);try{Q.call(e,Q)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return be("WeakSet");if(function(e){return"[object Number]"===de(e)}(t))return ve(c(Number(t)));if(function(e){return"[object BigInt]"===de(e)}(t))return ve(c(ne.call(t)));if(function(e){return"[object Boolean]"===de(e)}(t))return ve(J.call(t));if(function(e){return"[object String]"===de(e)}(t))return ve(c(String(t)));if(!function(e){return"[object Date]"===de(e)}(t)&&!function(e){return"[object RegExp]"===de(e)}(t)){var w=ke(t,c);return 0===w.length?"{}":l?"{"+_e(w,l)+"}":"{ "+w.join(", ")+" }"}return String(t)},Ce=Te("%TypeError%"),Me=Te("%WeakMap%",!0),Ae=Te("%Map%",!0),Ee=xe("WeakMap.prototype.get",!0),Ne=xe("WeakMap.prototype.set",!0),je=xe("WeakMap.prototype.has",!0),Pe=xe("Map.prototype.get",!0),Le=xe("Map.prototype.set",!0),He=xe("Map.prototype.has",!0),Oe=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},Fe=String.prototype.replace,Ue=/%20/g,Be="RFC3986",Ie={default:Be,formatters:{RFC1738:function(e){return Fe.call(e,Ue,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Be},Re=Ie,De=Object.prototype.hasOwnProperty,Ge=Array.isArray,qe=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),We=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},ze={arrayToObject:We,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var a=t[r],i=a.obj[a.prop],o=Object.keys(i),s=0;s<o.length;++s){var l=o[s],c=i[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:i,prop:l}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Ge(n)){for(var r=[],a=0;a<n.length;++a)void 0!==n[a]&&r.push(n[a]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,r,a){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",s=0;s<i.length;++s){var l=i.charCodeAt(s);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===Re.RFC1738&&(40===l||41===l)?o+=i.charAt(s):l<128?o+=qe[l]:l<2048?o+=qe[192|l>>6]+qe[128|63&l]:l<55296||l>=57344?o+=qe[224|l>>12]+qe[128|l>>6&63]+qe[128|63&l]:(s+=1,l=65536+((1023&l)<<10|1023&i.charCodeAt(s)),o+=qe[240|l>>18]+qe[128|l>>12&63]+qe[128|l>>6&63]+qe[128|63&l])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Ge(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Ge(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!De.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return Ge(t)&&!Ge(n)&&(a=We(t,r)),Ge(t)&&Ge(n)?(n.forEach((function(n,a){if(De.call(t,a)){var i=t[a];i&&"object"==typeof i&&n&&"object"==typeof n?t[a]=e(i,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var i=n[a];return De.call(t,a)?t[a]=e(t[a],i,r):t[a]=i,t}),a)}},Ve=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new Ce("Side channel does not contain "+Se(e))},get:function(r){if(Me&&r&&("object"==typeof r||"function"==typeof r)){if(e)return Ee(e,r)}else if(Ae){if(t)return Pe(t,r)}else if(n)return function(e,t){var n=Oe(e,t);return n&&n.value}(n,r)},has:function(r){if(Me&&r&&("object"==typeof r||"function"==typeof r)){if(e)return je(e,r)}else if(Ae){if(t)return He(t,r)}else if(n)return function(e,t){return!!Oe(e,t)}(n,r);return!1},set:function(r,a){Me&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new Me),Ne(e,r,a)):Ae?(t||(t=new Ae),Le(t,r,a)):(n||(n={key:{},next:null}),function(e,t,n){var r=Oe(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,a))}};return r},Ke=ze,$e=Ie,Xe=Object.prototype.hasOwnProperty,Qe={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Ye=Array.isArray,Je=Array.prototype.push,Ze=function(e,t){Je.apply(e,Ye(t)?t:[t])},et=Date.prototype.toISOString,tt=$e.default,nt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ke.encode,encodeValuesOnly:!1,format:tt,formatter:$e.formatters[tt],indices:!1,serializeDate:function(e){return et.call(e)},skipNulls:!1,strictNullHandling:!1},rt=function e(t,n,r,a,i,o,s,l,c,u,h,f,p,d,m){var y,g=t;if(m.has(t))throw new RangeError("Cyclic object value");if("function"==typeof s?g=s(n,g):g instanceof Date?g=u(g):"comma"===r&&Ye(g)&&(g=Ke.maybeMap(g,(function(e){return e instanceof Date?u(e):e}))),null===g){if(a)return o&&!p?o(n,nt.encoder,d,"key",h):n;g=""}if("string"==typeof(y=g)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||Ke.isBuffer(g))return o?[f(p?n:o(n,nt.encoder,d,"key",h))+"="+f(o(g,nt.encoder,d,"value",h))]:[f(n)+"="+f(String(g))];var v,b=[];if(void 0===g)return b;if("comma"===r&&Ye(g))v=[{value:g.length>0?g.join(",")||null:void 0}];else if(Ye(s))v=s;else{var w=Object.keys(g);v=l?w.sort(l):w}for(var _=0;_<v.length;++_){var k=v[_],T="object"==typeof k&&void 0!==k.value?k.value:g[k];if(!i||null!==T){var x=Ye(g)?"function"==typeof r?r(n,k):n:n+(c?"."+k:"["+k+"]");m.set(t,!0);var S=Ve();Ze(b,e(T,x,r,a,i,o,s,l,c,u,h,f,p,d,S))}}return b},at=ze,it=Object.prototype.hasOwnProperty,ot=Array.isArray,st={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:at.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lt=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},ct=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},ut=function(e,t,n,r){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,o=n.depth>0&&/(\[[^[\]]*])/.exec(a),s=o?a.slice(0,o.index):a,l=[];if(s){if(!n.plainObjects&&it.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var c=0;n.depth>0&&null!==(o=i.exec(a))&&c<n.depth;){if(c+=1,!n.plainObjects&&it.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+a.slice(o.index)+"]"),function(e,t,n,r){for(var a=r?t:ct(t,n),i=e.length-1;i>=0;--i){var o,s=e[i];if("[]"===s&&n.parseArrays)o=[].concat(a);else{o=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=a:o[l]=a:o={0:a}}a=o}return a}(l,t,n,r)}},ht={formats:Ie,parse:function(e,t){var n=function(e){if(!e)return st;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?st.charset:e.charset;return{allowDots:void 0===e.allowDots?st.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:st.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:st.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:st.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:st.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:st.comma,decoder:"function"==typeof e.decoder?e.decoder:st.decoder,delimiter:"string"==typeof e.delimiter||at.isRegExp(e.delimiter)?e.delimiter:st.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:st.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:st.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:st.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:st.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:st.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=a.split(t.delimiter,i),s=-1,l=t.charset;if(t.charsetSentinel)for(n=0;n<o.length;++n)0===o[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===o[n]?l="utf-8":"utf8=%26%2310003%3B"===o[n]&&(l="iso-8859-1"),s=n,n=o.length);for(n=0;n<o.length;++n)if(n!==s){var c,u,h=o[n],f=h.indexOf("]="),p=-1===f?h.indexOf("="):f+1;-1===p?(c=t.decoder(h,st.decoder,l,"key"),u=t.strictNullHandling?null:""):(c=t.decoder(h.slice(0,p),st.decoder,l,"key"),u=at.maybeMap(ct(h.slice(p+1),t),(function(e){return t.decoder(e,st.decoder,l,"value")}))),u&&t.interpretNumericEntities&&"iso-8859-1"===l&&(u=lt(u)),h.indexOf("[]=")>-1&&(u=ot(u)?[u]:u),it.call(r,c)?r[c]=at.combine(r[c],u):r[c]=u}return r}(e,n):e,a=n.plainObjects?Object.create(null):{},i=Object.keys(r),o=0;o<i.length;++o){var s=i[o],l=ut(s,r[s],n,"string"==typeof e);a=at.merge(a,l,n)}return!0===n.allowSparse?a:at.compact(a)},stringify:function(e,t){var n,r=e,a=function(e){if(!e)return nt;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||nt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$e.default;if(void 0!==e.format){if(!Xe.call($e.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=$e.formatters[n],a=nt.filter;return("function"==typeof e.filter||Ye(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:nt.addQueryPrefix,allowDots:void 0===e.allowDots?nt.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:nt.charsetSentinel,delimiter:void 0===e.delimiter?nt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:nt.encode,encoder:"function"==typeof e.encoder?e.encoder:nt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:nt.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:nt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:nt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:nt.strictNullHandling}}(t);"function"==typeof a.filter?r=(0,a.filter)("",r):Ye(a.filter)&&(n=a.filter);var i,o=[];if("object"!=typeof r||null===r)return"";i=t&&t.arrayFormat in Qe?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=Qe[i];n||(n=Object.keys(r)),a.sort&&n.sort(a.sort);for(var l=Ve(),c=0;c<n.length;++c){var u=n[c];a.skipNulls&&null===r[u]||Ze(o,rt(r[u],u,s,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,l))}var h=o.join(a.delimiter),f=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""}},ft={exports:{}};!function(t,n){var r="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",l="[object Function]",c="[object GeneratorFunction]",u="[object Map]",h="[object Number]",f="[object Object]",p="[object Promise]",d="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",k="[object Float64Array]",T="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",E="[object Uint32Array]",N=/\w*$/,j=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,L={};L[i]=L["[object Array]"]=L[b]=L[w]=L[o]=L[s]=L[_]=L[k]=L[T]=L[x]=L[S]=L[u]=L[h]=L[f]=L[d]=L[m]=L[y]=L[g]=L[C]=L[M]=L[A]=L[E]=!0,L["[object Error]"]=L[l]=L[v]=!1;var H="object"==typeof e&&e&&e.Object===Object&&e,O="object"==typeof self&&self&&self.Object===Object&&self,F=H||O||Function("return this")(),U=n&&!n.nodeType&&n,B=U&&t&&!t.nodeType&&t,I=B&&B.exports===U;function R(e,t){return e.set(t[0],t[1]),e}function D(e,t){return e.add(t),e}function G(e,t,n,r){var a=-1,i=e?e.length:0;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function z(e,t){return function(n){return e(t(n))}}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K,$=Array.prototype,X=Function.prototype,Q=Object.prototype,Y=F["__core-js_shared__"],J=(K=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",Z=X.toString,ee=Q.hasOwnProperty,te=Q.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=I?F.Buffer:void 0,ae=F.Symbol,ie=F.Uint8Array,oe=z(Object.getPrototypeOf,Object),se=Object.create,le=Q.propertyIsEnumerable,ce=$.splice,ue=Object.getOwnPropertySymbols,he=re?re.isBuffer:void 0,fe=z(Object.keys,Object),pe=Be(F,"DataView"),de=Be(F,"Map"),me=Be(F,"Promise"),ye=Be(F,"Set"),ge=Be(F,"WeakMap"),ve=Be(Object,"create"),be=qe(pe),we=qe(de),_e=qe(me),ke=qe(ye),Te=qe(ge),xe=ae?ae.prototype:void 0,Se=xe?xe.valueOf:void 0;function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){this.__data__=new Me(e)}function Ne(e,t){var n=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ve(e)}(e)&&ee.call(e,"callee")&&(!le.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var o in e)!t&&!ee.call(e,o)||a&&("length"==o||De(o,r))||n.push(o);return n}function je(e,t,n){var r=e[t];ee.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Le(e,t,n,r,a,p,v){var j;if(r&&(j=p?r(e,a,p,v):r(e)),void 0!==j)return j;if(!Xe(e))return e;var P=ze(e);if(P){if(j=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,j)}else{var H=Re(e),O=H==l||H==c;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(H==f||H==i||O&&!p){if(q(e))return p?e:{};if(j=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:(t=oe(e),Xe(t)?se(t):{});var t}(O?{}:e),!t)return function(e,t){return Fe(e,Ie(e),t)}(e,function(e,t){return e&&Fe(t,Qe(t),e)}(j,e))}else{if(!L[H])return p?e:{};j=function(e,t,n,r){var a=e.constructor;switch(t){case b:return Oe(e);case o:case s:return new a(+e);case w:return function(e,t){var n=t?Oe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case _:case k:case T:case x:case S:case C:case M:case A:case E:return function(e,t){var n=t?Oe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return G(t?n(W(e),!0):W(e),R,new e.constructor)}(e,r,n);case h:case y:return new a(e);case d:return function(e){var t=new e.constructor(e.source,N.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return G(t?n(V(e),!0):V(e),D,new e.constructor)}(e,r,n);case g:return i=e,Se?Object(Se.call(i)):{}}var i}(e,H,Le,t)}}v||(v=new Ee);var F=v.get(e);if(F)return F;if(v.set(e,j),!P)var U=n?function(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Qe,Ie)}(e):Qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(U||e,(function(a,i){U&&(a=e[i=a]),je(j,i,Le(a,t,n,r,i,e,v))})),j}function He(e){return!(!Xe(e)||(t=e,J&&J in t))&&($e(e)||q(e)?ne:j).test(qe(e));var t}function Oe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Fe(e,t,n,r){n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],s=r?r(n[o],e[o],o,n,e):void 0;je(n,o,void 0===s?e[o]:s)}return n}function Ue(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return He(n)?n:void 0}Ce.prototype.clear=function(){this.__data__=ve?ve(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?r:t,this},Me.prototype.clear=function(){this.__data__=[]},Me.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Me.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},Me.prototype.has=function(e){return Pe(this.__data__,e)>-1},Me.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Ce,map:new(de||Me),string:new Ce}},Ae.prototype.delete=function(e){return Ue(this,e).delete(e)},Ae.prototype.get=function(e){return Ue(this,e).get(e)},Ae.prototype.has=function(e){return Ue(this,e).has(e)},Ae.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},Ee.prototype.clear=function(){this.__data__=new Me},Ee.prototype.delete=function(e){return this.__data__.delete(e)},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Me){var r=n.__data__;if(!de||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var Ie=ue?z(ue,Object):function(){return[]},Re=function(e){return te.call(e)};function De(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function qe(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(pe&&Re(new pe(new ArrayBuffer(1)))!=w||de&&Re(new de)!=u||me&&Re(me.resolve())!=p||ye&&Re(new ye)!=m||ge&&Re(new ge)!=v)&&(Re=function(e){var t=te.call(e),n=t==f?e.constructor:void 0,r=n?qe(n):void 0;if(r)switch(r){case be:return w;case we:return u;case _e:return p;case ke:return m;case Te:return v}return t});var ze=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!$e(e)}var Ke=he||function(){return!1};function $e(e){var t=Xe(e)?te.call(e):"";return t==l||t==c}function Xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qe(e){return Ve(e)?Ne(e):function(e){if(!Ge(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.exports=function(e){return Le(e,!0,!0)}}(ft,ft.exports);var pt=9007199254740991,dt="[object Arguments]",mt="[object Function]",yt="[object GeneratorFunction]",gt=/^(?:0|[1-9]\d*)$/;function vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var bt=Object.prototype,wt=bt.hasOwnProperty,_t=bt.toString,kt=bt.propertyIsEnumerable,Tt=Math.max;function xt(e,t){var n=jt(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Pt(e)}(e)&&wt.call(e,"callee")&&(!kt.call(e,"callee")||_t.call(e)==dt)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var i in e)!t&&!wt.call(e,i)||a&&("length"==i||Et(i,r))||n.push(i);return n}function St(e,t,n,r){return void 0===e||Nt(e,bt[n])&&!wt.call(r,n)?t:e}function Ct(e,t,n){var r=e[t];wt.call(e,t)&&Nt(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Mt(e){if(!Lt(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,a=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||bt,t===r),i=[];for(var o in e)("constructor"!=o||!a&&wt.call(e,o))&&i.push(o);return i}function At(e,t){return t=Tt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=Tt(n.length-t,0),i=Array(a);++r<a;)i[r]=n[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=i,vt(e,this,o)}}function Et(e,t){return!!(t=null==t?pt:t)&&("number"==typeof e||gt.test(e))&&e>-1&&e%1==0&&e<t}function Nt(e,t){return e===t||e!=e&&t!=t}var jt=Array.isArray;function Pt(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=pt}(e.length)&&!function(e){var t=Lt(e)?_t.call(e):"";return t==mt||t==yt}(e)}function Lt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var Ht,Ot=(Ht=function(e,t,n,r){!function(e,t,n,r){n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],s=r?r(n[o],e[o],o,n,e):void 0;Ct(n,o,void 0===s?e[o]:s)}}(t,function(e){return Pt(e)?xt(e,!0):Mt(e)}(t),e,r)},At((function(e,t){var n=-1,r=t.length,a=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(a=Ht.length>3&&"function"==typeof a?(r--,a):void 0,i&&function(e,t,n){if(!Lt(n))return!1;var r=typeof t;return!!("number"==r?Pt(n)&&Et(t,n.length):"string"==r&&t in n)&&Nt(n[t],e)}(t[0],t[1],i)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var o=t[n];o&&Ht(e,o,n,a)}return e}))),Ft=At((function(e){return e.push(void 0,St),vt(Ot,void 0,e)}));var Ut=ht,Bt=ft.exports,It=Ft;var Rt=function({followRoute:e,windowObject:t,propsToCoerceToBool:n}){var r={};return n||(n=[]),t.onhashchange=a,{addToRoute:function(t,n=!0){var a=It(Bt(t),i());o(a),n&&e(a,r)},removeFromRoute:function(t,n=!0){var a=i();delete a[t],o(a),n&&e(a,r)},updateEphemeralState:function(t,n=!0){for(var a in t)r[a]=t[a];n&&e(i(),r)},overwriteRouteEntirely:function(t){o(t),e(t,r)},routeFromHash:a,unpackEncodedRoute:function(t){var n=Ut.parse(decodeURIComponent(t));o(n),e(n,r)},getRouteFromHash:i};function a(){e(i(),r)}function i(){for(var e=Ut.parse(t.location.hash.slice(1)),r=0;r<n.length;++r){const t=n[r];let a=e[t];a="yes"===a||"no"!=a&&!!a,e[t]=a}return e}function o(e){for(var r=Bt(e),a=0;a<n.length;++a){const e=n[a];let t=r[e];t=t?"yes":"no",r[e]=t}var i=t.location.protocol+"//"+t.location.host+t.location.pathname+"#"+Ut.stringify(r);t.history.pushState(null,null,i)}},Dt="http://www.w3.org/1999/xhtml",Gt={svg:"http://www.w3.org/2000/svg",xhtml:Dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qt(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Gt.hasOwnProperty(t)?{space:Gt[t],local:e}:e}function Wt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dt&&t.documentElement.namespaceURI===Dt?t.createElement(e):t.createElementNS(n,e)}}function zt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vt(e){var t=qt(e);return(t.local?zt:Wt)(t)}function Kt(){}function $t(e){return null==e?Kt:function(){return this.querySelector(e)}}function Xt(){return[]}function Qt(e){return null==e?Xt:function(){return this.querySelectorAll(e)}}function Yt(e){return function(){return this.matches(e)}}function Jt(e){return new Array(e.length)}function Zt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zt.prototype={constructor:Zt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function en(e,t,n,r,a,i){for(var o,s=0,l=t.length,c=i.length;s<c;++s)(o=t[s])?(o.__data__=i[s],r[s]=o):n[s]=new Zt(e,i[s]);for(;s<l;++s)(o=t[s])&&(a[s]=o)}function tn(e,t,n,r,a,i,o){var s,l,c,u={},h=t.length,f=i.length,p=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(p[s]=c="$"+o.call(l,l.__data__,s,t),c in u?a[s]=l:u[c]=l);for(s=0;s<f;++s)(l=u[c="$"+o.call(e,i[s],s,i)])?(r[s]=l,l.__data__=i[s],u[c]=null):n[s]=new Zt(e,i[s]);for(s=0;s<h;++s)(l=t[s])&&u[p[s]]===l&&(a[s]=l)}function nn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rn(e){return function(){this.removeAttribute(e)}}function an(e){return function(){this.removeAttributeNS(e.space,e.local)}}function on(e,t){return function(){this.setAttribute(e,t)}}function sn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ln(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function cn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function un(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hn(e){return function(){this.style.removeProperty(e)}}function fn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function dn(e,t){return e.style.getPropertyValue(t)||un(e).getComputedStyle(e,null).getPropertyValue(t)}function mn(e){return function(){delete this[e]}}function yn(e,t){return function(){this[e]=t}}function gn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function vn(e){return e.trim().split(/^|\s+/)}function bn(e){return e.classList||new wn(e)}function wn(e){this._node=e,this._names=vn(e.getAttribute("class")||"")}function _n(e,t){for(var n=bn(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function kn(e,t){for(var n=bn(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function Tn(e){return function(){_n(this,e)}}function xn(e){return function(){kn(this,e)}}function Sn(e,t){return function(){(t.apply(this,arguments)?_n:kn)(this,e)}}function Cn(){this.textContent=""}function Mn(e){return function(){this.textContent=e}}function An(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function En(){this.innerHTML=""}function Nn(e){return function(){this.innerHTML=e}}function jn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Pn(){this.nextSibling&&this.parentNode.appendChild(this)}function Ln(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hn(){return null}function On(){var e=this.parentNode;e&&e.removeChild(this)}function Fn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Un(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}wn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Bn={},In=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Bn={mouseenter:"mouseover",mouseleave:"mouseout"}));function Rn(e,t,n){return e=Dn(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Dn(e,t,n){return function(r){var a=In;In=r;try{e.call(this,this.__data__,t,n)}finally{In=a}}}function Gn(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function qn(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?t.length=a:delete this.__on}}}function Wn(e,t,n){var r=Bn.hasOwnProperty(e.type)?Rn:Dn;return function(a,i,o){var s,l=this.__on,c=r(t,i,o);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function zn(e,t,n,r){var a=In;e.sourceEvent=In,In=e;try{return t.apply(n,r)}finally{In=a}}function Vn(e,t,n){var r=un(e),a=r.CustomEvent;"function"==typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Kn(e,t){return function(){return Vn(this,e,t)}}function $n(e,t){return function(){return Vn(this,e,t.apply(this,arguments))}}var Xn=[null];function Qn(e,t){this._groups=e,this._parents=t}function Yn(){return new Qn([[document.documentElement]],Xn)}function Jn(e){return"string"==typeof e?new Qn([[document.querySelector(e)]],[document.documentElement]):new Qn([[e]],Xn)}Qn.prototype=Yn.prototype={constructor:Qn,select:function(e){"function"!=typeof e&&(e=$t(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o,s=t[a],l=s.length,c=r[a]=new Array(l),u=0;u<l;++u)(i=s[u])&&(o=e.call(i,i.__data__,u,s))&&("__data__"in i&&(o.__data__=i.__data__),c[u]=o);return new Qn(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Qt(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o,s=t[i],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),a.push(o));return new Qn(r,a)},filter:function(e){"function"!=typeof e&&(e=Yt(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o=t[a],s=o.length,l=r[a]=[],c=0;c<s;++c)(i=o[c])&&e.call(i,i.__data__,c,o)&&l.push(i);return new Qn(r,this._parents)},data:function(e,t){if(!e)return d=new Array(this.size()),u=-1,this.each((function(e){d[++u]=e})),d;var n,r=t?tn:en,a=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=i.length,s=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=a[u],f=i[u],p=f.length,d=e.call(h,h&&h.__data__,u,a),m=d.length,y=l[u]=new Array(m),g=s[u]=new Array(m);r(h,f,y,g,c[u]=new Array(p),d,t);for(var v,b,w=0,_=0;w<m;++w)if(v=y[w]){for(w>=_&&(_=w+1);!(b=g[_])&&++_<m;);v._next=b||null}}return(s=new Qn(s,a))._enter=l,s._exit=c,s},enter:function(){return new Qn(this._enter||this._groups.map(Jt),this._parents)},exit:function(){return new Qn(this._exit||this._groups.map(Jt),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(a=t(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],h=c.length,f=o[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(f[p]=l);for(;s<r;++s)o[s]=t[s];return new Qn(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=nn);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,s=n[i],l=s.length,c=a[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new Qn(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,s=i.length;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function(e,t){var n=qt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?an:rn:"function"==typeof t?n.local?cn:ln:n.local?sn:on)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?hn:"function"==typeof t?pn:fn)(e,t,null==n?"":n)):dn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?mn:"function"==typeof t?gn:yn)(e,t)):this.node()[e]},classed:function(e,t){var n=vn(e+"");if(arguments.length<2){for(var r=bn(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?Sn:t?Tn:xn)(n,t))},text:function(e){return arguments.length?this.each(null==e?Cn:("function"==typeof e?An:Mn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?En:("function"==typeof e?jn:Nn)(e)):this.node().innerHTML},raise:function(){return this.each(Pn)},lower:function(){return this.each(Ln)},append:function(e){var t="function"==typeof e?e:Vt(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Vt(e),r=null==t?Hn:"function"==typeof t?t:$t(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(On)},clone:function(e){return this.select(e?Un:Fn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=Gn(e+""),o=i.length;if(!(arguments.length<2)){for(s=t?Wn:qn,null==n&&(n=!1),r=0;r<o;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((a=i[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?$n:Kn)(e,t))}};var Zn=0;function er(){return new tr}function tr(){this._="@"+(++Zn).toString(36)}function nr(){for(var e,t=In;e=t.sourceEvent;)t=e;return t}function rr(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function ar(e){var t=nr();return t.changedTouches&&(t=t.changedTouches[0]),rr(e,t)}function ir(e,t,n){arguments.length<3&&(n=t,t=nr().changedTouches);for(var r,a=0,i=t?t.length:0;a<i;++a)if((r=t[a]).identifier===n)return rr(e,r);return null}tr.prototype=er.prototype={constructor:tr,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var or=t(Object.freeze({__proto__:null,create:function(e){return Jn(Vt(e).call(document.documentElement))},creator:Vt,local:er,matcher:Yt,mouse:ar,namespace:qt,namespaces:Gt,clientPoint:rr,select:Jn,selectAll:function(e){return"string"==typeof e?new Qn([document.querySelectorAll(e)],[document.documentElement]):new Qn([null==e?[]:e],Xn)},selection:Yn,selector:$t,selectorAll:Qt,style:dn,touch:ir,touches:function(e,t){null==t&&(t=nr().touches);for(var n=0,r=t?t.length:0,a=new Array(r);n<r;++n)a[n]=rr(e,t[n]);return a},window:un,get event(){return In},customEvent:zn}));var sr=function(){var e={};return{setListener:t,on:function(e,n,r){t({eventName:n,listener:r,element:document.querySelector(e)})}};function t({eventName:t,listener:n,element:r}){const a=`${r.id}|${t}`;var i=e[a];i&&r.removeEventListener(t,i),r.addEventListener(t,n),e[a]=n}},{select:lr}=or,cr=sr,ur=lr("#start-container"),{on:hr}=cr();var fr=function({onStart:e}){hr("#start-button","click",(function(){ur.classed("hidden",!0),e()}))};var pr=function({ticksTicked:e,riff:t,pan:n,ctx:r,delaySeconds:a=0,vibratoOn:i,sampleDownloader:o}){if(!o.downloadStatus.samplesDownloaded)return void console.error(new Error("Samples not downloaded yet!"));const s=t[e%t.length];var l,c=o.downloadStatus.sampleBuffers[s.pitchIndex],u=r.createBufferSource();u.buffer=c,i&&(l=function({rateFreq:e,pitchVariance:t,ctx:n}){var r=n.createOscillator();r.frequency.value=e;var a=n.createGain();return a.gain.value=t,r.connect(a),{generator:r,amp:a}}({rateFreq:165,pitchVariance:10,ctx:r}));var h=r.createGain(),f=r.createStereoPanner();f.pan.value=n,i&&l.amp.connect(u.detune),u.connect(h),h.connect(f),f.connect(r.destination);const p=r.currentTime+a,d=p+1;h.gain.value=s.startVol,h.gain.setTargetAtTime(s.midVol,p,.01),h.gain.setTargetAtTime(0,d,.99),u.start(p),u.stop(d+2),i&&(l.generator.start(p),l.generator.stop(d+2))},dr={exports:{}};(function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.alea=i})(0,dr,!1);var mr={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor128=i}(0,e,!1)}(mr);var yr={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorwow=i}(0,e,!1)}(yr);var gr={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&(i.x&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorshift7=i}(0,e,!1)}(gr);var vr={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&(i.X&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor4096=i}(0,e,!1)}(vr);var br={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.tychei=i}(0,e,!1)}(br);var wr={exports:{}};!function(t){!function(e,n,r){var a,i=256,o=r.pow(i,6),s=r.pow(2,52),l=2*s,c=255;function u(t,c,u){var y=[],g=d(p((c=1==c?{entropy:!0}:c||{}).entropy?[t,m(n)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(i):(t=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(t)),m(t)}catch(t){var r=e.navigator,o=r&&r.plugins;return[+new Date,e,o,e.screen,m(n)]}}():t,3),y),v=new h(y),b=function(){for(var e=v.g(6),t=o,n=0;e<s;)e=(e+n)*i,t*=i,n=v.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|v.g(4)},b.quick=function(){return v.g(4)/4294967296},b.double=b,d(m(v.S),n),(c.pass||u||function(e,t,n,a){return a&&(a.S&&f(a,v),e.state=function(){return f(v,{})}),n?(r.random=e,t):e})(b,g,"global"in c?c.global:this==r,c.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<i;)s[a]=a++;for(a=0;a<i;a++)s[a]=s[o=c&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=c&a+1],n=n*i+s[c&(s[a]=s[o=c&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(i)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(p(e[n],t-1))}catch(e){}return r.length?r:"string"==a?e:e+"\0"}function d(e,t){for(var n,r=e+"",a=0;a<r.length;)t[c&a]=c&(n^=19*t[c&a])+r.charCodeAt(a++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(d(r.random(),n),t.exports){t.exports=u;try{a=D}catch(e){}}else r.seedrandom=u}("undefined"!=typeof self?self:e,[],Math)}(wr);var _r=dr.exports,kr=mr.exports,Tr=yr.exports,xr=gr.exports,Sr=vr.exports,Cr=br.exports,Mr=wr.exports;Mr.alea=_r,Mr.xor128=kr,Mr.xorwow=Tr,Mr.xorshift7=xr,Mr.xor4096=Sr,Mr.tychei=Cr;var Ar=Mr,Er=Lr,Nr=[],jr={},Pr=0;function Lr(e,t,n,r){var a=jr[Pr+=1]={id:Pr,cb:r,length:e,decay:t,reverse:n,impulseL:new Float32Array(e),impulseR:new Float32Array(e)};return Nr.push([a.id,0,Math.min(2048,e)]),setTimeout(Hr,1),Pr}function Hr(){var e=Nr.shift();if(e){var t=jr[e[0]];if(t){for(var n=t.length,r=t.decay,a=t.reverse,i=e[1],o=e[2],s=t.impulseL,l=t.impulseR,c=i;c<o;c++){var u=a?n-c:c;s[c]=(2*Math.random()-1)*Math.pow(1-u/n,r),l[c]=(2*Math.random()-1)*Math.pow(1-u/n,r)}o>=n-1?(delete jr[e[0]],t.cb([t.impulseL,t.impulseR])):Nr.push([t.id,o,Math.min(o+2048,n)])}}Nr.length&&setTimeout(Hr,5)}Lr.cancel=function(e){return!!jr[e]&&(delete jr[e],!0)};var Or=Er,Fr=function(e){var t=e.createGain(),n=t._dry=e.createGain(),r=t._wet=e.createGain(),a=t.output=e.createGain(),i=t._convolver=e.createConvolver(),o=t._filter=e.createBiquadFilter();return t.connect(n),t.connect(r),i.connect(o),n.connect(a),r.connect(i),o.connect(a),Object.defineProperties(t,Ur),t._time=3,t._decay=2,t._reverse=!1,t.cutoff.value=2e4,t.filterType="lowpass",t._building=!1,t._buildImpulse(),t};var Ur={connect:{value:function(){this.output.connect.apply(this.output,arguments)}},disconnect:{value:function(){this.output.disconnect.apply(this.output,arguments)}},wet:{get:function(){return this._wet.gain}},dry:{get:function(){return this._dry.gain}},cutoff:{get:function(){return this._filter.frequency}},filterType:{get:function(){return this._filter.type},set:function(e){this._filter.type=e}},_buildImpulse:{value:function(){var e=this,t=e.context.sampleRate,n=Math.max(t*e.time,1);e._building&&Or.cancel(e._building),e._building=Or(n,e.decay,e.reverse,(function(r){var a=e.context.createBuffer(2,n,t);a.getChannelData(0).set(r[0]),a.getChannelData(1).set(r[1]),e._convolver.buffer=a,e._building=!1}))}},time:{enumerable:!0,get:function(){return this._time},set:function(e){this._time=e,this._buildImpulse()}},decay:{enumerable:!0,get:function(){return this._decay},set:function(e){this._decay=e,this._buildImpulse()}},reverse:{enumerable:!0,get:function(){return this._reverse},set:function(e){this._reverse=e,this._buildImpulse()}}},Br=Ar,Ir=Fr;class Rr{constructor(e,t){this.ctx=e,this.params=t,this.node=null}node(){return this.node}connect({synthNode:e,audioNode:t}){if(t)this.node.connect(t);else{if(!e)throw new Error("No synthNode or raw AudioNode passed to connect.");this.node.connect(e.node)}}play({startTime:e,endTime:t}){try{this.node.start(e),isNaN(t)||this.node.stop(t)}catch(e){console.log(e)}}}var Dr,Gr={Carrier:class extends Rr{constructor(e,t){super(e,t),this.node=this.ctx.createOscillator(),"custom"===this.params.carrierWaveType&&this.params.carrierCustomWaveArrayLength&&this.params.carrierCustomWaveSeed?this.node.setPeriodicWave(function({carrierCustomWaveArrayLength:e,carrierCustomWaveSeed:t,ctx:n}){var r=Br(t),a=new Float32Array(e),i=new Float32Array(e);a[0]=0,i[0]=0;for(var o=1;o<e;++o)a[o]=2*r()-1,i[o]=2*r()-1;return n.createPeriodicWave(a,i)}({carrierCustomWaveArrayLength:this.params.carrierCustomWaveArrayLength,carrierCustomWaveSeed:this.params.carrierCustomWaveSeed,ctx:this.ctx})):(this.node.type=this.params.carrierWaveType,this.node.frequency.value=this.params.carrierFreq)}},VibratoGenerator:class extends Rr{constructor(e,t){super(e,t),this.node=this.ctx.createOscillator(),this.node.frequency.value=this.params.rateFreq}},VibratoAmp:class extends Rr{constructor(e,t){super(e,t),this.node=this.ctx.createGain(),this.node.gain.value=this.params.pitchVariance}connect({synthNode:e,audioNode:t}){var n=(t||e.node)[this.params.destProp||"detune"];this.node.connect(n)}play(){}},Envelope:class extends Rr{constructor(e,t){super(e,t),this.node=this.ctx.createGain()}play({startTime:e,endTime:t}){this.node.gain.value=0,this.node.gain.setTargetAtTime(this.params.envelopeMaxGain,e,this.params.envelopePeakRateK),this.node.gain.setTargetAtTime(0,Math.max(t-this.params.timeNeededForEnvelopeDecay,e),this.params.envelopeDecayRateK)}},Reverb:class extends Rr{constructor(e,t){super(e,t),this.node=this.ctx.createGain(),this.node=Ir(e),this.node.time=this.params.reverbSeconds,this.node.wet.value=this.params.reverbWet,this.node.dry.value=this.params.reverbDry}play(){}},Compressor:class extends Rr{constructor(e,t){super(e,t),this.node=e.createDynamicsCompressor()}play({startTime:e}){this.node.threshold.setValueAtTime(this.params.compressorThreshold,e),this.node.knee.setValueAtTime(this.params.compressorKnee,e),this.node.ratio.setValueAtTime(this.params.compressorRatio,e),this.node.attack.setValueAtTime(this.params.compressorAttack,e),this.node.release.setValueAtTime(this.params.compressorRelease,e)}},Sampler:class extends Rr{constructor(e,t){super(e,t),this.node=e.createBufferSource(),this.node.buffer=t.sampleBuffer,t.sampleDetune&&(this.node.detune.value=t.sampleDetune)}play({startTime:e,endTime:t}){this.node.start(e),this.node.stop(t+this.params.timeNeededForEnvelopeDecay)}},Gain:class extends Rr{constructor(e,t){super(e,t),this.node=this.ctx.createGain(),this.node.gain.value=this.params.gain}play(){}}},{Carrier:qr,VibratoGenerator:Wr,VibratoAmp:zr,Envelope:Vr,Reverb:Kr,Compressor:$r,Sampler:Xr,Gain:Qr}=Gr;function Yr(e,t){Array.isArray(t)?t.forEach((t=>e.connect({synthNode:t}))):e.connect({synthNode:t})}var Jr=function({modOn:e=!1,modIndex:t,modFreq:n,carrierOn:r=!1,carrierWaveType:a,carrierFreq:i,carrierCustomWaveArrayLength:o,carrierCustomWaveSeed:s,envelopeOn:l=!1,envelopeMaxGain:c=.3,envelopePeakRateK:u,envelopeDecayRateK:h,timeNeededForEnvelopeDecay:f=1,vibratoOn:p=!1,vibratoRateHz:d,vibratoPitchVarCents:m,delaySeconds:y=0,soundDurationSeconds:g,reverbOn:v=!1,reverbSeconds:b,reverbWet:w,reverbDry:_,useCachedReverb:k=!0,compressorOn:T=!1,compressorThreshold:x=-50,compressorKnee:S=40,compressorRatio:C=12,compressorAttack:M=0,compressorRelease:A=.25,samplerOn:E=!1,samplerKits:N=[],gainOn:j=!1,gain:P=1,ctx:L,addToChain:H}){var O=[];!function(){if(E)O.push(N.map((e=>new Xr(L,{sampleBuffer:e.sampleBuffer,sampleDetune:e.sampleDetune,timeNeededForEnvelopeDecay:f}))));else if(p&&(O.push(new Wr(L,{rateFreq:d})),O.push(new zr(L,{pitchVariance:m}))),e){const e=t*n;O.push(new Wr(L,{rateFreq:n})),O.push(new zr(L,{pitchVariance:e,destProp:"frequency"}))}r&&O.push(new qr(L,{carrierFreq:i,carrierWaveType:a,carrierCustomWaveArrayLength:o,carrierCustomWaveSeed:s}));j&&O.push(new Qr(L,{gain:P}));l&&O.push(new Vr(L,{envelopeMaxGain:c,envelopePeakRateK:u,envelopeDecayRateK:h,timeNeededForEnvelopeDecay:f}));v&&(k&&Dr||(Dr=new Kr(L,{reverbSeconds:b,reverbWet:w,reverbDry:_})),O.push(Dr));T&&O.push(new $r(L,{compressorThreshold:x,compressorKnee:S,compressorRatio:C,compressorAttack:M,compressorRelease:A}));for(var y=0;y<O.length;++y){let e,t=O[y];y+1===O.length?Array.isArray(t)?t.forEach((e=>e.connect({audioNode:L.destination}))):t.connect({audioNode:L.destination}):(e=O[y+1],Array.isArray(t)?t.forEach((t=>Yr(t,e))):Yr(t,e))}}(),H&&H(O),function(){const e=L.currentTime+y,t=e+ +g;O.forEach((function(n){Array.isArray(n)?n.forEach((n=>n.play({startTime:e,endTime:t}))):n.play({startTime:e,endTime:t})}))}()},Zr=[{yearsFromNow:0,years:{base:0,exp:1},contentHTML:"Now. You are alive and listening to this piece.",category:"earth",id:"event-EBME",startTimeInCompactUnits:0,easedStartTime:0,cleanedContentHTML:"Now. You are alive and listening to this piece.",skimmableContent:"Now. You are alive and listening to this piece."},{yearsFromNow:"10,000",contentHTML:'The <a href="/wiki/Red_supergiant_star" title="Red supergiant star">red supergiant star</a> <a href="/wiki/Antares" title="Antares">Antares</a> will likely have exploded in a <a href="/wiki/Supernova" title="Supernova">supernova</a>. The explosion is expected to be easily visible in daylight.<sup id="cite_ref-hockey_10-0" class="reference"><a href="#cite_note-hockey-10">[8]</a></sup>',years:{base:1e4,exp:1},category:"galaxy",id:"event-BRoq",startTimeInCompactUnits:4,easedStartTime:4,cleanedContentHTML:"The red supergiant star Antares will likely have exploded in a supernova. The explosion is expected to be easily visible in daylight.[8]",skimmableContent:"The red supergiant star Antares will likely have exploded."},{yearsFromNow:"15,000",contentHTML:'According to the <a href="/wiki/Sahara_pump_theory" title="Sahara pump theory">Sahara pump theory</a>, the <a href="/wiki/Precession" title="Precession">precession</a> of Earth\'s poles will move the <a href="/wiki/North_African_Monsoon" class="mw-redirect" title="North African Monsoon">North African Monsoon</a> far enough north to convert the <a href="/wiki/Sahara" title="Sahara">Sahara</a> back into a tropical climate, <a href="/wiki/Neolithic_Subpluvial" title="Neolithic Subpluvial">as it was</a> 5,00010,000 years ago.<sup id="cite_ref-tropicalsahara1_11-0" class="reference"><a href="#cite_note-tropicalsahara1-11">[9]</a></sup><sup id="cite_ref-tropicalsahara2_12-0" class="reference"><a href="#cite_note-tropicalsahara2-12">[10]</a></sup>',years:{base:15e3,exp:1},category:"earth",id:"event-NOuX",startTimeInCompactUnits:4.176091259055681,easedStartTime:4.699234656595423,cleanedContentHTML:"According to the Sahara pump theory, the precession of Earth's poles will move the North African Monsoon far enough north to convert the Sahara back into a tropical climate, as it was 5,00010,000 years ago.[9][10]",skimmableContent:"The Sahara's climate will become tropical."},{yearsFromNow:"36,000",contentHTML:'The small <a href="/wiki/Red_dwarf" title="Red dwarf">red dwarf</a> <a href="/wiki/Ross_248" title="Ross 248">Ross 248</a> will pass within 3.024 light-years of Earth, becoming the closest star to the Sun.<sup id="cite_ref-Matthews1993_15-0" class="reference"><a href="#cite_note-Matthews1993-15">[13]</a></sup> It will recede after about 8,000 years, making first <a href="/wiki/Alpha_Centauri" title="Alpha Centauri">Alpha Centauri</a> again and then <a href="/wiki/Gliese_445" title="Gliese 445">Gliese 445</a> the nearest stars<sup id="cite_ref-Matthews1993_15-1" class="reference"><a href="#cite_note-Matthews1993-15">[13]</a></sup> (<a href="/wiki/List_of_nearest_stars_and_brown_dwarfs#Distant_future_and_past_encounters" title="List of nearest stars and brown dwarfs">see timeline</a>).',years:{base:36e3,exp:1},category:"earth",id:"event-BJCq",startTimeInCompactUnits:4.556302500767287,easedStartTime:6.174799731025908,cleanedContentHTML:"The small red dwarf Ross 248 will pass within 3.024 light-years of Earth, becoming the closest star to the Sun.[13] It will recede after about 8,000 years, making first Alpha Centauri again and then Gliese 445 the nearest stars[13] (see timeline).",skimmableContent:"The small red dwarf Ross 248 will pass within 3.024 light-years of Earth, becoming the closest star to the Sun."},{yearsFromNow:"50,000",contentHTML:'According to Berger and Loutre, the current <a href="/wiki/Interglacial" title="Interglacial">interglacial</a> period ends,<sup id="cite_ref-Berger2002_16-0" class="reference"><a href="#cite_note-Berger2002-16">[14]</a></sup> sending the Earth back into a <a href="/wiki/Glacial_period" title="Glacial period">glacial period</a> of the current <a href="/wiki/Ice_age" title="Ice age">ice age</a>, regardless of the effects of anthropogenic <a href="/wiki/Global_warming" title="Global warming">global warming</a>.<p><a href="/wiki/Niagara_Falls" title="Niagara Falls">Niagara Falls</a> will have eroded away the remaining 32&nbsp;km to <a href="/wiki/Lake_Erie" title="Lake Erie">Lake Erie</a>, and cease to exist.<sup id="cite_ref-Niagara_Parks_17-0" class="reference"><a href="#cite_note-Niagara_Parks-17">[15]</a></sup></p><p>The many <a href="/wiki/Glacial_lake" title="Glacial lake">glacial lakes</a> of the <a href="/wiki/Canadian_Shield" title="Canadian Shield">Canadian Shield</a> will have been erased by <a href="/wiki/Post-glacial_rebound" title="Post-glacial rebound">post-glacial rebound</a> and erosion.<sup id="cite_ref-18" class="reference"><a href="#cite_note-18">[16]</a></sup></p>',years:{base:5e4,exp:1},category:"earth",id:"event-CjwF",startTimeInCompactUnits:4.698970004336019,easedStartTime:6.716757840690438,cleanedContentHTML:"According to Berger and Loutre, the current interglacial period ends,[14] sending the Earth back into a glacial period of the current ice age, regardless of the effects of anthropogenic global warming.<p>Niagara Falls will have eroded away the remaining 32km to Lake Erie, and cease to exist.[15]</p><p>The many glacial lakes of the Canadian Shield will have been erased by post-glacial rebound and erosion.[16]</p>",skimmableContent:"The Earth returns to a glacial period of the current ice age. Niagara Falls will cease to exist."},{yearsFromNow:"100,000",contentHTML:'The <a href="/wiki/Proper_motion" title="Proper motion">proper motion</a> of stars across the <a href="/wiki/Celestial_sphere" title="Celestial sphere">celestial sphere</a>, which is the result of their movement through the <a href="/wiki/Milky_Way" title="Milky Way">Milky Way</a>, renders many of the <a href="/wiki/Constellation" title="Constellation">constellations</a> unrecognisable.<sup id="cite_ref-Tapping_2005_20-0" class="reference"><a href="#cite_note-Tapping_2005-20">[18]</a></sup>',years:{base:1e5,exp:1},category:"galaxy",id:"event-qplV",startTimeInCompactUnits:5,easedStartTime:7.84,cleanedContentHTML:"The proper motion of stars across the celestial sphere, which is the result of their movement through the Milky Way, renders many of the constellations unrecognisable.[18]",skimmableContent:"The motion of stars renders many of the constellations unrecognisable."},{yearsFromNow:"100,000",contentHTML:'The <a href="/wiki/Hypergiant" title="Hypergiant">hypergiant</a> star <a href="/wiki/VY_Canis_Majoris" title="VY Canis Majoris">VY Canis Majoris</a> will likely have exploded in a <a href="/wiki/Superluminous_supernova" title="Superluminous supernova">hypernova</a>.<sup id="cite_ref-Monnier_Tuthill_Lopez_1999_21-0" class="reference"><a href="#cite_note-Monnier_Tuthill_Lopez_1999-21">[19]</a></sup>',years:{base:1e5,exp:1},category:"galaxy",id:"event-lASx",startTimeInCompactUnits:5,easedStartTime:7.84,cleanedContentHTML:"The hypergiant star VY Canis Majoris will likely have exploded in a hypernova.[19]",skimmableContent:"The hypergiant star VY Canis Majoris will likely have exploded."},{yearsFromNow:"100,000",contentHTML:'Earth will likely have undergone a <a href="/wiki/Supervolcanic" class="mw-redirect" title="Supervolcanic">supervolcanic</a> eruption large enough to erupt 400&nbsp;km<sup>3</sup> (96 cubic miles) of <a href="/wiki/Magma" title="Magma">magma</a>. For comparison, <a href="/wiki/Lake_Erie" title="Lake Erie">Lake Erie</a> is 484&nbsp;km<sup>3</sup> (116&nbsp;cu&nbsp;mi).<sup id="cite_ref-toba_22-0" class="reference"><a href="#cite_note-toba-22">[20]</a></sup>',years:{base:1e5,exp:1},category:"earth",id:"event-ytaS",startTimeInCompactUnits:5,easedStartTime:7.84,cleanedContentHTML:"Earth will likely have undergone a supervolcanic eruption large enough to erupt 400km3 (96 cubic miles) of magma. For comparison, Lake Erie is 484km3 (116cumi).[20]",skimmableContent:"Earth will likely have undergone a supervolcanic eruption with enough Magma to fill Lake Erie."},{yearsFromNow:"100,000",contentHTML:'Native North American <a href="/wiki/Earthworm" title="Earthworm">earthworms</a>, such as <a href="/wiki/Megascolecidae" title="Megascolecidae">Megascolecidae</a>, will have naturally spread north through the United States <a href="/wiki/Upper_Midwest" title="Upper Midwest">Upper Midwest</a> to the <a href="/wiki/Canada%E2%80%93United_States_border" title="CanadaUnited States border">CanadaUS border</a>, recovering from the <a href="/wiki/Laurentide_Ice_Sheet" title="Laurentide Ice Sheet">Laurentide Ice Sheet</a> glaciation (38N to 49N), assuming a migration rate of 10&nbsp;metres per year.<sup id="cite_ref-23" class="reference"><a href="#cite_note-23">[21]</a></sup> (However, non-native <a href="/wiki/Invasive_earthworms_of_North_America" title="Invasive earthworms of North America">invasive earthworms of North America</a> have already been introduced by humans on a much shorter timescale, causing a shock to the regional <a href="/wiki/Ecosystem" title="Ecosystem">ecosystem</a>.)',years:{base:1e5,exp:1},category:"earth",id:"event-TLdB",startTimeInCompactUnits:5,easedStartTime:7.84,cleanedContentHTML:"Native North American earthworms, such as Megascolecidae, will have naturally spread north through the United States Upper Midwest to the CanadaUS border, recovering from the Laurentide Ice Sheet glaciation (38N to 49N), assuming a migration rate of 10metres per year.[21] (However, non-native invasive earthworms of North America have already been introduced by humans on a much shorter timescale, causing a shock to the regional ecosystem.)",skimmableContent:"Native North American earthworms will have naturally spread to the CanadaUS border."},{yearsFromNow:"> 100,000",contentHTML:'As one of the <a href="/wiki/Long-term_effects_of_global_warming" title="Long-term effects of global warming">long-term effects of global warming</a>, 10% of <a href="/wiki/Greenhouse_gas" title="Greenhouse gas">anthropogenic carbon dioxide</a> will still remain in a stabilized atmosphere.<sup id="cite_ref-24" class="reference"><a href="#cite_note-24">[22]</a></sup>',years:{base:1e5,exp:1},category:"earth",id:"event-EQlf",startTimeInCompactUnits:5,easedStartTime:7.84,cleanedContentHTML:"As one of the long-term effects of global warming, 10% of anthropogenic carbon dioxide will still remain in a stabilized atmosphere.[22]",skimmableContent:"As one of the long-term effects of global warming, 10% of anthropogenic carbon dioxide will still remain in a stabilized atmosphere."},{yearsFromNow:"250,000",contentHTML:'<a href="/wiki/L%C5%8D%CA%BBihi_Seamount" title="Lihi Seamount">Lihi</a>, the youngest volcano in the <a href="/wiki/Hawaiian%E2%80%93Emperor_seamount_chain" title="HawaiianEmperor seamount chain">HawaiianEmperor seamount chain</a>, will rise above the surface of the ocean and become a new <a href="/wiki/High_island" title="High island">volcanic island</a>.<sup id="cite_ref-havo_25-0" class="reference"><a href="#cite_note-havo-25">[23]</a></sup>',years:{base:25e4,exp:1},category:"earth",id:"event-kKdb",startTimeInCompactUnits:5.3979400086720375,easedStartTime:9.283981330245394,cleanedContentHTML:"Lihi, the youngest volcano in the HawaiianEmperor seamount chain, will rise above the surface of the ocean and become a new volcanic island.",skimmableContent:"Lihi, the youngest volcano in the HawaiianEmperor seamount chain, will rise above the surface of the ocean and become a new volcanic island.",speakableContent:"Low eehee, the youngest volcano in the HawaiianEmperor seamount chain, will rise above the surface of the ocean and become a new volcanic island."},{yearsFromNow:"c. 300,000",contentHTML:'At some point in the next "several" hundred thousand years, the <a href="/wiki/Wolf%E2%80%93Rayet_star" title="WolfRayet star">WolfRayet star</a> <a href="/wiki/WR_104" title="WR 104">WR 104</a> is expected to explode in a <a href="/wiki/Supernova" title="Supernova">supernova</a>. It has been suggested that it may produce a <a href="/wiki/Gamma-ray_burst" title="Gamma-ray burst">gamma-ray burst</a> that could pose a threat to life on Earth should its poles be aligned 12 or lower towards Earth. The star\'s axis of rotation has yet to be determined with certainty.<sup id="cite_ref-26" class="reference"><a href="#cite_note-26">[24]</a></sup>',years:{base:3e5,exp:1},category:"galaxy",id:"event-oTNP",startTimeInCompactUnits:5.477121254719663,easedStartTime:9.56592085249107,cleanedContentHTML:'At some point in the next "several" hundred thousand years, the WolfRayet star WR 104 is expected to explode in a supernova. It has been suggested that it may produce a gamma-ray burst that could pose a threat to life on Earth should its poles be aligned 12 or lower towards Earth. The star\'s axis of rotation has yet to be determined with certainty.[24]',skimmableContent:"The WolfRayet star WR 104 is expected to explode; it may produce a gamma-ray burst that could pose a threat to life on Earth."},{yearsFromNow:"500,000",contentHTML:'Earth will likely have been hit by an asteroid of roughly 1&nbsp;km in diameter, <a href="/wiki/Asteroid_impact_avoidance" title="Asteroid impact avoidance">assuming it cannot be averted</a>.<sup id="cite_ref-Bostrom_2002_27-0" class="reference"><a href="#cite_note-Bostrom_2002-27">[25]</a></sup>',years:{base:5e5,exp:1},category:"earth",id:"event-VHRY",startTimeInCompactUnits:5.698970004336019,easedStartTime:10.346601454795223,cleanedContentHTML:"Earth will likely have been hit by an asteroid of roughly 1km in diameter, assuming it cannot be averted.[25]",skimmableContent:"Earth will likely have been hit by an asteroid of roughly 1km in diameter."},{yearsFromNow:"500,000",contentHTML:'The rugged terrain of <a href="/wiki/Badlands_National_Park" title="Badlands National Park">Badlands National Park</a> in <a href="/wiki/South_Dakota" title="South Dakota">South Dakota</a> will have eroded away completely.<sup id="cite_ref-28" class="reference"><a href="#cite_note-28">[26]</a></sup>',years:{base:5e5,exp:1},category:"earth",id:"event-DciZ",startTimeInCompactUnits:5.698970004336019,easedStartTime:10.346601454795223,cleanedContentHTML:"The rugged terrain of Badlands National Park in South Dakota will have eroded away completely.[26]",skimmableContent:"The rugged terrain of Badlands National Park in South Dakota will have eroded away completely."},{yearsFromNow:"950,000",contentHTML:'<a href="/wiki/Meteor_Crater" title="Meteor Crater">Meteor Crater</a>, a large <a href="/wiki/Impact_crater" title="Impact crater">impact crater</a> in Arizona considered the "freshest" of its kind, will have eroded away.<sup id="cite_ref-29" class="reference"><a href="#cite_note-29">[27]</a></sup>',years:{base:95e4,exp:1},category:"earth",id:"event-TjbW",startTimeInCompactUnits:5.977723605288848,easedStartTime:11.30862599789441,cleanedContentHTML:'Meteor Crater, a large impact crater in Arizona considered the "freshest" of its kind, will have eroded away.[27]',skimmableContent:"Meteor Crater in Arizona will have eroded away."},{yearsFromNow:"1 million",contentHTML:'Highest estimated time until the <a href="/wiki/Red_supergiant_star" title="Red supergiant star">red supergiant star</a> <a href="/wiki/Betelgeuse" title="Betelgeuse">Betelgeuse</a> explodes in a <a href="/wiki/Supernova" title="Supernova">supernova</a>. The explosion is expected to be easily visible in daylight.<sup id="cite_ref-beteldeath_30-0" class="reference"><a href="#cite_note-beteldeath-30">[28]</a></sup><sup id="cite_ref-betel_31-0" class="reference"><a href="#cite_note-betel-31">[29]</a></sup> It may explode in as little as 100,000 years, if particular evolutionary models turn out to be correct.',years:{base:1e6,exp:1},category:"galaxy",id:"event-EffI",startTimeInCompactUnits:6,easedStartTime:11.384615384615385,cleanedContentHTML:"The red supergiant star Betelgeuse explodes in a supernova. The explosion is expected to be easily visible in daylight.[28][29] It may explode in as little as 100,000 years, if particular evolutionary models turn out to be correct.",skimmableContent:"Highest estimated time until the red supergiant star Betelgeuse explodes."},{yearsFromNow:"1 million",contentHTML:'<a href="/wiki/Desdemona_(moon)" title="Desdemona (moon)">Desdemona</a> and <a href="/wiki/Cressida_(moon)" title="Cressida (moon)">Cressida</a>, moons of <a href="/wiki/Uranus" title="Uranus">Uranus</a>, will likely have collided.<sup id="cite_ref-Uranus_32-0" class="reference"><a href="#cite_note-Uranus-32">[30]</a></sup>',years:{base:1e6,exp:1},category:"solar",id:"event-bPbV",startTimeInCompactUnits:6,easedStartTime:11.384615384615385,cleanedContentHTML:"Desdemona and Cressida, moons of Uranus, will likely have collided.[30]",skimmableContent:"Desdemona and Cressida, moons of Uranus, will likely have collided."},{yearsFromNow:"2 million",contentHTML:'Estimated time for the recovery of <a href="/wiki/Coral_reef" title="Coral reef">coral reef</a> ecosystems from human-caused <a href="/wiki/Ocean_acidification" title="Ocean acidification">ocean acidification</a>; a similar time was taken for the recovery of marine ecosystems after the acidification event that occurred about 65 million years ago.<sup id="cite_ref-34" class="reference"><a href="#cite_note-34">[32]</a></sup>',years:{base:2e6,exp:1},category:"earth",id:"event-Nwgx",startTimeInCompactUnits:6.301029995663981,easedStartTime:12.398868014680788,cleanedContentHTML:"Estimated time for the recovery of coral reef ecosystems from human-caused ocean acidification; a similar time was taken for the recovery of marine ecosystems after the acidification event that occurred about 65 million years ago.[32]",skimmableContent:"Estimated time for the recovery of coral reef ecosystems from human-caused ocean acidification."},{yearsFromNow:"2 million+",contentHTML:'The <a href="/wiki/Grand_Canyon" title="Grand Canyon">Grand Canyon</a> will erode further, deepening slightly, but principally widening into a broad valley surrounding the <a href="/wiki/Colorado_River" title="Colorado River">Colorado River</a>.<sup id="cite_ref-35" class="reference"><a href="#cite_note-35">[33]</a></sup>',years:{base:2e6,exp:1},category:"earth",id:"event-tkYx",startTimeInCompactUnits:6.301029995663981,easedStartTime:12.398868014680788,cleanedContentHTML:"The Grand Canyon will erode further, deepening slightly, but principally widening into a broad valley surrounding the Colorado River.[33]",skimmableContent:"The Grand Canyon will erode further widening into a broad valley."},{yearsFromNow:"10 million",contentHTML:'The widening <a href="/wiki/East_African_Rift" title="East African Rift">East African Rift</a> valley is flooded by the <a href="/wiki/Red_Sea" title="Red Sea">Red Sea</a>, causing a new ocean basin to divide the continent of <a href="/wiki/Africa" title="Africa">Africa</a><sup id="cite_ref-rift_37-0" class="reference"><a href="#cite_note-rift-37">[35]</a></sup> and the <a href="/wiki/African_Plate" title="African Plate">African Plate</a> into the newly formed Nubian Plate and the <a href="/wiki/Somali_Plate" title="Somali Plate">Somali Plate</a>.',years:{base:1e7,exp:1},category:"earth",id:"event-yqTm",startTimeInCompactUnits:7,easedStartTime:14.666666666666666,cleanedContentHTML:"The widening East African Rift valley is flooded by the Red Sea, causing a new ocean basin to divide the continent of Africa[35] and the African Plate into the newly formed Nubian Plate and the Somali Plate.",skimmableContent:"The widening East African Rift valley is flooded by the Red Sea, causing a new ocean basin to divide the continent of Africa."},{yearsFromNow:"10 million",contentHTML:'Estimated time for full recovery of <a href="/wiki/Biodiversity" title="Biodiversity">biodiversity</a> after a potential <a href="/wiki/Holocene_extinction" title="Holocene extinction">Holocene extinction</a>, if it were on the scale of the five previous <a href="/wiki/Extinction_event" title="Extinction event">major extinction events</a>.<sup id="cite_ref-38" class="reference"><a href="#cite_note-38">[36]</a></sup><p>Even without a mass extinction, by this time most current species will have disappeared through the <a href="/wiki/Background_extinction_rate" title="Background extinction rate">background extinction rate</a>, with many <a href="/wiki/Clade" title="Clade">clades</a> gradually evolving into new forms.<sup id="cite_ref-39" class="reference"><a href="#cite_note-39">[37]</a></sup></p>',years:{base:1e7,exp:1},category:"earth",id:"event-iTbh",startTimeInCompactUnits:7,easedStartTime:14.666666666666666,cleanedContentHTML:"Estimated time for full recovery of biodiversity after a potential Holocene extinction, if it were on the scale of the five previous major extinction events.[36]<p>Even without a mass extinction, by this time most current species will have disappeared through the background extinction rate, with many clades gradually evolving into new forms.[37]</p>",skimmableContent:"Estimated time for full recovery of biodiversity after a potential Holocene extinction."},{yearsFromNow:"10 to 1,000 million",contentHTML:'<a href="/wiki/Cupid_(moon)" title="Cupid (moon)">Cupid</a> and <a href="/wiki/Belinda_(moon)" title="Belinda (moon)">Belinda</a>, moons of <a href="/wiki/Uranus" title="Uranus">Uranus</a>, will likely have collided.<sup id="cite_ref-Uranus_32-1" class="reference"><a href="#cite_note-Uranus-32">[30]</a></sup>',years:{base:175e5,exp:1},category:"solar",id:"event-isjh",startTimeInCompactUnits:7.243038048686294,easedStartTime:15.427934436588917,cleanedContentHTML:"Cupid and Belinda, moons of Uranus, will likely have collided.[30]",skimmableContent:"Cupid and Belinda, moons of Uranus, will likely have collided."},{yearsFromNow:"25 million",contentHTML:'According to <a href="/wiki/Christopher_R._Scotese" class="mw-redirect" title="Christopher R. Scotese">Christopher R. Scotese</a>, the movement of the <a href="/wiki/San_Andreas_Fault" title="San Andreas Fault">San Andreas Fault</a> will cause the <a href="/wiki/Gulf_of_California" title="Gulf of California">Gulf of California</a> to flood into the <a href="/wiki/Central_Valley_(California)" title="Central Valley (California)">Central Valley</a>. This will form a new inland sea on the <a href="/wiki/West_Coast_of_the_United_States" title="West Coast of the United States">West Coast</a> of <a href="/wiki/North_America" title="North America">North America</a>.<sup id="cite_ref-scotese_40-0" class="reference"><a href="#cite_note-scotese-40">[38]</a></sup>',years:{base:25e6,exp:1},category:"earth",id:"event-FLzu",startTimeInCompactUnits:7.3979400086720375,easedStartTime:15.906086396614693,cleanedContentHTML:"According to Christopher R. Scotese, the movement of the San Andreas Fault will cause the Gulf of California to flood into the Central Valley. This will form a new inland sea on the West Coast of North America.[38]",skimmableContent:"The San Andreas Fault will create a new inland sea on the West Coast of North America."},{yearsFromNow:"50 million",contentHTML:'Maximum estimated time before the moon <a href="/wiki/Phobos_(moon)" title="Phobos (moon)">Phobos</a> collides with <a href="/wiki/Mars" title="Mars">Mars</a>.<sup id="cite_ref-Bills_41-0" class="reference"><a href="#cite_note-Bills-41">[39]</a></sup>',years:{base:5e7,exp:1},category:"solar",id:"event-kjla",startTimeInCompactUnits:7.698970004336019,easedStartTime:16.82001173186837,cleanedContentHTML:"Maximum estimated time before the moon Phobos collides with Mars.[39]",skimmableContent:"Maximum estimated time before the moon Phobos collides with Mars."},{yearsFromNow:"50 million",contentHTML:'According to Christopher R. Scotese, the movement of the <a href="/wiki/San_Andreas_Fault" title="San Andreas Fault">San Andreas Fault</a> will cause the current locations of Los Angeles and San Francisco to merge.<sup id="cite_ref-scotese_40-1" class="reference"><a href="#cite_note-scotese-40">[38]</a></sup> The Californian coast will begin to be subducted into the <a href="/wiki/Aleutian_Trench" title="Aleutian Trench">Aleutian Trench</a>.<sup id="cite_ref-trench_42-0" class="reference"><a href="#cite_note-trench-42">[40]</a></sup><p>Africa\'s collision with <a href="/wiki/Eurasia" title="Eurasia">Eurasia</a> closes the <a href="/wiki/Mediterranean_Basin" title="Mediterranean Basin">Mediterranean Basin</a> and creates a mountain range similar to the <a href="/wiki/Himalayas" title="Himalayas">Himalayas</a>.<sup id="cite_ref-medi_43-0" class="reference"><a href="#cite_note-medi-43">[41]</a></sup></p><p>The <a href="/wiki/Appalachian_Mountains" title="Appalachian Mountains">Appalachian Mountains</a> peaks will largely erode away,<sup id="cite_ref-44" class="reference"><a href="#cite_note-44">[42]</a></sup> weathering at 5.7 <a href="/wiki/Bubnoff_unit" title="Bubnoff unit">Bubnoff units</a>, although topography will actually rise as regional <a href="/wiki/Valley" title="Valley">valleys</a> deepen at twice this rate.<sup id="cite_ref-45" class="reference"><a href="#cite_note-45">[43]</a></sup></p>',years:{base:5e7,exp:1},category:"earth",id:"event-TDas",startTimeInCompactUnits:7.698970004336019,easedStartTime:16.82001173186837,cleanedContentHTML:"According to Christopher R. Scotese, the movement of the San Andreas Fault will cause the current locations of Los Angeles and San Francisco to merge.[38] The Californian coast will begin to be subducted into the Aleutian Trench.[40]<p>Africa's collision with Eurasia closes the Mediterranean Basin and creates a mountain range similar to the Himalayas.[41]</p><p>The Appalachian Mountains peaks will largely erode away,[42] weathering at 5.7 Bubnoff units, although topography will actually rise as regional valleys deepen at twice this rate.[43]</p>",skimmableContent:"The San Andreas Fault will cause the current locations of Los Angeles and San Francisco to merge.Africa's collision with Eurasia closes the Mediterranean Basin and creates a mountain range similar to the Himalayas."},{yearsFromNow:"5060 million",contentHTML:'The <a href="/wiki/Canadian_Rockies" title="Canadian Rockies">Canadian Rockies</a> will erode away to a plain, assuming a rate of 60 <a href="/wiki/Bubnoff_unit" title="Bubnoff unit">Bubnoff units</a>.<sup id="cite_ref-46" class="reference"><a href="#cite_note-46">[44]</a></sup> The <a href="/wiki/Southern_Rocky_Mountains" title="Southern Rocky Mountains">Southern Rockies</a> in the United States are eroding at a somewhat slower rate.<sup id="cite_ref-47" class="reference"><a href="#cite_note-47">[45]</a></sup>',years:{base:55e6,exp:1},category:"earth",id:"event-Mdhj",startTimeInCompactUnits:7.740362689494244,easedStartTime:16.944128460419705,cleanedContentHTML:"The Canadian Rockies will erode away to a plain, assuming a rate of 60 Bubnoff units.[44] The Southern Rockies in the United States are eroding at a somewhat slower rate.[45]",skimmableContent:"The Canadian Rockies will erode away."},{yearsFromNow:"50400 million",contentHTML:'Estimated time for Earth to naturally replenish its <a href="/wiki/Fossil_fuel" title="Fossil fuel">fossil fuel</a> reserves.<sup id="cite_ref-48" class="reference"><a href="#cite_note-48">[46]</a></sup>',years:{base:65e6,exp:1},category:"earth",id:"event-WkFj",startTimeInCompactUnits:7.812913356642856,easedStartTime:17.16078173990676,cleanedContentHTML:"Estimated time for Earth to naturally replenish its fossil fuel reserves.[46]",skimmableContent:"Estimated time for Earth to naturally replenish its fossil fuel reserves."},{yearsFromNow:"80 million",contentHTML:'The <a href="/wiki/Hawaii_(island)" title="Hawaii (island)">Big Island</a> will have become the last of the current <a href="/wiki/Hawaiian_Islands" title="Hawaiian Islands">Hawaiian Islands</a> to sink beneath the surface of the ocean, while a more recently formed chain of "new Hawaiian Islands" will then have emerged in their place.<sup id="cite_ref-49" class="reference"><a href="#cite_note-49">[47]</a></sup>',years:{base:8e7,exp:1},category:"earth",id:"event-YcHN",startTimeInCompactUnits:7.903089986991944,easedStartTime:17.428499815823454,cleanedContentHTML:'The Big Island will have become the last of the current Hawaiian Islands to sink beneath the surface of the ocean, while a more recently formed chain of "new Hawaiian Islands" will then have emerged in their place.[47]',skimmableContent:"The Big Island will have become the last of the current Hawaiian Islands to sink."},{yearsFromNow:"100 million",contentHTML:'Earth will likely have been hit by an asteroid comparable in size to the one that triggered the <a href="/wiki/Cretaceous%E2%80%93Paleogene_extinction_event" title="CretaceousPaleogene extinction event">KPg extinction</a> 66 million years ago, <a href="/wiki/Asteroid-impact_avoidance" class="mw-redirect" title="Asteroid-impact avoidance">assuming it cannot be averted</a>.<sup id="cite_ref-kpg1_50-0" class="reference"><a href="#cite_note-kpg1-50">[48]</a></sup>',years:{base:1e8,exp:1},category:"earth",id:"event-bafq",startTimeInCompactUnits:8,easedStartTime:17.714285714285715,cleanedContentHTML:"Earth will likely have been hit by an asteroid comparable in size to the one that triggered the KPg extinction 66 million years ago, assuming it cannot be averted.[48]",skimmableContent:"Earth will likely have been hit by an asteroid comparable in size to the one that triggered the KPg extinction 66 million years ago."},{yearsFromNow:"100 million",contentHTML:'Upper estimate for lifespan of the <a href="/wiki/Rings_of_Saturn" title="Rings of Saturn">rings of Saturn</a> in their current state.<sup id="cite_ref-51" class="reference"><a href="#cite_note-51">[49]</a></sup>',years:{base:1e8,exp:1},category:"solar",id:"event-JkCa",startTimeInCompactUnits:8,easedStartTime:17.714285714285715,cleanedContentHTML:"Upper estimate for lifespan of the rings of Saturn in their current state.[49]",skimmableContent:"The rings of Saturn will fall apart."},{yearsFromNow:"110 million",contentHTML:'The Sun\'s luminosity has increased by 1%.<sup id="cite_ref-52" class="reference"><a href="#cite_note-52">[50]</a></sup>',years:{base:11e7,exp:1},category:"solar",id:"event-BjSI",startTimeInCompactUnits:8.041392685158225,easedStartTime:17.835749961896035,cleanedContentHTML:"The Sun's luminosity has increased by 1%.[50]",skimmableContent:"The Sun's luminosity will increase by 1%."},{yearsFromNow:"240 million",contentHTML:'From its present position, the <a href="/wiki/Solar_System" title="Solar System">Solar System</a> completes <a href="/wiki/Galactic_year" title="Galactic year">one full orbit</a> of the <a href="/wiki/Galactic_center" class="mw-redirect" title="Galactic center">Galactic center</a>.<sup id="cite_ref-galyear_55-0" class="reference"><a href="#cite_note-galyear-55">[53]</a></sup>',years:{base:24e7,exp:1},category:"solar",id:"event-Kmiu",startTimeInCompactUnits:8.380211241711606,easedStartTime:18.81667192759605,cleanedContentHTML:"From its present position, the Solar System completes one full orbit of the Galactic center.[53]",skimmableContent:"The Solar System completes one full orbit of the Galactic center."},{yearsFromNow:"250 million",contentHTML:'According to Christopher R. Scotese, due to the northward movement of the West Coast of North America, the coast of California will collide with Alaska.<sup id="cite_ref-scotese_40-3" class="reference"><a href="#cite_note-scotese-40">[38]</a></sup>',years:{base:25e7,exp:1},category:"earth",id:"event-tNdY",startTimeInCompactUnits:8.397940008672037,easedStartTime:18.86735448781092,cleanedContentHTML:"According to Christopher R. Scotese, due to the northward movement of the West Coast of North America, the coast of California will collide with Alaska.[38]",skimmableContent:"The coast of California will collide with Alaska."},{yearsFromNow:"~250 million",contentHTML:'Rapid <a href="/wiki/Biological_evolution" class="mw-redirect" title="Biological evolution">biological evolution</a> may occur due to the formation of a supercontinent, causing lower temperatures and higher oxygen levels.<sup id="cite_ref-59" class="reference"><a href="#cite_note-59">[57]</a></sup>',years:{base:25e7,exp:1},category:"earth",id:"event-EhBu",startTimeInCompactUnits:8.397940008672037,easedStartTime:18.86735448781092,cleanedContentHTML:"Rapid biological evolution may occur due to the formation of a supercontinent, causing lower temperatures and higher oxygen levels.[57]",skimmableContent:"Rapid biological evolution may occur due to the formation of a supercontinent."},{yearsFromNow:"250350 million",contentHTML:'All the continents on Earth may fuse into a <a href="/wiki/Supercontinent" title="Supercontinent">supercontinent</a>. Three potential arrangements of this configuration have been dubbed <a href="/wiki/Amasia_(continent)" title="Amasia (continent)">Amasia</a>, <a href="/wiki/Novopangaea" title="Novopangaea">Novopangaea</a>, and <a href="/wiki/Pangaea_Ultima" title="Pangaea Ultima">Pangaea Ultima</a>.<sup id="cite_ref-scotese_40-4" class="reference"><a href="#cite_note-scotese-40">[38]</a></sup><sup id="cite_ref-Williams_Nield_2007_56-0" class="reference"><a href="#cite_note-Williams_Nield_2007-56">[54]</a></sup> This will likely result in a glacial period, lowering sea levels and increasing oxygen levels, further lowering global temperatures.<sup id="cite_ref-57" class="reference"><a href="#cite_note-57">[55]</a></sup><sup id="cite_ref-58" class="reference"><a href="#cite_note-58">[56]</a></sup>',years:{base:3e8,exp:1},category:"earth",id:"event-SSGb",startTimeInCompactUnits:8.477121254719663,easedStartTime:19.092945547712414,cleanedContentHTML:"All the continents on Earth may fuse into a supercontinent. Three potential arrangements of this configuration have been dubbed Amasia, Novopangaea, and Pangaea Ultima.[38][54] This will likely result in a glacial period, lowering sea levels and increasing oxygen levels, further lowering global temperatures.[55][56]",skimmableContent:"All the continents on Earth may fuse into a supercontinent."},{yearsFromNow:"300600 million",contentHTML:'Estimated time for <a href="/wiki/Venus" title="Venus">Venus</a>\'s mantle temperature to reach its maximum. Then, over a period of about 100 million years, major subduction occurs and the crust is recycled.<sup id="cite_ref-Strom1994_60-0" class="reference"><a href="#cite_note-Strom1994-60">[58]</a></sup>',years:{base:325e6,exp:1},category:"solar",id:"event-GMTf",startTimeInCompactUnits:8.511883360978874,easedStartTime:19.19158861482875,cleanedContentHTML:"Estimated time for Venus's mantle temperature to reach its maximum. Then, over a period of about 100 million years, major subduction occurs and the crust is recycled.[58]",skimmableContent:"Estimated time for Venus's mantle temperature to reach its maximum."},{yearsFromNow:"350 million",contentHTML:'According to the extroversion model, first developed by <a href="/wiki/Paul_F._Hoffman" title="Paul F. Hoffman">Paul F. Hoffman</a> the <a href="/wiki/Pacific_ocean" class="mw-redirect" title="Pacific ocean">Pacific Ocean</a> will close completely.<sup id="cite_ref-61" class="reference"><a href="#cite_note-61">[59]</a></sup><sup id="cite_ref-62" class="reference"><a href="#cite_note-62">[60]</a></sup><sup id="cite_ref-Williams_Nield_2007_56-1" class="reference"><a href="#cite_note-Williams_Nield_2007-56">[54]</a></sup>',years:{base:35e7,exp:1},category:"earth",id:"event-rRha",startTimeInCompactUnits:8.544068044350276,easedStartTime:19.28270362794239,cleanedContentHTML:"According to the extroversion model, first developed by Paul F. Hoffman the Pacific Ocean will close completely.[59][60][54]",skimmableContent:"The Pacific Ocean will be gone."},{yearsFromNow:"400500 million",contentHTML:'The supercontinent (Pangaea Ultima, Novopangaea, or Amasia) will likely have rifted apart.<sup id="cite_ref-Williams_Nield_2007_56-2" class="reference"><a href="#cite_note-Williams_Nield_2007-56">[54]</a></sup> This will likely result in higher global temperatures, similar to the <a href="/wiki/Cretaceous_period" class="mw-redirect" title="Cretaceous period">Cretaceous period</a>.<sup id="cite_ref-63" class="reference"><a href="#cite_note-63">[61]</a></sup>',years:{base:4e8,exp:1},category:"earth",id:"event-gWSt",startTimeInCompactUnits:8.602059991327963,easedStartTime:19.44636153135249,cleanedContentHTML:"The supercontinent (Pangaea Ultima, Novopangaea, or Amasia) will likely have rifted apart.[54] This will likely result in higher global temperatures, similar to the Cretaceous period.[61]",skimmableContent:"The supercontinent will likely have rifted apart."},{yearsFromNow:"500 million",contentHTML:'Estimated time until a <a href="/wiki/Gamma-ray_burst" title="Gamma-ray burst">gamma-ray burst</a>, or massive, hyperenergetic supernova, occurs within 6,500 light-years of Earth; close enough for its rays to affect Earth\'s <a href="/wiki/Ozone_layer" title="Ozone layer">ozone layer</a> and potentially trigger a <a href="/wiki/Extinction_event" title="Extinction event">mass extinction</a>, assuming the hypothesis is correct that a previous such explosion triggered the <a href="/wiki/Ordovician%E2%80%93Silurian_extinction_events" title="OrdovicianSilurian extinction events">OrdovicianSilurian extinction event</a>. However, the supernova would have to be precisely oriented relative to Earth to have any negative effect.<sup id="cite_ref-natgeo_64-0" class="reference"><a href="#cite_note-natgeo-64">[62]</a></sup>',years:{base:5e8,exp:1},category:"earth",id:"event-KmRd",startTimeInCompactUnits:8.698970004336019,easedStartTime:19.718373180225726,cleanedContentHTML:"Estimated time until a gamma-ray burst, or massive, hyperenergetic supernova, occurs within 6,500 light-years of Earth; close enough for its rays to affect Earth's ozone layer and potentially trigger a mass extinction, assuming the hypothesis is correct that a previous such explosion triggered the OrdovicianSilurian extinction event. However, the supernova would have to be precisely oriented relative to Earth to have any negative effect.[62]",skimmableContent:"A gamma-ray burst, or massive, hyperenergetic supernova, occurs within 6,500 light-years of Earth, potentially triggering a mass extinction."},{yearsFromNow:"600 million",contentHTML:'<a href="/wiki/Tidal_acceleration" title="Tidal acceleration">Tidal acceleration</a> moves the <a href="/wiki/Moon" title="Moon">Moon</a> far enough from Earth that total <a href="/wiki/Solar_eclipse" title="Solar eclipse">solar eclipses</a> are no longer possible.<sup id="cite_ref-600mil_65-0" class="reference"><a href="#cite_note-600mil-65">[63]</a></sup>',years:{base:6e8,exp:1},category:"earth",id:"event-dYim",startTimeInCompactUnits:8.778151250383644,easedStartTime:19.93926295146269,cleanedContentHTML:"Tidal acceleration moves the Moon far enough from Earth that total solar eclipses are no longer possible.[63]",skimmableContent:"Tidal acceleration moves the Moon far enough from Earth that total solar eclipses are no longer possible."},{yearsFromNow:"600 million",contentHTML:'The Sun\'s increasing luminosity begins to disrupt the <a href="/wiki/Carbonate%E2%80%93silicate_cycle" title="Carbonatesilicate cycle">carbonatesilicate cycle</a>; higher luminosity increases <a href="/wiki/Weathering" title="Weathering">weathering</a> of surface rocks, which traps <a href="/wiki/Carbon_dioxide" title="Carbon dioxide">carbon dioxide</a> in the ground as carbonate. As water evaporates from the Earth\'s surface, rocks harden, causing <a href="/wiki/Plate_tectonics" title="Plate tectonics">plate tectonics</a> to slow and eventually stop. Without volcanoes to recycle carbon into the Earth\'s atmosphere, carbon dioxide levels begin to fall.<sup id="cite_ref-swansong_66-0" class="reference"><a href="#cite_note-swansong-66">[64]</a></sup> By this time, carbon dioxide levels will fall to the point at which <a href="/wiki/C3_carbon_fixation" title="C3 carbon fixation">C<sub>3</sub> photosynthesis</a> is no longer possible. All plants that utilize C<sub>3</sub> photosynthesis (99 percent of present-day species) will die.<sup id="cite_ref-Heath_Doyle_2009_67-0" class="reference"><a href="#cite_note-Heath_Doyle_2009-67">[65]</a></sup>',years:{base:6e8,exp:1},category:"earth",id:"event-qvJH",startTimeInCompactUnits:8.778151250383644,easedStartTime:19.93926295146269,cleanedContentHTML:"The Sun's increasing luminosity begins to disrupt the carbonatesilicate cycle; higher luminosity increases weathering of surface rocks, which traps carbon dioxide in the ground as carbonate. As water evaporates from the Earth's surface, rocks harden, causing plate tectonics to slow and eventually stop. Without volcanoes to recycle carbon into the Earth's atmosphere, carbon dioxide levels begin to fall.[64] By this time, carbon dioxide levels will fall to the point at which C3 photosynthesis is no longer possible. All plants that utilize C3 photosynthesis (99 percent of present-day species) will die.[65]",skimmableContent:"Carbon dioxide levels will fall to the point at which C3 photosynthesis is no longer possible. Approximately 99 percent of present-day species of plants will die."},{yearsFromNow:"700800 million",contentHTML:'The death of most <a href="/wiki/Plant_life" class="mw-redirect" title="Plant life">plant life</a> will result in less <a href="/wiki/Oxygen" title="Oxygen">oxygen</a> in the <a href="/wiki/Atmosphere" title="Atmosphere">atmosphere</a>, allowing for more <a href="/wiki/DNA" title="DNA">DNA</a>-damaging <a href="/wiki/Ultraviolet_radiation" class="mw-redirect" title="Ultraviolet radiation">ultraviolet radiation</a> to reach the surface. The rising temperatures will increase chemical reactions in the atmosphere, further lowering oxygen levels. Flying animals would be better off because of their ability to travel large distances looking for cooler temperatures.<sup id="cite_ref-68" class="reference"><a href="#cite_note-68">[66]</a></sup> Many animals may be driven to the poles or possibly underground. These creatures would become active during the <a href="/wiki/Polar_night" title="Polar night">polar night</a> and hibernate during the <a href="/wiki/Polar_day" class="mw-redirect" title="Polar day">polar day</a> due to the intense heat and radiation. Much of the land would become a barren desert, and plants and animals would primarily be found in the oceans.<sup id="cite_ref-69" class="reference"><a href="#cite_note-69">[67]</a></sup>',years:{base:7e8,exp:1},category:"earth",id:"event-fZQb",startTimeInCompactUnits:8.845098040014257,easedStartTime:20.125076475598583,cleanedContentHTML:"The death of most plant life will result in less oxygen in the atmosphere, allowing for more DNA-damaging ultraviolet radiation to reach the surface. The rising temperatures will increase chemical reactions in the atmosphere, further lowering oxygen levels. Flying animals would be better off because of their ability to travel large distances looking for cooler temperatures.[66] Many animals may be driven to the poles or possibly underground. These creatures would become active during the polar night and hibernate during the polar day due to the intense heat and radiation. Much of the land would become a barren desert, and plants and animals would primarily be found in the oceans.[67]",skimmableContent:"The death of most plant life will result in less oxygen in the atmosphere, allowing for more DNA-damaging ultraviolet radiation to reach the surface.  Much of the land will become a barren desert."},{yearsFromNow:"800 million",contentHTML:'Carbon dioxide levels fall to the point at which <a href="/wiki/C4_carbon_fixation" title="C4 carbon fixation">C<sub>4</sub> photosynthesis</a> is no longer possible.<sup id="cite_ref-Heath_Doyle_2009_67-1" class="reference"><a href="#cite_note-Heath_Doyle_2009-67">[65]</a></sup> Without plant life to recycle oxygen in the atmosphere, free oxygen and the ozone layer will disappear from the atmosphere allowing for intense levels of deadly UV light to reach the surface. In the book <i>The Life and Death of Planet Earth</i>, authors <a href="/wiki/Peter_D._Ward" class="mw-redirect" title="Peter D. Ward">Peter D. Ward</a> and <a href="/wiki/Donald_Brownlee" class="mw-redirect" title="Donald Brownlee">Donald Brownlee</a> stated that some animal life may be able to survive in the oceans. Eventually, however, all multicellular life will die out.<sup id="cite_ref-bd2_6_1665_70-0" class="reference"><a href="#cite_note-bd2_6_1665-70">[68]</a></sup> The only life left on the Earth after this will be single-celled organisms.',years:{base:8e8,exp:1},category:"earth",id:"event-FJXe",startTimeInCompactUnits:8.903089986991944,easedStartTime:20.285339697695548,cleanedContentHTML:"Carbon dioxide levels fall to the point at which C4 photosynthesis is no longer possible.[65] Without plant life to recycle oxygen in the atmosphere, free oxygen and the ozone layer will disappear from the atmosphere allowing for intense levels of deadly UV light to reach the surface. In the book <i>The Life and Death of Planet Earth</i>, authors Peter D. Ward and Donald Brownlee stated that some animal life may be able to survive in the oceans. Eventually, however, all multicellular life will die out.[68] The only life left on the Earth after this will be single-celled organisms.",skimmableContent:"The only life left on the Earth after this will be single-celled organisms."},{yearsFromNow:"1 billion",contentHTML:'27% of the ocean\'s mass will have been subducted into the mantle. If this were to continue uninterrupted, it would reach an equilibrium where 65% of the surface water would remain at the surface.<sup id="cite_ref-hess5_4_569_72-0" class="reference"><a href="#cite_note-hess5_4_569-72">[69]</a></sup>',years:{base:1e9,exp:1},category:"earth",id:"event-NmEe",startTimeInCompactUnits:9,easedStartTime:20.551724137931036,cleanedContentHTML:"27% of the ocean's mass will have been subducted into the mantle. If this were to continue uninterrupted, it would reach an equilibrium where 65% of the surface water would remain at the surface.[69]",skimmableContent:"27% of the ocean's mass will have been subducted into the mantle."},{yearsFromNow:"1.1 billion",contentHTML:'The Sun\'s luminosity has risen by 10%, causing Earth\'s surface temperatures to reach an average of c. 320&nbsp;K (47&nbsp;C; 116&nbsp;F). The atmosphere will become a "moist greenhouse", resulting in a runaway evaporation of the oceans.<sup id="cite_ref-swansong_66-1" class="reference"><a href="#cite_note-swansong-66">[64]</a></sup><sup id="cite_ref-mnras386_1_73-0" class="reference"><a href="#cite_note-mnras386_1-73">[70]</a></sup> This would cause plate tectonics to stop completely, if not already stopped before this time.<sup id="cite_ref-FOOTNOTEBrownlee201095_74-0" class="reference"><a href="#cite_note-FOOTNOTEBrownlee201095-74">[71]</a></sup> Pockets of water may still be present at the poles, allowing abodes for simple life.<sup id="cite_ref-abode_75-0" class="reference"><a href="#cite_note-abode-75">[72]</a></sup><sup id="cite_ref-pressure_76-0" class="reference"><a href="#cite_note-pressure-76">[73]</a></sup>',years:{base:11e8,exp:1},category:"earth",id:"event-MAMN",startTimeInCompactUnits:9.041392685158225,easedStartTime:20.664961733137794,cleanedContentHTML:"The Sun's luminosity has risen by 10%, causing Earth's surface temperatures to reach an average of c. 320K (47C; 116F). The atmosphere will become a \"moist greenhouse\", resulting in a runaway evaporation of the oceans. This would cause plate tectonics to stop completely, if not already stopped before this time. Pockets of water may still be present at the poles, allowing abodes for simple life.",skimmableContent:"The Sun's luminosity has risen by 10%, causing Earth's surface temperatures to reach an average of 320Kelvin (or 47degrees Celsius or 116degrees Fahrenheit). Pockets of water may still be present at the poles, allowing abodes for simple life."},{yearsFromNow:"1.3 billion",contentHTML:'<a href="/wiki/Eukaryote" title="Eukaryote">Eukaryotic</a> life dies out on Earth due to carbon dioxide starvation. Only <a href="/wiki/Prokaryote" title="Prokaryote">prokaryotes</a> remain.<sup id="cite_ref-bd2_6_1665_70-1" class="reference"><a href="#cite_note-bd2_6_1665-70">[68]</a></sup>',years:{base:13e8,exp:1},category:"earth",id:"event-kOYo",startTimeInCompactUnits:9.113943352306837,easedStartTime:20.86266116137637,cleanedContentHTML:"Eukaryotic life dies out on Earth due to carbon dioxide starvation. Only prokaryotes remain.[68]",skimmableContent:"Eukaryotic life dies out on Earth due to carbon dioxide starvation. Only prokaryotes remain."},{yearsFromNow:"1.51.6 billion",contentHTML:'The Sun\'s rising luminosity causes its <a href="/wiki/Circumstellar_habitable_zone" title="Circumstellar habitable zone">circumstellar habitable zone</a> to move outwards; as <a href="/wiki/Carbon_dioxide" title="Carbon dioxide">carbon dioxide</a> rises in <a href="/wiki/Mars" title="Mars">Mars</a>\'s atmosphere, its surface temperature rises to levels akin to Earth during the <a href="/wiki/Ice_age" title="Ice age">ice age</a>.<sup id="cite_ref-bd2_6_1665_70-2" class="reference"><a href="#cite_note-bd2_6_1665-70">[68]</a></sup><sup id="cite_ref-mars_80-0" class="reference"><a href="#cite_note-mars-80">[77]</a></sup>',years:{base:15e8,exp:1},category:"earth",id:"event-LQNY",startTimeInCompactUnits:9.176091259055681,easedStartTime:21.031231375625616,cleanedContentHTML:"The Sun's rising luminosity causes its circumstellar habitable zone to move outwards; as carbon dioxide rises in Mars's atmosphere, its surface temperature rises to levels akin to Earth during the ice age.[68][77]",skimmableContent:"Mars's surface temperature rises to levels akin to Earth during the ice age."},{yearsFromNow:"2 billion",contentHTML:'High estimate until the Earth\'s oceans evaporate if the atmospheric pressure were to decrease via the <a href="/wiki/Nitrogen_cycle" title="Nitrogen cycle">nitrogen cycle</a>.<sup id="cite_ref-pnas106_24_81-0" class="reference"><a href="#cite_note-pnas106_24-81">[78]</a></sup>',years:{base:2e9,exp:1},category:"earth",id:"event-AtPG",startTimeInCompactUnits:9.301029995663981,easedStartTime:21.36795189995198,cleanedContentHTML:"High estimate until the Earth's oceans evaporate if the atmospheric pressure were to decrease via the nitrogen cycle.[78]",skimmableContent:"Earth's oceans evaporate."},{yearsFromNow:"2.3 billion",contentHTML:'The Earth\'s <a href="/wiki/Outer_core" class="mw-redirect" title="Outer core">outer core</a> freezes, if the <a href="/wiki/Inner_core" class="mw-redirect" title="Inner core">inner core</a> continues to grow at its current rate of 1&nbsp;mm (0.039&nbsp;in) per year.<sup id="cite_ref-ng4_264_82-0" class="reference"><a href="#cite_note-ng4_264-82">[79]</a></sup><sup id="cite_ref-compo_83-0" class="reference"><a href="#cite_note-compo-83">[80]</a></sup> Without its liquid outer core, the <a href="/wiki/Earth%27s_magnetic_field" title="Earth\'s magnetic field">Earth\'s magnetic field</a> shuts down,<sup id="cite_ref-magnet_84-0" class="reference"><a href="#cite_note-magnet-84">[81]</a></sup> and charged particles emanating from the <a href="/wiki/Sun" title="Sun">Sun</a> gradually deplete the atmosphere.<sup id="cite_ref-85" class="reference"><a href="#cite_note-85">[82]</a></sup>',years:{base:23e8,exp:1},category:"earth",id:"event-Auxw",startTimeInCompactUnits:9.361727836017593,easedStartTime:21.53050348849983,cleanedContentHTML:"The Earth's outer core freezes, if the inner core continues to grow at its current rate of 1mm (0.039in) per year.[79][80] Without its liquid outer core, the Earth's magnetic field shuts down,[81] and charged particles emanating from the Sun gradually deplete the atmosphere.[82]",skimmableContent:"The Earth's outer core freezes. Without its liquid outer core, the Earth's magnetic field shuts down, and charged particles emanating from the Sun gradually deplete the atmosphere."},{yearsFromNow:"2.55 billion",contentHTML:'The Sun will have reached a maximum surface temperature of 5,820 K. From then on, it will become gradually cooler while its luminosity will continue to increase.<sup id="cite_ref-mnras386_1_73-1" class="reference"><a href="#cite_note-mnras386_1-73">[70]</a></sup>',years:{base:255e7,exp:1},category:"solar",id:"event-pBcr",startTimeInCompactUnits:9.406540180433955,easedStartTime:21.650082401295272,cleanedContentHTML:"The Sun will have reached a maximum surface temperature of 5,820 K. From then on, it will become gradually cooler while its luminosity will continue to increase.[70]",skimmableContent:"The Sun will have reached a maximum surface temperature of 5,820 Kelvin. From then on, it will become gradually cooler while its luminosity will continue to increase."},{yearsFromNow:"2.8 billion",contentHTML:'Earth\'s surface temperature reaches c. 420&nbsp;K (147&nbsp;C; 296&nbsp;F), even at the poles. At this point, all life, now reduced to unicellular colonies in isolated, scattered microenvironments such as high-altitude lakes or subsurface caves, will go extinct.<sup id="cite_ref-swansong_66-2" class="reference"><a href="#cite_note-swansong-66">[64]</a></sup><sup id="cite_ref-global1_86-0" class="reference"><a href="#cite_note-global1-86">[83]</a></sup>',years:{base:28e8,exp:1},category:"earth",id:"event-bctp",startTimeInCompactUnits:9.44715803134222,easedStartTime:21.758154129925646,cleanedContentHTML:"Earth's surface temperature reaches c. 420K (147C; 296F), even at the poles. At this point, all life, now reduced to unicellular colonies in isolated, scattered microenvironments such as high-altitude lakes or subsurface caves, will go extinct.[64][83]",skimmableContent:"Earth's surface temperature reaches 420Kelvin or 147degrees celsius or 296degrees fahrenheit, even at the poles. All life, now reduced to unicellular colonies in isolated, scattered microenvironments such as high-altitude lakes or subsurface caves, will go extinct."},{yearsFromNow:"c. 3 billion",contentHTML:'There is a roughly 1-in-100,000 chance that the Earth might be ejected into interstellar space by a stellar encounter before this point, and a 1-in-3-million chance that it will then be captured by another star. Were this to happen, life, assuming it survived the interstellar journey, could potentially continue for far longer.<sup id="cite_ref-FOOTNOTEAdams20083344_87-0" class="reference"><a href="#cite_note-FOOTNOTEAdams20083344-87">[84]</a></sup>',years:{base:3e9,exp:1},category:"earth",id:"event-uXtT",startTimeInCompactUnits:9.477121254719663,easedStartTime:21.83768624858168,cleanedContentHTML:"There is a roughly 1-in-100,000 chance that the Earth might be ejected into interstellar space by a stellar encounter before this point, and a 1-in-3-million chance that it will then be captured by another star. Were this to happen, life, assuming it survived the interstellar journey, could potentially continue for far longer.[84]",skimmableContent:"There is a roughly 1-in-100,000 chance that the Earth might be ejected into interstellar space by a stellar encounter before this point, and a 1-in-3-million chance that it will then be captured by another star."},{yearsFromNow:"3 billion",contentHTML:'<a href="/wiki/Median" title="Median">Median</a> point at which the Moon\'s rising distance from the Earth lessens its stabilising effect on the Earth\'s <a href="/wiki/Axial_tilt" title="Axial tilt">axial tilt</a>. As a consequence, Earth\'s <a href="/wiki/True_polar_wander" title="True polar wander">true polar wander</a> becomes chaotic and extreme, leading to dramatic shifts in the planet\'s climate due to the changing axial tilt.<sup id="cite_ref-wander_88-0" class="reference"><a href="#cite_note-wander-88">[85]</a></sup>',years:{base:3e9,exp:1},category:"earth",id:"event-Ctyq",startTimeInCompactUnits:9.477121254719663,easedStartTime:21.83768624858168,cleanedContentHTML:"Median point at which the Moon's rising distance from the Earth lessens its stabilising effect on the Earth's axial tilt. As a consequence, Earth's true polar wander becomes chaotic and extreme, leading to dramatic shifts in the planet's climate due to the changing axial tilt.[85]",skimmableContent:"Median point at which the Moon's rising distance from the Earth lessens its stabilising effect on the Earth's axial tilt. As a consequence, Earth's true polar wander becomes chaotic and extreme"},{yearsFromNow:"3.3 billion",contentHTML:'1% chance that <a href="/wiki/Jupiter" title="Jupiter">Jupiter</a>\'s gravity may make <a href="/wiki/Mercury_(planet)" title="Mercury (planet)">Mercury</a>\'s orbit so <a href="/wiki/Orbital_eccentricity" title="Orbital eccentricity">eccentric</a> as to collide with <a href="/wiki/Venus" title="Venus">Venus</a>, sending the inner Solar System into chaos. Possible scenarios include Mercury colliding with the Sun, being ejected from the Solar System, or colliding with Earth.<sup id="cite_ref-chaos_89-0" class="reference"><a href="#cite_note-chaos-89">[86]</a></sup>',years:{base:33e8,exp:1},category:"solar",id:"event-iCSD",startTimeInCompactUnits:9.518513939877888,easedStartTime:21.947290277122562,cleanedContentHTML:"1% chance that Jupiter's gravity may make Mercury's orbit so eccentric as to collide with Venus, sending the inner Solar System into chaos. Possible scenarios include Mercury colliding with the Sun, being ejected from the Solar System, or colliding with Earth.[86]",skimmableContent:"There is a 1% chance that Jupiter's gravity may make Mercury's orbit so eccentric as to collide with Venus, sending the inner Solar System into chaos."},{yearsFromNow:"3.54.5 billion",contentHTML:'All water currently present in oceans (if not lost earlier) evaporates. The <a href="/wiki/Greenhouse_effect" title="Greenhouse effect">greenhouse effect</a> caused by the massive, water-rich atmosphere, combined with the Sun\'s luminosity reaching roughly 3540% above its present value, will result in Earth\'s surface temperature rising to 1,400&nbsp;K (1,130&nbsp;C; 2,060&nbsp;F), which is hot enough to melt some surface rock.<sup id="cite_ref-FOOTNOTEBrownlee201095_74-1" class="reference"><a href="#cite_note-FOOTNOTEBrownlee201095-74">[71]</a></sup><sup id="cite_ref-pnas106_24_81-1" class="reference"><a href="#cite_note-pnas106_24-81">[78]</a></sup><sup id="cite_ref-guinan_ribas_90-0" class="reference"><a href="#cite_note-guinan_ribas-90">[87]</a></sup><sup id="cite_ref-icarus74_91-0" class="reference"><a href="#cite_note-icarus74-91">[88]</a></sup> This period in Earth\'s future is often compared to Venus today, but the temperature is actually around two times the temperature on Venus today, and at this temperature the surface will be partially molten,<sup id="cite_ref-venus_92-0" class="reference"><a href="#cite_note-venus-92">[89]</a></sup> while Venus probably has a mostly solid surface at present. Venus will also probably drastically heat up at this time as well, most likely being much hotter than Earth will be as it is closer to the Sun.',years:{base:35e8,exp:1},category:"earth",id:"event-NvcN",startTimeInCompactUnits:9.544068044350276,easedStartTime:22.01480187016443,cleanedContentHTML:"All water currently present in oceans (if not lost earlier) evaporates. The greenhouse effect caused by the massive, water-rich atmosphere, combined with the Sun's luminosity reaching roughly 3540% above its present value, will result in Earth's surface temperature rising to 1,400K (1,130C; 2,060F), which is hot enough to melt some surface rock.[71][78][87][88] This period in Earth's future is often compared to Venus today, but the temperature is actually around two times the temperature on Venus today, and at this temperature the surface will be partially molten,[89] while Venus probably has a mostly solid surface at present. Venus will also probably drastically heat up at this time as well, most likely being much hotter than Earth will be as it is closer to the Sun.",skimmableContent:"Earth's surface temperature will rise to 1,400Kelvin (or 1,130C or 2,060F). The surface will be partially molten."},{yearsFromNow:"3.6 billion",contentHTML:'<a href="/wiki/Neptune" title="Neptune">Neptune</a>\'s moon <a href="/wiki/Triton_(moon)" title="Triton (moon)">Triton</a> falls through the planet\'s <a href="/wiki/Roche_limit" title="Roche limit">Roche limit</a>, potentially disintegrating into a planetary <a href="/wiki/Ring_system" title="Ring system">ring system</a> similar to <a href="/wiki/Rings_of_Saturn" title="Rings of Saturn">Saturn</a>\'s.<sup id="cite_ref-triton_93-0" class="reference"><a href="#cite_note-triton-93">[90]</a></sup>',years:{base:36e8,exp:1},category:"solar",id:"event-rUCQ",startTimeInCompactUnits:9.556302500767288,easedStartTime:22.047082853473036,cleanedContentHTML:"Neptune's moon Triton falls through the planet's Roche limit, potentially disintegrating into a planetary ring system similar to Saturn's.[90]",skimmableContent:"Neptune's moon Triton falls through the planet's Roche limit, potentially disintegrating into a planetary ring system similar to Saturn's."},{yearsFromNow:"4 billion",contentHTML:'<a href="/wiki/Median" title="Median">Median</a> point by which the <a href="/wiki/Andromeda_Galaxy" title="Andromeda Galaxy">Andromeda Galaxy</a> will have <a href="/wiki/Andromeda%E2%80%93Milky_Way_collision" title="AndromedaMilky Way collision">collided</a> with the <a href="/wiki/Milky_Way" title="Milky Way">Milky Way</a>, which will thereafter merge to form a galaxy dubbed "Milkomeda".<sup id="cite_ref-cox_94-0" class="reference"><a href="#cite_note-cox-94">[91]</a></sup> The planets of the Solar System are expected to be relatively unaffected by this collision.<sup id="cite_ref-95" class="reference"><a href="#cite_note-95">[92]</a></sup><sup id="cite_ref-96" class="reference"><a href="#cite_note-96">[93]</a></sup><sup id="cite_ref-milk_97-0" class="reference"><a href="#cite_note-milk-97">[94]</a></sup>',years:{base:4e9,exp:1},category:"galaxy",id:"event-bFCV",startTimeInCompactUnits:9.602059991327963,easedStartTime:22.16757885515516,cleanedContentHTML:'Median point by which the Andromeda Galaxy will have collided with the Milky Way, which will thereafter merge to form a galaxy dubbed "Milkomeda".[91] The planets of the Solar System are expected to be relatively unaffected by this collision.[92][93][94]',skimmableContent:'The Andromeda Galaxy will have collided with the Milky Way, which will thereafter merge to form a galaxy dubbed "Milkomeda". The planets of the Solar System are expected to be relatively unaffected by this collision.'},{yearsFromNow:"4.5 billion",contentHTML:'Mars reaches the same solar flux the Earth did when it first formed, 4.5 billion years ago from today.<sup id="cite_ref-mars_80-1" class="reference"><a href="#cite_note-mars-80">[77]</a></sup>',years:{base:45e8,exp:1},category:"solar",id:"event-LfIP",startTimeInCompactUnits:9.653212513775344,easedStartTime:22.301841699961475,cleanedContentHTML:"Mars reaches the same solar flux the Earth did when it first formed, 4.5 billion years ago from today.[77]",skimmableContent:"Mars reaches the same solar flux the Earth did when it first formed, 4.5 billion years ago from today."},{yearsFromNow:"5.4 billion",contentHTML:'With the hydrogen supply exhausted at its core, the Sun leaves the <a href="/wiki/Main_sequence" title="Main sequence">main sequence</a> and begins to <a href="/wiki/Stellar_evolution" title="Stellar evolution">evolve</a> into a <a href="/wiki/Red_giant" title="Red giant">red giant</a>.<sup id="cite_ref-Schroder_2008_98-0" class="reference"><a href="#cite_note-Schroder_2008-98">[95]</a></sup>',years:{base:54e8,exp:1},category:"solar",id:"event-bchy",startTimeInCompactUnits:9.732393759822969,easedStartTime:22.50876203875088,cleanedContentHTML:"With the hydrogen supply exhausted at its core, the Sun leaves the main sequence and begins to evolve into a red giant.[95]",skimmableContent:"With the hydrogen supply exhausted at its core, the Sun leaves the main sequence and begins to evolve into a red giant."},{yearsFromNow:"7.5 billion",contentHTML:'Earth and Mars may become <a href="/wiki/Tidal_locking" title="Tidal locking">tidally locked</a> with the expanding subgiant Sun.<sup id="cite_ref-mars_80-3" class="reference"><a href="#cite_note-mars-80">[77]</a></sup>',years:{base:75e8,exp:1},category:"solar",id:"event-pmPz",startTimeInCompactUnits:9.8750612633917,easedStartTime:22.878819236990978,cleanedContentHTML:"Earth and Mars may become tidally locked with the expanding subgiant Sun.[77]",skimmableContent:"Earth and Mars may become tidally locked with the expanding subgiant Sun."},{yearsFromNow:"7.59 billion",contentHTML:'The Earth and Moon are very likely destroyed by falling into the Sun, just before the Sun reaches the tip of its <a href="/wiki/Red_giant" title="Red giant">red giant</a> phase and its maximum radius of 256 times the present-day value.<sup id="cite_ref-Schroder_2008_98-1" class="reference"><a href="#cite_note-Schroder_2008-98">[95]</a></sup><sup id="cite_ref-earthredgiantsun_99-0" class="reference"><a href="#cite_note-earthredgiantsun-99">[note 4]</a></sup> Before the final collision, the Moon possibly spirals below Earth\'s <a href="/wiki/Roche_limit" title="Roche limit">Roche limit</a>, breaking into a ring of debris, most of which falls to the Earth\'s surface.<sup id="cite_ref-powell2007_100-0" class="reference"><a href="#cite_note-powell2007-100">[96]</a></sup><p>During this era, <a href="/wiki/Saturn" title="Saturn">Saturn</a>\'s moon <a href="/wiki/Titan_(moon)" title="Titan (moon)">Titan</a> may reach surface temperatures necessary to support life.<sup id="cite_ref-Titan_101-0" class="reference"><a href="#cite_note-Titan-101">[97]</a></sup></p>',years:{base:759e7,exp:1},category:"earth",id:"event-bLKw",startTimeInCompactUnits:9.880241775895481,easedStartTime:22.892190187743168,cleanedContentHTML:"The Earth and Moon are very likely destroyed by falling into the Sun, just before the Sun reaches the tip of its red giant phase and its maximum radius of 256 times the present-day value.[95][note 4] Before the final collision, the Moon possibly spirals below Earth's Roche limit, breaking into a ring of debris, most of which falls to the Earth's surface.[96]<p>During this era, Saturn's moon Titan may reach surface temperatures necessary to support life.[97]</p>",skimmableContent:"The Earth and Moon are very likely destroyed by falling into the Sun. Before the final collision, the Moon possibly spirals below Earth's Roche limit, breaking into a ring of debris, most of which falls to the Earth's surface. During this era, Saturn's moon Titan may reach surface temperatures necessary to support life."},{yearsFromNow:"7.9 billion",contentHTML:'The Sun reaches the tip of the red-giant branch of the <a href="/wiki/Hertzsprung%E2%80%93Russell_diagram" title="HertzsprungRussell diagram">HertzsprungRussell diagram</a>, achieving its maximum radius of 256 times the present-day value.<sup id="cite_ref-Rybicki2001_102-0" class="reference"><a href="#cite_note-Rybicki2001-102">[98]</a></sup> In the process, <a href="/wiki/Mercury_(planet)" title="Mercury (planet)">Mercury</a>, <a href="/wiki/Venus" title="Venus">Venus</a>, and very likely Earth are destroyed.<sup id="cite_ref-Schroder_2008_98-2" class="reference"><a href="#cite_note-Schroder_2008-98">[95]</a></sup>',years:{base:79e8,exp:1},category:"solar",id:"event-vISW",startTimeInCompactUnits:9.897627091290442,easedStartTime:22.937027980017035,cleanedContentHTML:"The Sun reaches the tip of the red-giant branch of the HertzsprungRussell diagram, achieving its maximum radius of 256 times the present-day value.[98] In the process, Mercury, Venus, and very likely Earth are destroyed.[95]",skimmableContent:"The Sun will achieve its maximum radius of 256 times the present-day value. In the process, Mercury, Venus, and very likely Earth will be destroyed."},{yearsFromNow:"8 billion",contentHTML:'The Sun becomes a carbon-oxygen <a href="/wiki/White_dwarf" title="White dwarf">white dwarf</a> with about 54.05% its present mass.<sup id="cite_ref-Schroder_2008_98-3" class="reference"><a href="#cite_note-Schroder_2008-98">[95]</a></sup><sup id="cite_ref-nebula_103-0" class="reference"><a href="#cite_note-nebula-103">[99]</a></sup><sup id="cite_ref-apj676_1_594_104-0" class="reference"><a href="#cite_note-apj676_1_594-104">[100]</a></sup><sup id="cite_ref-dwarf_group_note_105-0" class="reference"><a href="#cite_note-dwarf_group_note-105">[101]</a></sup> At this point, if somehow the Earth survives, temperatures on the surface of the planet, as well as other remaining planets in the Solar System, will begin dropping rapidly, due to the white dwarf Sun emitting much less energy than it does today.',years:{base:8e9,exp:1},category:"solar",id:"event-TrJJ",startTimeInCompactUnits:9.903089986991944,easedStartTime:22.951106357160537,cleanedContentHTML:"The Sun becomes a carbon-oxygen white dwarf with about 54.05% its present mass.[95][99][100][101] At this point, if somehow the Earth survives, temperatures on the surface of the planet, as well as other remaining planets in the Solar System, will begin dropping rapidly, due to the white dwarf Sun emitting much less energy than it does today.",skimmableContent:"The Sun becomes a carbon-oxygen white dwarf with about 54.05% its present mass."},{yearsFromNow:"22 billion",contentHTML:'The end of the Universe in the <a href="/wiki/Big_Rip" title="Big Rip">Big Rip</a> scenario, assuming a model of <a href="/wiki/Dark_energy" title="Dark energy">dark energy</a> with <a href="/wiki/Equation_of_state_(cosmology)" title="Equation of state (cosmology)"><var style="padding-right: 1px;">w</var> = 1.5</a>.<sup id="cite_ref-bigrip_106-0" class="reference"><a href="#cite_note-bigrip-106">[102]</a></sup> If the density of dark energy is less than -1, then the Universe\'s expansion would continue to accelerate and the Observable Universe would continue to get smaller. Around 200 million years before the rip, galaxy clusters like the <a href="/wiki/Local_Group" title="Local Group">Local Group</a> or the <a href="/wiki/Sculptor_Group" title="Sculptor Group">Sculptor Group</a> would be destroyed. Sixty million years before the rip, all galaxies will begin to lose stars around their edges and will completely disintegrate in another 40 million years. Three months before the end, all star systems will become gravitationally unbound, and planets will fly off into the rapidly expanding universe. Thirty minutes before the end, <a href="/wiki/Planet" title="Planet">planets</a>, <a href="/wiki/Star" title="Star">stars</a>, <a href="/wiki/Asteroid" title="Asteroid">asteroids</a> and even extreme objects like <a href="/wiki/Neutron_star" title="Neutron star">neutron stars</a> and <a href="/wiki/Black_hole" title="Black hole">black holes</a> will evaporate into <a href="/wiki/Atom" title="Atom">atoms</a>. 10<sup>19</sup> seconds before the end, atoms would break apart. Ultimately, once rip reaches the <a href="/wiki/Planck_scale" class="mw-redirect" title="Planck scale">Planck scale</a>, cosmic strings would be disintegrated as well as the fabric of <a href="/wiki/Spacetime" title="Spacetime">spacetime</a> itself. The universe would enter into a "rip singularity" when all distances become infinitely large. Whereas a "crunch singularity" all matter is infinitely concentrated, in a "rip singularity" all matter is infinitely spread out.<sup id="cite_ref-107" class="reference"><a href="#cite_note-107">[103]</a></sup> However, observations of <a href="/wiki/Galaxy_cluster" title="Galaxy cluster">galaxy cluster</a> speeds by the <a href="/wiki/Chandra_X-ray_Observatory" title="Chandra X-ray Observatory">Chandra X-ray Observatory</a> suggest that the true value of <var style="padding-right: 1px;">w</var> is c. 0.991, meaning the Big Rip will not occur.<sup id="cite_ref-chand_108-0" class="reference"><a href="#cite_note-chand-108">[104]</a></sup>',years:{base:22e9,exp:1},category:"universe",id:"event-fDud",startTimeInCompactUnits:10.342422680822207,easedStartTime:24.06670936476562,cleanedContentHTML:'The end of the Universe in the Big Rip scenario, assuming a model of dark energy with w = 1.5.[102] If the density of dark energy is less than -1, then the Universe\'s expansion would continue to accelerate and the Observable Universe would continue to get smaller. Around 200 million years before the rip, galaxy clusters like the Local Group or the Sculptor Group would be destroyed. Sixty million years before the rip, all galaxies will begin to lose stars around their edges and will completely disintegrate in another 40 million years. Three months before the end, all star systems will become gravitationally unbound, and planets will fly off into the rapidly expanding universe. Thirty minutes before the end, planets, stars, asteroids and even extreme objects like neutron stars and black holes will evaporate into atoms. 1019 seconds before the end, atoms would break apart. Ultimately, once rip reaches the Planck scale, cosmic strings would be disintegrated as well as the fabric of spacetime itself. The universe would enter into a "rip singularity" when all distances become infinitely large. Whereas a "crunch singularity" all matter is infinitely concentrated, in a "rip singularity" all matter is infinitely spread out.[103] However, observations of galaxy cluster speeds by the Chandra X-ray Observatory suggest that the true value of w is c. 0.991, meaning the Big Rip will not occur.[104]',skimmableContent:'The end of the Universe in the Big Rip scenario, assuming a model of dark energy with w = 1.5, which is unlikely. The universe would enter into a "rip singularity" when all distances become infinitely large.'},{yearsFromNow:"100-150 billion",contentHTML:'The <a href="/wiki/Metric_expansion_of_space" class="mw-redirect" title="Metric expansion of space">Universe\'s expansion</a> causes all galaxies beyond the former Milky Way\'s <a href="/wiki/Local_Group" title="Local Group">Local Group</a> to disappear beyond the <a href="/wiki/Particle_horizon" title="Particle horizon">cosmic light horizon</a>, removing them from the <a href="/wiki/Observable_universe" title="Observable universe">observable universe</a>.<sup id="cite_ref-galaxy_113-0" class="reference"><a href="#cite_note-galaxy-113">[109]</a></sup>',years:{base:1e11,exp:1},category:"galaxy",id:"event-LJnF",startTimeInCompactUnits:11,easedStartTime:25.677419354838708,cleanedContentHTML:"The Universe's expansion causes all galaxies beyond the former Milky Way's Local Group to disappear beyond the cosmic light horizon, removing them from the observable universe.[109]",skimmableContent:"The Universe's expansion causes all galaxies beyond the former Milky Way's Local Group to disappear beyond the cosmic light horizon, removing them from the observable universe."},{yearsFromNow:"150 billion",contentHTML:'The universe will have expanded in size by a factor of 10,000 to approximately 10<sup>15</sup> (1 quadrillion) light-years in diameter.<sup id="cite_ref-:0_114-0" class="reference"><a href="#cite_note-:0-114">[110]</a></sup><p>Proximate galaxy group <a href="/wiki/M81_Group" title="M81 Group">M81</a>, currently one of the closest to the <a href="/wiki/Local_Group" title="Local Group">Local Group</a> at 11.4 million light-years away and receding at 300&nbsp;km/s, would then be over 100 billion light-years away and receding at more than 6 times the <a href="/wiki/Speed_of_light" title="Speed of light">speed of light</a>.<sup id="cite_ref-115" class="reference"><a href="#cite_note-115">[111]</a></sup></p><p>Galaxy <a href="/wiki/GN-z11" title="GN-z11">GN-z11</a>, currently at 32 billion light-years away the most distant galaxy known, would then be more than 200 trillion light-years away and receding at over 10,000 times the speed of light, assuming convergence of the <a href="/wiki/Hubble%27s_law" title="Hubble\'s law">Hubble parameter</a> from currently 70&nbsp;km/s/Mpc to a future value of 55.4&nbsp;km/s/Mpc.</p>',years:{base:15e10,exp:1},category:"universe",id:"event-jUfN",startTimeInCompactUnits:11.176091259055681,easedStartTime:26.097214020350936,cleanedContentHTML:"The universe will have expanded in size by a factor of 10,000 to approximately 1015 (1 quadrillion) light-years in diameter.[110]<p>Proximate galaxy group M81, currently one of the closest to the Local Group at 11.4 million light-years away and receding at 300km/s, would then be over 100 billion light-years away and receding at more than 6 times the speed of light.[111]</p><p>Galaxy GN-z11, currently at 32 billion light-years away the most distant galaxy known, would then be more than 200 trillion light-years away and receding at over 10,000 times the speed of light, assuming convergence of the Hubble parameter from currently 70km/s/Mpc to a future value of 55.4km/s/Mpc.</p>",skimmableContent:"The universe will have expanded in size by a factor of 10,000 to approximately 1 quadrillion light-years in diameter."},{yearsFromNow:"150 billion",contentHTML:'The <a href="/wiki/Cosmic_microwave_background" title="Cosmic microwave background">cosmic microwave background</a> cools from its current temperature of c. 2.7&nbsp;K to 0.3&nbsp;K, rendering it essentially undetectable with current technology.<sup id="cite_ref-temp_116-0" class="reference"><a href="#cite_note-temp-116">[112]</a></sup>',years:{base:15e10,exp:1},category:"universe",id:"event-Wehh",startTimeInCompactUnits:11.176091259055681,easedStartTime:26.097214020350936,cleanedContentHTML:"The cosmic microwave background cools from its current temperature of c. 2.7K to 0.3K, rendering it essentially undetectable with current technology.[112]",skimmableContent:"The cosmic microwave background cools from its current temperature of 2.7Kelvin to 0.3Kelvin."},{yearsFromNow:"450 billion",contentHTML:'<a href="/wiki/Median" title="Median">Median</a> point by which the c. 47 galaxies<sup id="cite_ref-messier_117-0" class="reference"><a href="#cite_note-messier-117">[113]</a></sup> of the Local Group will coalesce into a single large galaxy.<sup id="cite_ref-dying_4-1" class="reference"><a href="#cite_note-dying-4">[4]</a></sup>',years:{base:45e10,exp:1},category:"galaxy",id:"event-SEIr",startTimeInCompactUnits:11.653212513775344,easedStartTime:27.211179623638234,cleanedContentHTML:"Median point by which the c. 47 galaxies[113] of the Local Group will coalesce into a single large galaxy.[4]",skimmableContent:"The c. 47 galaxies of the Local Group will coalesce into a single large galaxy."},{yearsFromNow:"800billion",contentHTML:'Expected time when the net light emission from the combined "Milkomeda" galaxy begins to decline as the <a href="/wiki/Red_dwarf" title="Red dwarf">red dwarf</a> stars pass through their <a href="/wiki/Blue_dwarf_(red-dwarf_stage)" title="Blue dwarf (red-dwarf stage)">blue dwarf</a> stage of peak luminosity.<sup id="cite_ref-bluedwarf_120-0" class="reference"><a href="#cite_note-bluedwarf-120">[114]</a></sup>',years:{base:8e11,exp:1},category:"galaxy",id:"event-Tffk",startTimeInCompactUnits:11.903089986991944,easedStartTime:27.78129012144513,cleanedContentHTML:'Expected time when the net light emission from the combined "Milkomeda" galaxy begins to decline as the red dwarf stars pass through their blue dwarf stage of peak luminosity.[114]',skimmableContent:'Expected time when the net light emission from the combined "Milkomeda" galaxy begins to decline as the red dwarf stars pass through their blue dwarf stage of peak luminosity.'},{yearsFromNow:"100billion  1trillion",contentHTML:'Estimated time until the Universe ends via the <a href="/wiki/Big_Crunch" title="Big Crunch">Big Crunch</a>, assuming a "closed" model. Depending on how long the <a href="/wiki/Expansion_of_the_universe" title="Expansion of the universe">expansion</a> phase is, the events in the contraction phase will happen in the reverse order.<sup id="cite_ref-Davies1994_121-0" class="reference"><a href="#cite_note-Davies1994-121">[115]</a></sup> Galaxy <a href="/wiki/Supercluster" title="Supercluster">superclusters</a> would first merge, followed by <a href="/wiki/Galaxy_cluster" title="Galaxy cluster">galaxy clusters</a> and then later <a href="/wiki/Galaxy" title="Galaxy">galaxies</a>. Eventually, <a href="/wiki/Star" title="Star">stars</a> have become so close together that they will begin to collide with each other. As the Universe continues to contract, the <a href="/wiki/Cosmic_microwave_background" title="Cosmic microwave background">cosmic microwave background</a> <a href="/wiki/Temperature" title="Temperature">temperature</a> will rise above the surface temperature of certain stars, which means that these stars will no longer be able to expel their internal heat, slowly cooking themselves until they explode. It will begin with low-mass <a href="/wiki/Red_Dwarf" title="Red Dwarf">Red Dwarf</a> stars once the CMB reaches 2,400&nbsp;K (2,130&nbsp;C; 3,860&nbsp;F) around 500,000 years before the end, followed by <a href="/wiki/Stellar_classification" title="Stellar classification">K-type, G-type, F-type, A-type, B-type and finally O-type</a> stars around 100,000 years before the Big Crunch. Minutes before the Big Crunch, the temperature will be so great that <a href="/wiki/Atomic_nuclei" class="mw-redirect" title="Atomic nuclei">atomic nuclei</a> will disband and the particles will be sucked up by already coalescing <a href="/wiki/Black_hole" title="Black hole">black holes</a>. Finally, all the black holes in the Universe will merge into one singular black hole containing all the <a href="/wiki/Matter" title="Matter">matter</a> in the universe, which would then devour the Universe, including itself.<sup id="cite_ref-Davies1994_121-1" class="reference"><a href="#cite_note-Davies1994-121">[115]</a></sup> After this, it is possible that a new Big Bang would follow and create a new universe. The observed actions of <a href="/wiki/Dark_energy" title="Dark energy">dark energy</a> and the shape of the Universe do not support this scenario. It is thought that the Universe is flat and because of dark energy, the expansion of the universe will accelerate; However, the properties of dark energy are still not known, and thus it is possible that dark energy could reverse sometime in the future.<p>It is also possible that the Universe is a "closed model", but that the curvature is so small that we can\'t detect it over the distance of the current observable universe.<sup id="cite_ref-122" class="reference"><a href="#cite_note-122">[116]</a></sup></p>',years:{base:1e12,exp:1},category:"universe",id:"event-YISK",startTimeInCompactUnits:12,easedStartTime:28,cleanedContentHTML:'Estimated time until the Universe ends via the Big Crunch, assuming a "closed" model. Depending on how long the expansion phase is, the events in the contraction phase will happen in the reverse order.[115] Galaxy superclusters would first merge, followed by galaxy clusters and then later galaxies. Eventually, stars have become so close together that they will begin to collide with each other. As the Universe continues to contract, the cosmic microwave background temperature will rise above the surface temperature of certain stars, which means that these stars will no longer be able to expel their internal heat, slowly cooking themselves until they explode. It will begin with low-mass Red Dwarf stars once the CMB reaches 2,400K (2,130C; 3,860F) around 500,000 years before the end, followed by K-type, G-type, F-type, A-type, B-type and finally O-type stars around 100,000 years before the Big Crunch. Minutes before the Big Crunch, the temperature will be so great that atomic nuclei will disband and the particles will be sucked up by already coalescing black holes. Finally, all the black holes in the Universe will merge into one singular black hole containing all the matter in the universe, which would then devour the Universe, including itself.[115] After this, it is possible that a new Big Bang would follow and create a new universe. The observed actions of dark energy and the shape of the Universe do not support this scenario. It is thought that the Universe is flat and because of dark energy, the expansion of the universe will accelerate; However, the properties of dark energy are still not known, and thus it is possible that dark energy could reverse sometime in the future.<p>It is also possible that the Universe is a "closed model", but that the curvature is so small that we can\'t detect it over the distance of the current observable universe.[116]</p>',skimmableContent:'Estimated time until the Universe ends via the Big Crunch, assuming a "closed" model. Everything in the Universe will merge into one singular black hole containing all the matter in the universe, which would then devour the Universe, including itself. After this, it is possible that a new Big Bang would follow and create a new universe. (The observed actions of dark energy and the shape of the Universe do not support this scenario.)'},{yearsFromNow:"1.25trillion",contentHTML:'The universe will have doubled in size more than 100 times (a factor of more than 10<sup>30</sup>) to more than 10<sup>41</sup> light-years in diameter. All gravitationally unbound galaxies currently separated by more than 1 <a href="/wiki/Parsec#Megaparsecs_and_gigaparsecs" title="Parsec">megaparsec</a> (Mpc) will at this point be separated by more than 10<sup>30</sup> Mpc (10<sup>36</sup> light-years) and receding from <i>each other</i> more than 100 million times the diameter of the currently <a href="/wiki/Observable_universe" title="Observable universe">observable universe</a> every second.<p>Distant galaxy <a href="/wiki/GN-z11" title="GN-z11">GN-z11</a> or its remnants would at that point also be more than 10<sup>41</sup> light-years away and receding more than 1 trillion times the diameter of the currently <a href="/wiki/Observable_universe" title="Observable universe">observable universe</a> every second<sup id="cite_ref-123" class="reference"><a href="#cite_note-123">[note 7]</a></sup> (assuming a continued expansion rate of doubling every 12.2 billion years and future <a href="/wiki/Hubble%27s_law" title="Hubble\'s law">Hubble parameter</a> value of 55.4&nbsp;km/s/Mpc<sup id="cite_ref-:0_114-2" class="reference"><a href="#cite_note-:0-114">[110]</a></sup>) . Beyond this point, the universe will expand by a factor of 10<sup>24</sup> every trillion years, and it will be increasingly difficult to describe the recession of any gravitationally unbound objects in terms of a familiar physical analogy.</p>',years:{base:125e10,exp:1},category:"universe",id:"event-LDTC",startTimeInCompactUnits:12.096910013008056,easedStartTime:28.21738917963605,speakableContent:"The universe will have doubled in size more than 100 times (a factor of more than 10 to the 30th power) to more than 10 to the 41st power light-years in diameter.",skimmableContent:"The universe will have doubled in size more than 100 times (a factor of more than 10<sup>30</sup> power) to more than 10<sup>41</sup> light-years in diameter.",cleanedContentHTML:"The universe will have doubled in size more than 100 times (a factor of more than 10<sup>30</sup>) to more than 10<sup>41</sup> to more than 10<sup>41</sup> light-years in diameter. All gravitationally unbound galaxies currently separated by more than 1 megaparsec (Mpc) will at this point be separated by more than 10<sup>30</sup> Mpc (10<sup>36</sup> light-years) and receding from <i>each other</i> more than 100 million times the diameter of the currently observable universe every second.<p>Distant galaxy GN-z11 or its remnants would at that point also be more than 10<sup>41</sup> light-years away and receding more than 1 trillion times the diameter of the currently observable universe every second (assuming a continued expansion rate of doubling every 12.2 billion years and future Hubble parameter value of 55.4km/s/Mpc) . Beyond this point, the universe will expand by a factor of 10<sup>24</sup> every trillion years, and it will be increasingly difficult to describe the recession of any gravitationally unbound objects in terms of a familiar physical analogy.</p>"},{yearsFromNow:"4trillion",contentHTML:'Estimated time until the red dwarf star <a href="/wiki/Proxima_Centauri" title="Proxima Centauri">Proxima Centauri</a>, the closest star to the Sun at a distance of 4.25 <a href="/wiki/Light-year" title="Light-year">light-years</a>, leaves the main sequence and becomes a <a href="/wiki/White_dwarf" title="White dwarf">white dwarf</a>.<sup id="cite_ref-124" class="reference"><a href="#cite_note-124">[117]</a></sup>',years:{base:4e12,exp:1},category:"galaxy",id:"event-Kewv",startTimeInCompactUnits:12.602059991327963,easedStartTime:29.329619029814186,cleanedContentHTML:"Estimated time until the red dwarf star Proxima Centauri, the closest star to the Sun at a distance of 4.25 light-years, leaves the main sequence and becomes a white dwarf.[117]",skimmableContent:"Estimated time until the red dwarf star Proxima Centauri, the closest star to the Sun at a distance of 4.25 light-years, leaves the main sequence and becomes a white dwarf."},{yearsFromNow:"4.2trillion",contentHTML:'The universe will have expanded by significantly more than a factor of 10<sup>100</sup>. All gravitationally unbound galaxies currently separated by more than 1 <a href="/wiki/Parsec#Megaparsecs_and_gigaparsecs" title="Parsec">Mpc</a> will at this point be separated by more than 10<sup>103</sup> Mpc (10<sup>110</sup> light-years) and receding from each other at more than 10<sup>83</sup> <a href="/wiki/Parsec#Megaparsecs_and_gigaparsecs" title="Parsec">Gpc</a>/s (10<sup>92</sup> light-years per second), assuming a continued expansion rate of doubling every 12.2 billion years and future <a href="/wiki/Hubble%27s_law" title="Hubble\'s law">Hubble parameter</a> value of 55.4&nbsp;km/s/Mpc.<sup id="cite_ref-:0_114-3" class="reference"><a href="#cite_note-:0-114">[110]</a></sup><p>The <a href="/wiki/Comoving_and_proper_distances" title="Comoving and proper distances">proper distances</a> between galaxies will be increasing to such an extent<sup id="cite_ref-125" class="reference"><a href="#cite_note-125">[note 8]</a></sup> that the rate at which they are receding from each other is accelerating by more than 10<sup>65</sup>&nbsp;Gpc/s/s (10<sup>74</sup> light-years per second per second) due to the expansion of the universe.</p>',years:{base:42e11,exp:1},category:"universe",id:"event-Pvwd",startTimeInCompactUnits:12.6232492903979,easedStartTime:29.375520522471586,cleanedContentHTML:"The universe will have expanded by significantly more than a factor of 10100. All gravitationally unbound galaxies currently separated by more than 1 Mpc will at this point be separated by more than 10103 Mpc (10110 light-years) and receding from each other at more than 1083 Gpc/s (1092 light-years per second), assuming a continued expansion rate of doubling every 12.2 billion years and future Hubble parameter value of 55.4km/s/Mpc.[110]<p>The proper distances between galaxies will be increasing to such an extent[note 8] that the rate at which they are receding from each other is accelerating by more than 1065Gpc/s/s (1074 light-years per second per second) due to the expansion of the universe.</p>",speakableContent:"The universe will have expanded by significantly more than a factor of 10<sup>100</sup> power.",skimmableContent:"The universe will have expanded by significantly more than a factor of 10 to the 100th power."},{yearsFromNow:"12 trillion",contentHTML:'Estimated time until the red dwarf <a href="/wiki/VB_10" title="VB 10">VB 10</a>, as of 2016 the least massive <a href="/wiki/Main_sequence" title="Main sequence">main sequence</a> star with an estimated mass of 0.075 <var>M</var><sub></sub>, runs out of hydrogen in its core and becomes a <a href="/wiki/White_dwarf" title="White dwarf">white dwarf</a>.<sup id="cite_ref-S&amp;T_22_126-0" class="reference"><a href="#cite_note-S&amp;T_22-126">[118]</a></sup><sup id="cite_ref-127" class="reference"><a href="#cite_note-127">[119]</a></sup>',years:{base:12e12,exp:1},category:"galaxy",id:"event-xpcZ",startTimeInCompactUnits:13.079181246047625,easedStartTime:30.348941140274228,cleanedContentHTML:"Estimated time until the red dwarf VB 10, as of 2016 the least massive main sequence star with an estimated mass of 0.075 M, runs out of hydrogen in its core and becomes a white dwarf.[118][119]",skimmableContent:"Estimated time until the red dwarf VB 10, as of 2016 the least massive main sequence star with an estimated mass of 0.075 M, runs out of hydrogen in its core and becomes a white dwarf."},{yearsFromNow:"30 trillion",contentHTML:'Estimated time for stars (including the <a href="/wiki/Sun" title="Sun">Sun</a>) to undergo a close encounter with another star in local stellar neighborhoods. Whenever two stars (or stellar remnants) pass close to each other, their planets\' orbits can be disrupted, potentially ejecting them from the system entirely. On average, the closer a planet\'s orbit to its parent star the longer it takes to be ejected in this manner, because it is gravitationally more tightly bound to the star.<sup id="cite_ref-strip_128-0" class="reference"><a href="#cite_note-strip-128">[120]</a></sup>',years:{base:3e13,exp:1},category:"universe",id:"event-jdEL",startTimeInCompactUnits:13.477121254719663,easedStartTime:31.17687800962939,cleanedContentHTML:"Estimated time for stars (including the Sun) to undergo a close encounter with another star in local stellar neighborhoods. Whenever two stars (or stellar remnants) pass close to each other, their planets' orbits can be disrupted, potentially ejecting them from the system entirely. On average, the closer a planet's orbit to its parent star the longer it takes to be ejected in this manner, because it is gravitationally more tightly bound to the star.[120]",skimmableContent:"Stars (including the Sun) will undergo a close encounter with another star in local stellar neighborhoods. Whenever two stars (or stellar remnants) pass close to each other, their planets' orbits can be disrupted, potentially ejecting them from the system entirely."},{yearsFromNow:"100trillion",contentHTML:'High estimate for the time until normal <a href="/wiki/Star_formation" title="Star formation">star formation</a> ends in galaxies.<sup id="cite_ref-dying_4-3" class="reference"><a href="#cite_note-dying-4">[4]</a></sup> This marks the transition from the <a href="/wiki/Future_of_an_expanding_universe" title="Future of an expanding universe">Stelliferous Era to the Degenerate Era</a>; with no free hydrogen to form new stars, all remaining stars slowly exhaust their fuel and die.<sup id="cite_ref-five_ages_3-1" class="reference"><a href="#cite_note-five_ages-3">[3]</a></sup>',years:{base:1e14,exp:1},category:"universe",id:"event-WLEC",startTimeInCompactUnits:14,easedStartTime:32.23529411764706,cleanedContentHTML:"High estimate for the time until normal star formation ends in galaxies.[4] This marks the transition from the Stelliferous Era to the Degenerate Era; with no free hydrogen to form new stars, all remaining stars slowly exhaust their fuel and die.[3]",skimmableContent:"Normal star formation ends in galaxies. This marks the transition from the Stelliferous Era to the Degenerate Era; with no free hydrogen to form new stars, all remaining stars slowly exhaust their fuel and die.",speakableContent:"Normal star formation ends in galaxies. This marks the transition from the stella ferrous Era to the Degenerate Era; with no free hydrogen to form new stars, all remaining stars slowly exhaust their fuel and die."},{yearsFromNow:"110120 trillion",contentHTML:'Time by which all stars in the universe will have exhausted their fuel (the longest-lived stars, low-mass <a href="/wiki/Red_dwarf" title="Red dwarf">red dwarfs</a>, have lifespans of roughly 1020 trillion years).<sup id="cite_ref-dying_4-4" class="reference"><a href="#cite_note-dying-4">[4]</a></sup> After this point, the stellar-mass objects remaining are <a href="/wiki/Compact_star" title="Compact star">stellar remnants</a> (<a href="/wiki/White_dwarf" title="White dwarf">white dwarfs</a>, <a href="/wiki/Neutron_star" title="Neutron star">neutron stars</a>, <a href="/wiki/Stellar_black_hole" title="Stellar black hole">black holes</a>) and <a href="/wiki/Brown_dwarf" title="Brown dwarf">brown dwarfs</a>.<p>Collisions between brown dwarfs will create new red dwarfs on a marginal level: on average, about 100 stars will be shining in what was once the Milky Way. Collisions between stellar remnants will create occasional supernovae.<sup id="cite_ref-dying_4-5" class="reference"><a href="#cite_note-dying-4">[4]</a></sup></p>',years:{base:11e13,exp:1},category:"universe",id:"event-aQad",startTimeInCompactUnits:14.041392685158225,easedStartTime:32.31769271870814,cleanedContentHTML:"Time by which all stars in the universe will have exhausted their fuel (the longest-lived stars, low-mass red dwarfs, have lifespans of roughly 1020 trillion years).[4] After this point, the stellar-mass objects remaining are stellar remnants (white dwarfs, neutron stars, black holes) and brown dwarfs.<p>Collisions between brown dwarfs will create new red dwarfs on a marginal level: on average, about 100 stars will be shining in what was once the Milky Way. Collisions between stellar remnants will create occasional supernovae.[4]</p>",skimmableContent:"On average, about 100 stars will be shining in what was once the Milky Way. Collisions between stellar remnants will create occasional supernovae."},{yearsFromNow:"1 quadrillion",contentHTML:'Estimated time until stellar close encounters detach all planets in star systems (including the <a href="/wiki/Solar_System" title="Solar System">Solar System</a>) from their orbits.<sup id="cite_ref-dying_4-6" class="reference"><a href="#cite_note-dying-4">[4]</a></sup><p>By this point, the <a href="/wiki/Black_dwarf" title="Black dwarf">Sun will have cooled</a> to five degrees above <a href="/wiki/Absolute_zero" title="Absolute zero">absolute zero</a>.<sup id="cite_ref-five_degs_129-0" class="reference"><a href="#cite_note-five_degs-129">[121]</a></sup></p>',years:{base:1e15,exp:1},category:"solar",id:"event-FlwT",startTimeInCompactUnits:15,easedStartTime:34.17142857142857,cleanedContentHTML:"Estimated time until stellar close encounters detach all planets in star systems (including the Solar System) from their orbits.[4]<p>By this point, the Sun will have cooled to five degrees above absolute zero.[121]</p>",skimmableContent:"Stellar close encounters detach all planets in star systems (including the Solar System) from their orbits. By this point, the Sun will have cooled to five degrees above absolute zero."},{yearsFromNow:"10100 quintillion",contentHTML:'Estimated time until 90%99% of <a href="/wiki/Brown_dwarf" title="Brown dwarf">brown dwarfs</a> and <a href="/wiki/Compact_star" title="Compact star">stellar remnants</a> (including the <a href="/wiki/Sun" title="Sun">Sun</a>) are ejected from galaxies. When two objects pass close enough to each other, they exchange orbital energy, with lower-mass objects tending to gain energy. Through repeated encounters, the lower-mass objects can gain enough energy in this manner to be ejected from their galaxy. This process eventually causes the Milky Way to eject the majority of its brown dwarfs and stellar remnants.<sup id="cite_ref-dying_4-7" class="reference"><a href="#cite_note-dying-4">[4]</a></sup><sup id="cite_ref-five_ages_pp8587_130-0" class="reference"><a href="#cite_note-five_ages_pp8587-130">[122]</a></sup>',years:{base:10,exp:18},category:"galaxy",id:"event-wuXN",startTimeInCompactUnits:18,easedStartTime:39.368421052631575,cleanedContentHTML:"Estimated time until 90%99% of brown dwarfs and stellar remnants (including the Sun) are ejected from galaxies. When two objects pass close enough to each other, they exchange orbital energy, with lower-mass objects tending to gain energy. Through repeated encounters, the lower-mass objects can gain enough energy in this manner to be ejected from their galaxy. This process eventually causes the Milky Way to eject the majority of its brown dwarfs and stellar remnants.[4][122]",skimmableContent:"90%99% of brown dwarfs and stellar remnants (including the Sun) will be ejected from galaxies."},{yearsFromNow:"10<sup>30</sup>",contentHTML:'Estimated time until those stars not ejected from galaxies (1%10%) fall into their galaxies\' central <a href="/wiki/Supermassive_black_hole" title="Supermassive black hole">supermassive black holes</a>. By this point, with <a href="/wiki/Binary_star" title="Binary star">binary stars</a> having fallen into each other, and planets into their stars, via emission of gravitational radiation, only solitary objects (stellar remnants, brown dwarfs, ejected planetary-mass objects, black holes) will remain in the universe.<sup id="cite_ref-dying_4-8" class="reference"><a href="#cite_note-dying-4">[4]</a></sup>',years:{base:10,exp:31},category:"universe",id:"event-voru",startTimeInCompactUnits:31,easedStartTime:54.82352941176471,cleanedContentHTML:"Estimated time until those stars not ejected from galaxies (1%10%) fall into their galaxies' central supermassive black holes. By this point, with binary stars having fallen into each other, and planets into their stars, via emission of gravitational radiation, only solitary objects (stellar remnants, brown dwarfs, ejected planetary-mass objects, and black holes) will remain in the universe.[4]",skimmableContent:"Those stars not ejected from galaxies fall into their galaxies' central supermassive black holes. By this point, with binary stars having fallen into each other, and planets into their stars, via emission of gravitational radiation, only solitary objects (stellar remnants, brown dwarfs, ejected planetary-mass objects, and black holes) will remain in the universe."},{yearsFromNow:"310<sup>43</sup>",contentHTML:'Estimated time for all nucleons in the observable universe to decay, if the hypothesized <a href="/wiki/Proton_decay" title="Proton decay">proton half-life</a> takes the largest possible value, 10<sup>41</sup> years,<sup id="cite_ref-dying_4-9" class="reference"><a href="#cite_note-dying-4">[4]</a></sup> assuming that the <a href="/wiki/Big_Bang" title="Big Bang">Big Bang</a> was <a href="/wiki/Inflation_(cosmology)" title="Inflation (cosmology)">inflationary</a> and that the same process that made baryons predominate over anti-baryons in the early Universe makes protons decay.<sup id="cite_ref-half-life_133-1" class="reference"><a href="#cite_note-half-life-133">[125]</a></sup><sup id="cite_ref-half-life_134-1" class="reference"><a href="#cite_note-half-life-134">[note 9]</a></sup> By this time, if protons do decay, the <a href="/wiki/Future_of_an_expanding_universe" title="Future of an expanding universe">Black Hole Era</a>, in which black holes are the only remaining celestial objects, begins.<sup id="cite_ref-five_ages_3-2" class="reference"><a href="#cite_note-five_ages-3">[3]</a></sup><sup id="cite_ref-dying_4-10" class="reference"><a href="#cite_note-dying-4">[4]</a></sup>',years:{base:10,exp:43.477},category:"physics",id:"event-TdMg",startTimeInCompactUnits:43.477,easedStartTime:63.70338862895222,cleanedContentHTML:"Estimated time for all nucleons in the observable universe to decay, if the hypothesized proton half-life takes the largest possible value, 1041 years,[4] assuming that the Big Bang was inflationary and that the same process that made baryons predominate over anti-baryons in the early Universe makes protons decay.[125][note 9] By this time, if protons do decay, the Black Hole Era, in which black holes are the only remaining celestial objects, begins.[3][4]",skimmableContent:"Estimated time for all nucleons in the observable universe to decay, if the hypothesized proton half-life takes the largest possible value, 10<sup>41</sup> years, assuming that the Big Bang was inflationary and that the same process that made baryons predominate over anti-baryons in the early Universe makes protons decay. By this time, if protons do decay, the Black Hole Era, in which black holes are the only remaining celestial objects, begins.",speakableContent:"Estimated time for all nucleons in the observable universe to decay, if the hypothesized proton half-life takes the largest possible value, 10 to the 41st power years, assuming that the Big Bang was inflationary and that the same process that made baryons predominate over anti-baryons in the early Universe makes protons decay. By this time, if protons do decay, the Black Hole Era, in which black holes are the only remaining celestial objects, begins."},{yearsFromNow:"10<sup>65</sup>",contentHTML:'Assuming that protons do not decay, estimated time for rigid objects, from free-floating rocks in space to <a href="/wiki/Planets" class="mw-redirect" title="Planets">planets</a>, to rearrange their atoms and molecules via <a href="/wiki/Quantum_tunneling" class="mw-redirect" title="Quantum tunneling">quantum tunneling</a>. On this timescale, any discrete body of matter "behaves like a liquid" and becomes a smooth sphere due to diffusion and gravity.<sup id="cite_ref-dyson_131-2" class="reference"><a href="#cite_note-dyson-131">[123]</a></sup>',years:{base:10,exp:65},category:"physics",id:"event-RSHJ",startTimeInCompactUnits:65,easedStartTime:72.89411764705882,cleanedContentHTML:'Assuming that protons do not decay, estimated time for rigid objects, from free-floating rocks in space to planets, to rearrange their atoms and molecules via quantum tunneling. On this timescale, any discrete body of matter "behaves like a liquid" and becomes a smooth sphere due to diffusion and gravity.[123]',skimmableContent:'Assuming that protons do not decay, estimated time for rigid objects, from free-floating rocks in space to planets, to rearrange their atoms and molecules via quantum tunneling. On this timescale, any discrete body of matter "behaves like a liquid" and becomes a smooth sphere due to diffusion and gravity.'},{yearsFromNow:"5.810<sup>68</sup>",contentHTML:'Estimated time until a <a href="/wiki/Stellar_black_hole" title="Stellar black hole">stellar mass black hole</a> with a mass of 3 <a href="/wiki/Solar_mass" title="Solar mass">solar masses</a> decays into subatomic particles by <a href="/wiki/Hawking_radiation" title="Hawking radiation">Hawking radiation</a>.<sup id="cite_ref-Page_1976_135-0" class="reference"><a href="#cite_note-Page_1976-135">[126]</a></sup>',years:{base:10,exp:68.763},category:"universe",id:"event-LTyf",startTimeInCompactUnits:68.763,easedStartTime:74.04323873686108,cleanedContentHTML:"Estimated time until a stellar mass black hole with a mass of 3 solar masses decays into subatomic particles by Hawking radiation.[126]",skimmableContent:"Estimated time until a stellar mass black hole with a mass of 3 solar masses decays into subatomic particles by Hawking radiation."},{yearsFromNow:"610<sup>99</sup>",contentHTML:'Estimated time until the supermassive black hole of <a href="/wiki/TON_618" title="TON 618">TON 618</a>, as of 2018 the <a href="/wiki/List_of_most_massive_black_holes" title="List of most massive black holes">most massive known</a> with the mass of 66 billion solar masses, dissipates by the emission of Hawking radiation,<sup id="cite_ref-Page_1976_135-1" class="reference"><a href="#cite_note-Page_1976-135">[126]</a></sup> assuming zero angular momentum (non-rotating black hole).',years:{base:10,exp:99.778},category:"universe",id:"event-tzeW",startTimeInCompactUnits:99.778,easedStartTime:80.76441416620749,cleanedContentHTML:"Estimated time until the supermassive black hole of TON 618, as of 2018 the most massive known with the mass of 66 billion solar masses, dissipates by the emission of Hawking radiation,[126] assuming zero angular momentum (non-rotating black hole).",skimmableContent:"Estimated time until the supermassive black hole of TON 618, as of 2018 the most massive known with the mass of 66 billion solar masses, dissipates by the emission of Hawking radiation, assuming zero angular momentum (non-rotating black hole).",endMovement:!0},{yearsFromNow:"1.710<sup>106</sup>",contentHTML:'Estimated time until a supermassive black hole with a mass of 20 trillion solar masses decays by the Hawking process.<sup id="cite_ref-Page_1976_135-2" class="reference"><a href="#cite_note-Page_1976-135">[126]</a></sup> This marks the end of the Black Hole Era. Beyond this time, if protons do decay, the Universe enters the <a href="/wiki/Dark_Era" class="mw-redirect" title="Dark Era">Dark Era</a>, in which all physical objects have decayed to subatomic particles, gradually winding down to their final energy state in the <a href="/wiki/Heat_death_of_the_universe" title="Heat death of the universe">heat death of the universe</a>.<sup id="cite_ref-five_ages_3-3" class="reference"><a href="#cite_note-five_ages-3">[3]</a></sup><sup id="cite_ref-dying_4-11" class="reference"><a href="#cite_note-dying-4">[4]</a></sup><p>Also by this time, if the projected expansion rate of the universe continues with doubling in size occurring approximately every 12 billion years,<sup id="cite_ref-:0_114-4" class="reference"><a href="#cite_note-:0-114">[110]</a></sup> the universe will have expanded in size by a factor of more than <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" alttext="{\\displaystyle 10^{10^{95}}.}">  <semantics>    <mrow class="MJX-TeXAtom-ORD">      <mstyle displaystyle="true" scriptlevel="0">        <msup>          <mn>10</mn>          <mrow class="MJX-TeXAtom-ORD">            <msup>              <mn>10</mn>              <mrow class="MJX-TeXAtom-ORD">                <mn>95</mn>              </mrow>            </msup>          </mrow>        </msup>        <mo>.</mo>      </mstyle>    </mrow>    <annotation encoding="application/x-tex">{\\displaystyle 10^{10^{95}}.}</annotation>  </semantics></math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/eac2b6880f040d4931c05aa7d242b2ec9a8a02af" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:6.347ex; height:3.009ex;" alt="{\\displaystyle 10^{10^{95}}.}"></span><sup id="cite_ref-136" class="reference"><a href="#cite_note-136">[note 10]</a></sup><sup id="cite_ref-137" class="reference"><a href="#cite_note-137">[note 11]</a></sup> If protons do decay, most of the universe would then be almost pure vacuum with each of the <a href="/wiki/Elementary_particle#Common_elementary_particles" title="Elementary particle">currently estimated 10<sup>97</sup> subatomic particles</a> being entirely alone within its cosmological event horizon.<sup id="cite_ref-138" class="reference"><a href="#cite_note-138">[note 12]</a></sup> From a probabilistic standpoint, our currently observable universe would be unlikely to then contain even a single subatomic particle.<sup id="cite_ref-139" class="reference"><a href="#cite_note-139">[note 13]</a></sup><sup id="cite_ref-140" class="reference"><a href="#cite_note-140">[note 14]</a></sup></p>',years:{base:10,exp:106.23},category:"physics",id:"event-jvbH",startTimeInCompactUnits:106.23,easedStartTime:100.39645454545455,cleanedContentHTML:"Estimated time until a supermassive black hole with a mass of 20 trillion solar masses decays by the Hawking process. This marks the end of the Black Hole Era. Beyond this time, if protons do decay, the Universe enters the Dark Era, in which all physical objects have decayed to subatomic particles, gradually winding down to their final energy state in the heat death of the universe.<p>Also by this time, if the projected expansion rate of the universe continues with doubling in size occurring approximately every 12 billion years, the universe will have expanded in size by a factor of more than 10<sup>10<sup>95</sup></sup>. If protons do decay, most of the universe would then be almost pure vacuum with each of the currently estimated 1097 subatomic particles being entirely alone within its cosmological event horizon. From a probabilistic standpoint, our currently observable universe would be unlikely to then contain even a single subatomic particle.</p>",skimmableContent:"A supermassive black hole with a mass of 20 trillion solar masses decays by the Hawking process. This marks the end of the Black Hole Era. Beyond this time, if protons do decay, the Universe enters the Dark Era, in which all physical objects have decayed to subatomic particles, gradually winding down to their final energy state in the heat death of the universe."},{yearsFromNow:"10<sup>139</sup>",contentHTML:'2018 estimate of Standard Model lifetime before <a href="/wiki/False_vacuum#Vacuum_metastability_event" title="False vacuum">collapse of a false vacuum</a>; 95% confidence interval is 10<sup>58</sup> to 10<sup>241</sup> years due in part to uncertainty about the top quark mass.<sup id="cite_ref-141" class="reference"><a href="#cite_note-141">[127]</a></sup>',years:{base:10,exp:139},category:"physics",id:"event-rlvs",startTimeInCompactUnits:139,easedStartTime:102.48181818181818,cleanedContentHTML:"2018 estimate of Standard Model lifetime before collapse of a false vacuum; 95% confidence interval is 1058 to 10241 years due in part to uncertainty about the top quark mass.",skimmableContent:"Collapse of a false vacuum, if the universe actually is in a false vacuum. This would mean that everything, from subatomic particles to galaxies, and all fundamental forces, would be reconstituted into new fundamental particles and forces and structures."},{yearsFromNow:"10<sup>1500</sup>",contentHTML:'Assuming protons do not decay, the estimated time until all <a href="/wiki/Baryonic_matter" class="mw-redirect" title="Baryonic matter">baryonic matter</a> has either fused together to form <a href="/wiki/Iron-56" title="Iron-56">iron-56</a> or decayed from a higher mass element into iron-56 (see <a href="/wiki/Iron_star" title="Iron star">iron star</a>).<sup id="cite_ref-dyson_131-3" class="reference"><a href="#cite_note-dyson-131">[123]</a></sup>',years:{base:10,exp:1500},category:"physics",id:"event-OPlH",startTimeInCompactUnits:1100,easedStartTime:163.63636363636363,cleanedContentHTML:"Assuming protons do not decay, the estimated time until all baryonic matter has either fused together to form iron-56 or decayed from a higher mass element into iron-56 (see iron star).[123]",skimmableContent:"Assuming protons do not decay, the estimated time until all baryonic matter has either fused together to form iron-56 or decayed from a higher mass element into iron-56.",endMovement:!0},{yearsFromNow:"10<sup>10<sup>50</sup></sup>",contentHTML:'Estimated time for a <a href="/wiki/Boltzmann_brain" title="Boltzmann brain">Boltzmann brain</a> to appear in the vacuum via a spontaneous entropy decrease.<sup id="cite_ref-linde_6-1" class="reference"><a href="#cite_note-linde-6">[6]</a></sup>',years:{base:10,exp:1e50},category:"universe",id:"event-DrRp",startTimeInCompactUnits:2900,easedStartTime:278.18181818181813,cleanedContentHTML:"Estimated time for a Boltzmann brain to appear in the vacuum via a spontaneous entropy decrease.[6]",skimmableContent:"Estimated time for a Boltzmann brain to appear in the vacuum via a spontaneous entropy decrease.",endMovement:!0},{yearsFromNow:"10<sup>10<sup>76</sup></sup>",contentHTML:'High estimate for the time until all iron stars collapse into black holes, assuming no proton decay or virtual black holes, which then (on these timescales) instantaneously evaporate into sub-atomic particles.<p>This is also the highest estimated possible time for Black Hole Era (and subsequent Dark Era) to finally commence. Beyond this point, it is almost certain that the Universe will contain no more baryonic matter and will be an almost pure vacuum (possibly accompanied with the presence of a <a href="/wiki/False_vacuum" title="False vacuum">false vacuum</a>) until it reaches its <a href="/wiki/Heat_death_of_the_universe" title="Heat death of the universe">final energy state</a>, assuming it does not happen before this time.</p>',years:{base:10,exp:1e76},category:"physics",id:"event-PwTi",startTimeInCompactUnits:3800,easedStartTime:335.4545454545455,cleanedContentHTML:"High estimate for the time until all iron stars collapse into black holes, assuming no proton decay or virtual black holes, which then (on these timescales) instantaneously evaporate into sub-atomic particles. This is also the highest estimated possible time for the Black Hole Era (and subsequent Dark Era) to finally commence. Beyond this point, it is almost certain that the Universe will contain no more baryonic matter and will be an almost pure vacuum (possibly accompanied with the presence of a false vacuum) until it reaches its final energy state, assuming it does not happen before this time.",skimmableContent:"All iron stars collapse into black holes, assuming no proton decay or virtual black holes, which then (on these timescales) instantaneously evaporate into sub-atomic particles. This is also the highest estimated possible time for the Black Hole Era (and subsequent Dark Era) to finally commence. Beyond this point, it is almost certain that the Universe will contain no more baryonic matter and will be an almost pure vacuum (possibly accompanied with the presence of a false vacuum) until it reaches its final energy state, the heat death of the universe, assuming it does not happen before this time.",endMovement:!0},{yearsFromNow:"10<sup>10<sup>120</sup></sup>",contentHTML:'High estimate for the time for the universe to reach its final energy state, even in the presence of a false vacuum.<sup id="cite_ref-linde_6-2" class="reference"><a href="#cite_note-linde-6"></a></sup>',years:{base:10,exp:1e120},category:"physics",id:"event-yuPb",startTimeInCompactUnits:4700,easedStartTime:392.7272727272727,cleanedContentHTML:"High estimate for the time for the universe to reach its final energy state, even in the presence of a false vacuum.",skimmableContent:"The universe will reach its final energy state, even in the presence of a false vacuum."},{yearsFromNow:"10<sup>10<sup>10<sup>56</sup></sup></sup>",contentHTML:'Around this vast timeframe, quantum tunnelling in any isolated patch of the vacuum could generate, via <a href="/wiki/Cosmic_inflation" class="mw-redirect" title="Cosmic inflation">inflation</a>, new <a href="/wiki/Big_Bang" title="Big Bang">Big Bangs</a> giving birth to new universes. Because the total number of ways in which all the subatomic particles in the observable universe can be combined is 10<sup>10<sup>115</sup></sup>, a number which, when multiplied by 10<sup>10<sup>10<sup>56</sup></sup></sup>, disappears into the rounding error, this is also the time required for a <a href="/wiki/Quantum_tunnelling" title="Quantum tunnelling">quantum-tunnelled</a> and <a href="/wiki/Quantum_fluctuation" title="Quantum fluctuation">quantum fluctuation</a>-generated Big Bang to produce a new universe identical to our own, assuming that every new universe contained at least the same number of subatomic particles and obeyed laws of physics <a href="/wiki/String_theory_landscape" title="String theory landscape">within the range</a> predicted by <a href="/wiki/String_theory" title="String theory">string theory</a>.',years:{tooBig:!0},category:"physics",id:"event-qQoQ",startTimeInCompactUnits:5600,easedStartTime:450,cleanedContentHTML:'Around this vast timeframe, quantum tunnelling in any isolated patch of the vacuum could generate, via <a href="/wiki/Cosmic_inflation" class="mw-redirect" title="Cosmic inflation">inflation</a>, new <a href="/wiki/Big_Bang" title="Big Bang">Big Bangs</a> giving birth to new universes. Because the total number of ways in which all the subatomic particles in the observable universe can be combined is 10<sup>10<sup>115</sup></sup, a number which, when multiplied by 10<sup>10<sup>10<sup>56</sup></sup></sup>, disappears into the rounding error, this is also the time required for a <a href="/wiki/Quantum_tunnelling" title="Quantum tunnelling">quantum-tunnelled</a> and <a href="/wiki/Quantum_fluctuation" title="Quantum fluctuation">quantum fluctuation</a>-generated Big Bang to produce a new universe identical to our own, assuming that every new universe contained at least the same number of subatomic particles and obeyed laws of physics <a href="/wiki/String_theory_landscape" title="String theory landscape">within the range</a> predicted by <a href="/wiki/String_theory" title="String theory">string theory</a>.',speakableContent:"Quantum tunnelling in any isolated patch of the vacuum could generate, via inflation, new Big Bangs giving birth to new universes. Because the total number of ways in which all the subatomic particles in the observable universe can be combined is 10 to the 10th to the 115th power, a number which, when multiplied by 10 to the 10th to the 10th to the 56th power, disappears into the rounding error, this is also the time required for a quantum-tunnelled and quantum fluctuation-generated Big Bang to produce a new universe identical to our own.",skimmableContent:"Quantum tunnelling in any isolated patch of the vacuum could generate, via inflation, new Big Bangs giving birth to new universes. Because the total number of ways in which all the subatomic particles in the observable universe can be combined is 10<sup>10<sup>115</sup></sup>, a number which, when multiplied by 10<sup>10<sup>10<sup>56</sup></sup></sup>, disappears into the rounding error, this is also the time required for a quantum-tunnelled and quantum fluctuation-generated Big Bang to produce a new universe identical to our own.",isEnd:!0}],ea=Zr;const ta=ea[0].easedStartTime,na=ea[ea.length-1].easedStartTime,ra=ea[ea.length-1].startTimeInCompactUnits,aa=na-ta,ia=16*na,oa=ra,sa=100,la=ea.find((e=>e.startTimeInCompactUnits>0)).startTimeInCompactUnits;var ca={scrollToEventDuration:500,heightUnitsPerTick:20,secondsPerCompactUnit:16,ticksPerCompactUnit:16,highestCompactUnit:na,highestRawCompactUnit:ra,lowestCompactUnit:ta,compactUnitRange:aa,secondsPerTick:1,totalTicks:ia,speechOverlapSeconds:1.2,baseSpeechVol:.45,desiredEasedMax:450,midCompactTimeToMod:sa,minCompactTimeToMod:la,maxCompactTimeToMod:oa,modRange1:sa-la,modRange2:oa-sa,desiredModRange2:350,bigTempoWaveAmp:.15,minVibratoTickLength:.8,ticksWherePanUnhinges:1024,concurrentRiffCountsForCategories:{earth:1,solar:1,galaxy:2,universe:3,physics:4},maxConcurrentRiffs:4,maxDistIndex:11,intervals:[2,1.5,4/3,1.25,1.2,9/8,16/9,27/16,128/81,243/128,256/243,729/512],minTicksBetweenEventPlays:2},ua=Jr;const{secondsPerTick:ha,lowestCompactUnit:fa,compactUnitRange:pa,ticksPerCompactUnit:da,maxDistIndex:ma,intervals:ya}=ca,ga=20/ha;var va=0;var ba=function(e){e.sampleDownloader.downloadStatus.samplesDownloaded?function({ctx:e,events:t,envelopeMaxGain:n,delaySeconds:r=0,probable:a,sampleDownloader:i,muteHorns:o}){var s=t[0];const l=s.easedStartTime*da,c=Math.max(s.isEnd?32:4,.5*Math.max(Math.log(s.startTimeInCompactUnits))),u=s.isEnd?0:Math.max((s.startTimeInCompactUnits-fa)/pa,.2),h=function(e,t,n){const r=(e-t)/n;return Math.max(~~(Math.pow(r,.1)*ma),.01)}(s.easedStartTime,fa,pa);var f=[0];for(let e=1;e<ma-h;++e)f.push(m(ma-h,e));var p=f.map((e=>({sampleBuffer:i.downloadStatus.sampleBuffers[0],sampleDetune:e})));const d=2.5*h;o||ua({ctx:e,envelopeOn:!0,envelopeMaxGain:p.length>0?n/p.length+.05:n,envelopePeakRateK:.5,envelopeDecayRateK:u,timeNeededForEnvelopeDecay:1,useCachedReverb:l-va<=ga,reverbOn:!0,reverbSeconds:d,reverbWet:.9,reverbDry:.1,samplerOn:!0,samplerKits:p,soundDurationSeconds:c,delaySeconds:r});function m(e,t){const n=ya[Math.min(t,ya.length-1)];return 1200*(a.roll(e/2)+n-1)}va=l}(e):console.error(new Error("Event sample not downloaded yet!"))};var wa=Jr,_a=function({ctx:e,feedbackDelayEffect:t}){return function(n){let r=n[n.length-1].node,a=e.createDelay();a.delayTime.value=t.delaySeconds;let i=e.createGain();i.gain.value=t.feedbackSeconds,r.connect(a),a.connect(i),i.connect(a),i.connect(e.destination)}};var ka=function({ctx:e,delaySeconds:t=0,sampleBuffer:n,soundDurationSeconds:r,volume:a,feedbackDelayEffect:i}){wa({ctx:e,envelopeOn:!1,reverbOn:!1,samplerOn:!0,gainOn:!0,samplerKits:[{sampleBuffer:n,sampleDetune:0}],delaySeconds:t,timeNeededForEnvelopeDecay:1,soundDurationSeconds:r,gain:a,addToChain:i?_a({ctx:e,feedbackDelayEffect:i}):void 0})},Ta=["vibraphone/atonia-vibraphone-01.mp3","vibraphone/atonia-vibraphone-02.mp3","vibraphone/atonia-vibraphone-03.mp3","vibraphone/atonia-vibraphone-04.mp3","vibraphone/atonia-vibraphone-05.mp3","vibraphone/atonia-vibraphone-06.mp3","vibraphone/atonia-vibraphone-07.mp3","vibraphone/atonia-vibraphone-08.mp3","vibraphone/atonia-vibraphone-09.mp3","vibraphone/atonia-vibraphone-10.mp3","vibraphone/atonia-vibraphone-11.mp3","vibraphone/atonia-vibraphone-12.mp3","vibraphone/atonia-vibraphone-13.mp3","vibraphone/atonia-vibraphone-14.mp3","vibraphone/atonia-vibraphone-15.mp3","vibraphone/atonia-vibraphone-16.mp3","vibraphone/atonia-vibraphone-17.mp3","vibraphone/atonia-vibraphone-18.mp3","vibraphone/atonia-vibraphone-19.mp3","vibraphone/atonia-vibraphone-20.mp3","vibraphone/atonia-vibraphone-21.mp3","vibraphone/atonia-vibraphone-22.mp3","vibraphone/atonia-vibraphone-23.mp3","vibraphone/atonia-vibraphone-24.mp3","vibraphone/atonia-vibraphone-25.mp3","vibraphone/atonia-vibraphone-26.mp3","vibraphone/atonia-vibraphone-27.mp3","vibraphone/atonia-vibraphone-28.mp3","vibraphone/atonia-vibraphone-29.mp3","vibraphone/atonia-vibraphone-30.mp3","vibraphone/atonia-vibraphone-31.mp3","vibraphone/atonia-vibraphone-32.mp3","vibraphone/atonia-vibraphone-33.mp3","vibraphone/atonia-vibraphone-34.mp3","vibraphone/atonia-vibraphone-35.mp3","vibraphone/atonia-vibraphone-36.mp3","vibraphone/atonia-vibraphone-37.mp3"];function xa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sa(e){var t;return 1===e.length&&(t=e,e=function(e,n){return xa(t(e),n)}),{left:function(t,n,r,a){for(null==r&&(r=0),null==a&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(null==r&&(r=0),null==a&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}var Ca=Sa(xa),Ma=Ca.right,Aa=Ca.left;function Ea(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&++n}return n}function Na(e){return 0|e.length}function ja(e){return!(e>0)}function Pa(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function La(e,t){let n,r=0,a=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-a,a+=n/++r,i+=n*(t-a));else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(n=s-a,a+=n/++r,i+=n*(s-a))}if(r>1)return i/(r-1)}function Ha(e,t){const n=La(e,t);return n?Math.sqrt(n):n}function Oa(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let a=-1;for(let i of e)null!=(i=t(i,++a,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function Fa(e){return e}function Ua(e,t,n,r){return function e(a,i){if(i>=r.length)return n(a);const o=new Map,s=r[i++];let l=-1;for(const e of a){const t=s(e,++l,a),n=o.get(t);n?n.push(e):o.set(t,[e])}for(const[t,n]of o)o.set(t,e(n,i));return t(o)}(e,0)}var Ba=Array.prototype.slice;function Ia(e){return function(){return e}}function Ra(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}var Da=Math.sqrt(50),Ga=Math.sqrt(10),qa=Math.sqrt(2);function Wa(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Da?10:i>=Ga?5:i>=qa?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Da?10:i>=Ga?5:i>=qa?2:1)}function za(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Da?a*=10:i>=Ga?a*=5:i>=qa&&(a*=2),t<e?-a:a}function Va(e){return Math.ceil(Math.log(Ea(e))/Math.LN2)+1}function Ka(){var e=Fa,t=Oa,n=Va;function r(r){Array.isArray(r)||(r=Array.from(r));var a,i,o=r.length,s=new Array(o);for(a=0;a<o;++a)s[a]=e(r[a],a,r);var l=t(s),c=l[0],u=l[1],h=n(s,c,u);Array.isArray(h)||(h=za(c,u,h),h=Ra(Math.ceil(c/h)*h,u,h));for(var f=h.length;h[0]<=c;)h.shift(),--f;for(;h[f-1]>u;)h.pop(),--f;var p,d=new Array(f+1);for(a=0;a<=f;++a)(p=d[a]=[]).x0=a>0?h[a-1]:c,p.x1=a<f?h[a]:u;for(a=0;a<o;++a)c<=(i=s[a])&&i<=u&&d[Ma(h,i,0,f)].push(r[a]);return d}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:Ia(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:Ia([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?Ia(Ba.call(e)):Ia(e),r):n},r}function $a(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Xa(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Qa(e,t,n=0,r=e.length-1,a=xa){for(;r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Qa(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(Ya(e,n,t),a(e[r],i)>0&&Ya(e,n,r);o<s;){for(Ya(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?Ya(e,n,s):(++s,Ya(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ya(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ja(e){return null===e?NaN:+e}function Za(e,t,n){if(r=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n))).length){if((t=+t)<=0||r<2)return Xa(e);if(t>=1)return $a(e);var r,a=(r-1)*t,i=Math.floor(a),o=$a(Qa(e,i).subarray(0,i+1));return o+(Xa(e.subarray(i+1))-o)*(a-i)}}function ei(e,t){let n,r=-1,a=-1;if(void 0===t)for(const t of e)++a,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=a);else for(let i of e)null!=(i=t(i,++a,e))&&(n<i||void 0===n&&i>=i)&&(n=i,r=a);return r}function ti(e,t){let n,r=-1,a=-1;if(void 0===t)for(const t of e)++a,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=a);else for(let i of e)null!=(i=t(i,++a,e))&&(n>i||void 0===n&&i>=i)&&(n=i,r=a);return r}function ni(e,t){return[e,t]}function ri(e,t=xa){if(1===t.length)return ti(e,t);let n,r=-1,a=-1;for(const i of e)++a,(r<0?0===t(i,i):t(i,n)<0)&&(n=i,r=a);return r}function ai(e){if(!(a=e.length))return[];for(var t=-1,n=Xa(e,ii),r=new Array(n);++t<n;)for(var a,i=-1,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r}function ii(e){return e.length}var oi=t(Object.freeze({__proto__:null,bisect:Ma,bisectRight:Ma,bisectLeft:Aa,ascending:xa,bisector:Sa,count:Ea,cross:function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(Pa)).map(Na),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(ja))return i;for(;;){i.push(a.map(((t,n)=>e[n][t])));let o=r;for(;++a[o]===n[o];){if(0===o)return t?i.map(t):i;a[o--]=0}}},cumsum:function(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:a=>n+=+t(a,r++,e)||0)},descending:function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},deviation:Ha,extent:Oa,group:function(e,...t){return Ua(e,Fa,Fa,t)},groups:function(e,...t){return Ua(e,Array.from,Fa,t)},rollup:function(e,t,...n){return Ua(e,Fa,t,n)},rollups:function(e,t,...n){return Ua(e,Array.from,t,n)},bin:Ka,histogram:Ka,thresholdFreedmanDiaconis:function(e,t,n){return Math.ceil((n-t)/(2*(Za(e,.75)-Za(e,.25))*Math.pow(Ea(e),-1/3)))},thresholdScott:function(e,t,n){return Math.ceil((n-t)/(3.5*Ha(e)*Math.pow(Ea(e),-1/3)))},thresholdSturges:Va,max:$a,maxIndex:ei,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let a=-1;for(let i of e)null!=(i=t(i,++a,e))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n},median:function(e,t){return Za(e,.5,t)},merge:function(e){return Array.from(function*(e){for(const t of e)yield*t}(e))},min:Xa,minIndex:ti,pairs:function(e,t=ni){const n=[];let r,a=!1;for(const i of e)a&&n.push(t(r,i)),r=i,a=!0;return n},permute:function(e,t){return Array.from(t,(t=>e[t]))},quantile:Za,quantileSorted:function(e,t,n=Ja){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}},quickselect:Qa,range:Ra,least:function(e,t=xa){let n,r=!1;if(1===t.length){let a;for(const i of e){const e=t(i);(r?xa(e,a)<0:0===xa(e,e))&&(n=i,a=e,r=!0)}}else for(const a of e)(r?t(a,n)<0:0===t(a,a))&&(n=a,r=!0);return n},leastIndex:ri,greatest:function(e,t=xa){let n,r=!1;if(1===t.length){let a;for(const i of e){const e=t(i);(r?xa(e,a)>0:0===xa(e,e))&&(n=i,a=e,r=!0)}}else for(const a of e)(r?t(a,n)>0:0===t(a,a))&&(n=a,r=!0);return n},greatestIndex:function(e,t=xa){if(1===t.length)return ei(e,t);let n,r=-1,a=-1;for(const i of e)++a,(r<0?0===t(i,i):t(i,n)>0)&&(n=i,r=a);return r},scan:function(e,t){const n=ri(e,t);return n<0?void 0:n},shuffle:function(e,t=0,n=e.length){for(var r,a,i=n-(t=+t);i;)a=Math.random()*i--|0,r=e[i+t],e[i+t]=e[a+t],e[a+t]=r;return e},sum:function(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n},ticks:function(e,t,n){var r,a,i,o,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(o=Wa(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),i=new Array(a=Math.ceil(e-t+1));++s<a;)i[s]=(e-s)/o;return r&&i.reverse(),i},tickIncrement:Wa,tickStep:za,transpose:ai,variance:La,zip:function(){return ai(arguments)}}));var si=function(e,t){var n=e;if(t.every((function(e){return n=n[e]}),!0))return n},li=Ta,{range:ci}=oi,ui=ft.exports,hi=si,fi=["A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"];var pi={};function di(e){return[e.slice(-1),e.slice(0,-1)]}!function(){for(let e=3;;e+=1){pi[e]={};for(let t=3===e?5:0;t<12;t+=1){const n=12*(e-3)+t-5;if(n>=li.length)return;pi[e][fi[t]]=n}}}();var mi=function({riffParts:e,length:t,probable:n,numberOfNotesToAlter:r,isOKToGoOutsideRiffPitches:a,riffVolAdj:i}){var o=function(e,t,n,r,a=1){var i=e.map((e=>e.split(",").map(di))),o=ui(i);if(n>0){let e=t.shuffle(ci(16)).slice(0,n);for(let n=0;n<e.length;++n){const a=e[n],s=~~(a/4),l=a%4;if(r){const e=+o[s][l][0]+t.roll(3)-1,n=t.pick(fi);hi(pi,[e,n])&&(o[s][l][0]=e,o[s][l][1]=n)}else o[s][l]=i[t.roll(4)][t.roll(4)]}}var s=o.flat();const l=s.length,c=t.roll(Math.min(n,7)),u=0===t.roll(3)?0:t.roll(c),h=t.roll(n)/l/2*.03+.03,f=h+.03,p=t.roll(n)/8>t.roll(l);return s.map((function(e,r){let i=(t.roll(n)/l*.5+.5)*h+.03;return c>0&&r%c===u&&(i+=(t.roll(50)+50)/100*(f-i)),i*=a,{pitchIndex:pi[e[0]][e[1]],startVol:p?i:0,midVol:p?0:i}}))}(e,n,r,a,i);if(o.length>=t)return o.slice(0,t);for(var s=[],l=0;l<~~(t/o.length);++l)s=s.concat(o);return s=s.concat(o.slice(0,t%o.length))};function yi(e){return e<=.2?1:1/3*Math.cos(5*Math.PI*(e-.2))+2/3}var gi=function(e,t){var n=4,r={riffParts:t,probable:e,numberOfNotesToAlter:0,isOKToGoOutsideRiffPitches:!1},a=mi(Object.assign({length:n},r)),i=mi(Object.assign({length:n+1},r)),o=[],s=[];for(let e=0;e<48;++e)o=o.concat(a),s=s.concat(i);for(let r=0;r<16;++r){n+=1;const l=yi(r/16);for(let c=0;c<24;++c)if(c%4==0)o=o.concat(a),s=s.concat(i);else{let a=mi({riffParts:t,length:n,probable:e,numberOfNotesToAlter:~~(r/2),isOKToGoOutsideRiffPitches:e.roll(r)>12,riffVolAdj:l}),i=mi({riffParts:t,length:n+1,probable:e,numberOfNotesToAlter:~~(r/2),isOKToGoOutsideRiffPitches:e.roll(r)>12,riffVolAdj:l});0===e.roll(2)?(o=o.concat(a),s=s.concat(i)):(o=o.concat(i),s=s.concat(a))}}return[o,s]};var vi=function({ok:e,nok:t,log:n=console.log}){return function(r){if(r)n&&(r.stack?n(r,r.stack):n(r)),t&&t(r);else if(e){var a=Array.prototype.slice.call(arguments,1);t&&a.push(t),e.apply(e,a)}}};var bi=function(){var e,t=Promise.resolve();return{getCurrentContext:function(r){e?t.then((()=>r(null,e))):n(r)},getNewContext:n};function n(t,n){var r,a;function i(){var t;r&&r.sampleRate&&(t={sampleRate:r.sampleRate}),e="function"==typeof AudioContext?new AudioContext(t):new webkitAudioContext(t),a(null,e)}"function"==typeof t?a=t:"function"==typeof n&&(a=n,"object"==typeof t&&(r=t)),e?e.close().then(i):i()}};var wi=function(e){if(e){console.error(e,e.stack);var t="";e.name&&(t+=e.name+": "),t+=e.message,e.stack&&(t+=" | "+e.stack.toString()),function(e){var t=document.getElementById("status-message");t.textContent=e,t.classList.remove("hidden")}(t)}},_i={value:function(){}};function ki(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ti(r)}function Ti(e){this._=e}function xi(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Si(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function Ci(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=_i,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ti.prototype=ki.prototype={constructor:Ti,on:function(e,t){var n,r=this._,a=xi(e+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(n=(e=a[i]).type)r[n]=Ci(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Ci(r[n],e.name,null);return this}for(;++i<o;)if((n=(e=a[i]).type)&&(n=Si(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ti(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};var Mi,Ai,Ei=0,Ni=0,ji=0,Pi=0,Li=0,Hi=0,Oi="object"==typeof performance&&performance.now?performance:Date,Fi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ui(){return Li||(Fi(Bi),Li=Oi.now()+Hi)}function Bi(){Li=0}function Ii(){this._call=this._time=this._next=null}function Ri(e,t,n){var r=new Ii;return r.restart(e,t,n),r}function Di(){Li=(Pi=Oi.now())+Hi,Ei=Ni=0;try{!function(){Ui(),++Ei;for(var e,t=Mi;t;)(e=Li-t._time)>=0&&t._call.call(null,e),t=t._next;--Ei}()}finally{Ei=0,function(){var e,t,n=Mi,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Mi=t);Ai=e,qi(r)}(),Li=0}}function Gi(){var e=Oi.now(),t=e-Pi;t>1e3&&(Hi-=t,Pi=e)}function qi(e){Ei||(Ni&&(Ni=clearTimeout(Ni)),e-Li>24?(e<1/0&&(Ni=setTimeout(Di,e-Oi.now()-Hi)),ji&&(ji=clearInterval(ji))):(ji||(Pi=Oi.now(),ji=setInterval(Gi,1e3)),Ei=1,Fi(Di)))}function Wi(e,t,n){var r=new Ii;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}Ii.prototype=Ri.prototype={constructor:Ii,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ui():+n)+(null==t?0:+t),this._next||Ai===this||(Ai?Ai._next=this:Mi=this,Ai=this),this._call=e,this._time=n,qi()},stop:function(){this._call&&(this._call=null,this._time=1/0,qi())}};var zi=ki("start","end","cancel","interrupt"),Vi=[];function Ki(e,t,n,r,a,i){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function i(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(i){var c,u,h,f;if(1!==n.state)return l();for(c in a)if((f=a[c]).name===n.name){if(3===f.state)return Wi(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete a[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete a[c])}if(Wi((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,o=r.length;++i<o;)r[i].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=Ri(i,0,n.time)}(e,n,{name:t,index:r,group:a,on:zi,tween:Vi,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function $i(e,t){var n=Qi(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Xi(e,t){var n=Qi(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Qi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Yi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ji(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zi(){}var eo=.7,to=1/eo,no="\\s*([+-]?\\d+)\\s*",ro="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ao="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",io=/^#([0-9a-f]{3,8})$/,oo=new RegExp("^rgb\\("+[no,no,no]+"\\)$"),so=new RegExp("^rgb\\("+[ao,ao,ao]+"\\)$"),lo=new RegExp("^rgba\\("+[no,no,no,ro]+"\\)$"),co=new RegExp("^rgba\\("+[ao,ao,ao,ro]+"\\)$"),uo=new RegExp("^hsl\\("+[ro,ao,ao]+"\\)$"),ho=new RegExp("^hsla\\("+[ro,ao,ao,ro]+"\\)$"),fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function po(){return this.rgb().formatHex()}function mo(){return this.rgb().formatRgb()}function yo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=io.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?go(t):3===n?new _o(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new _o(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new _o(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=oo.exec(e))?new _o(t[1],t[2],t[3],1):(t=so.exec(e))?new _o(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=lo.exec(e))?vo(t[1],t[2],t[3],t[4]):(t=co.exec(e))?vo(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=uo.exec(e))?So(t[1],t[2]/100,t[3]/100,1):(t=ho.exec(e))?So(t[1],t[2]/100,t[3]/100,t[4]):fo.hasOwnProperty(e)?go(fo[e]):"transparent"===e?new _o(NaN,NaN,NaN,0):null}function go(e){return new _o(e>>16&255,e>>8&255,255&e,1)}function vo(e,t,n,r){return r<=0&&(e=t=n=NaN),new _o(e,t,n,r)}function bo(e){return e instanceof Zi||(e=yo(e)),e?new _o((e=e.rgb()).r,e.g,e.b,e.opacity):new _o}function wo(e,t,n,r){return 1===arguments.length?bo(e):new _o(e,t,n,null==r?1:r)}function _o(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ko(){return"#"+xo(this.r)+xo(this.g)+xo(this.b)}function To(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function xo(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function So(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mo(e,t,n,r)}function Co(e){if(e instanceof Mo)return new Mo(e.h,e.s,e.l,e.opacity);if(e instanceof Zi||(e=yo(e)),!e)return new Mo;if(e instanceof Mo)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Mo(o,s,l,e.opacity)}function Mo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ao(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Eo(e){return function(){return e}}function No(e){return 1==(e=+e)?jo:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Eo(isNaN(t)?n:t)}}function jo(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Eo(isNaN(e)?t:e)}Yi(Zi,yo,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:po,formatHex:po,formatHsl:function(){return Co(this).formatHsl()},formatRgb:mo,toString:mo}),Yi(_o,wo,Ji(Zi,{brighter:function(e){return e=null==e?to:Math.pow(to,e),new _o(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?eo:Math.pow(eo,e),new _o(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ko,formatHex:ko,formatRgb:To,toString:To})),Yi(Mo,(function(e,t,n,r){return 1===arguments.length?Co(e):new Mo(e,t,n,null==r?1:r)}),Ji(Zi,{brighter:function(e){return e=null==e?to:Math.pow(to,e),new Mo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?eo:Math.pow(eo,e),new Mo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new _o(Ao(e>=240?e-240:e+120,a,r),Ao(e,a,r),Ao(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Po=function e(t){var n=No(t);function r(e,t){var r=n((e=wo(e)).r,(t=wo(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=jo(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Lo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ho=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oo=new RegExp(Ho.source,"g");function Fo(e,t){var n,r,a,i=Ho.lastIndex=Oo.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Ho.exec(e))&&(r=Oo.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Lo(n,r)})),i=Oo.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}var Uo,Bo,Io,Ro,Do=180/Math.PI,Go={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qo(e,t,n,r,a,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Do,skewX:Math.atan(l)*Do,scaleX:o,scaleY:s}}function Wo(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var s=[],l=[];return i=e(i),o=e(o),function(e,r,a,i,o,s){if(e!==a||r!==i){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Lo(e,a)},{i:l-2,x:Lo(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Lo(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Lo(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,s,l),function(e,t,n,r,i,o){if(e!==n||t!==r){var s=i.push(a(i)+"scale(",null,",",null,")");o.push({i:s-4,x:Lo(e,n)},{i:s-2,x:Lo(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,s,l),i=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var zo=Wo((function(e){return"none"===e?Go:(Uo||(Uo=document.createElement("DIV"),Bo=document.documentElement,Io=document.defaultView),Uo.style.transform=e,e=Io.getComputedStyle(Bo.appendChild(Uo),null).getPropertyValue("transform"),Bo.removeChild(Uo),qo(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Vo=Wo((function(e){return null==e?Go:(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),(e=Ro.transform.baseVal.consolidate())?qo((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Go)}),", ",")",")");function Ko(e,t){var n,r;return function(){var a=Xi(this,e),i=a.tween;if(i!==n)for(var o=0,s=(r=n=i).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}a.tween=r}}function $o(e,t,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=Xi(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}i.tween=a}}function Xo(e,t,n){var r=e._id;return e.each((function(){var e=Xi(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Qi(e,r).value[t]}}function Qo(e,t){var n;return("number"==typeof t?Lo:t instanceof yo?Po:(n=yo(t))?(t=n,Po):Fo)(e,t)}function Yo(e){return function(){this.removeAttribute(e)}}function Jo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zo(e,t,n){var r,a,i=n+"";return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function es(e,t,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function ts(e,t,n){var r,a,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===r&&s===a?i:(a=s,i=t(r=o,l));this.removeAttribute(e)}}function ns(e,t,n){var r,a,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===r&&s===a?i:(a=s,i=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function rs(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function as(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function is(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&as(e,a)),n}return a._value=t,a}function os(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&rs(e,a)),n}return a._value=t,a}function ss(e,t){return function(){$i(this,e).delay=+t.apply(this,arguments)}}function ls(e,t){return t=+t,function(){$i(this,e).delay=t}}function cs(e,t){return function(){Xi(this,e).duration=+t.apply(this,arguments)}}function us(e,t){return t=+t,function(){Xi(this,e).duration=t}}function hs(e,t){if("function"!=typeof t)throw new Error;return function(){Xi(this,e).ease=t}}function fs(e,t,n){var r,a,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?$i:Xi;return function(){var o=i(this,e),s=o.on;s!==r&&(a=(r=s).copy()).on(t,n),o.on=a}}var ps=Yn.prototype.constructor;function ds(e){return function(){this.style.removeProperty(e)}}function ms(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ys(e,t,n){var r,a;function i(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&ms(e,i,n)),r}return i._value=t,i}function gs(e){return function(t){this.textContent=e.call(this,t)}}function vs(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&gs(r)),t}return r._value=e,r}var bs=0;function ws(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _s(){return++bs}var ks=Yn.prototype;ws.prototype={constructor:ws,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=$t(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s,l,c=r[o],u=c.length,h=i[o]=new Array(u),f=0;f<u;++f)(s=c[f])&&(l=e.call(s,s.__data__,f,c))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,Ki(h[f],t,n,f,h,Qi(s,n)));return new ws(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Qt(e));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,p=e.call(l,l.__data__,h,c),d=Qi(l,n),m=0,y=p.length;m<y;++m)(f=p[m])&&Ki(f,t,n,m,p,d);i.push(p),o.push(l)}return new ws(i,o,t,n)},filter:function(e){"function"!=typeof e&&(e=Yt(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o=t[a],s=o.length,l=r[a]=[],c=0;c<s;++c)(i=o[c])&&e.call(i,i.__data__,c,o)&&l.push(i);return new ws(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],h=c.length,f=o[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(f[p]=l);for(;s<r;++s)o[s]=t[s];return new ws(o,this._parents,this._name,this._id)},selection:function(){return new ps(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=_s(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Qi(o,t);Ki(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ws(r,this._parents,e,n)},call:ks.call,nodes:ks.nodes,node:ks.node,size:ks.size,empty:ks.empty,each:ks.each,on:function(e,t){var n=this._id;return arguments.length<2?Qi(this.node(),n).on.on(e):this.each(fs(n,e,t))},attr:function(e,t){var n=qt(e),r="transform"===n?Vo:Qo;return this.attrTween(e,"function"==typeof t?(n.local?ns:ts)(n,r,Xo(this,"attr."+e,t)):null==t?(n.local?Jo:Yo)(n):(n.local?es:Zo)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=qt(e);return this.tween(n,(r.local?is:os)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?zo:Qo;return null==t?this.styleTween(e,function(e,t){var n,r,a;return function(){var i=dn(this,e),o=(this.style.removeProperty(e),dn(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}(e,r)).on("end.style."+e,ds(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,a,i;return function(){var o=dn(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=dn(this,e)),o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}(e,r,Xo(this,"style."+e,t))).each(function(e,t){var n,r,a,i,o="style."+t,s="end."+o;return function(){var l=Xi(this,e),c=l.on,u=null==l.value[o]?i||(i=ds(t)):void 0;c===n&&a===u||(r=(n=c).copy()).on(s,a=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,a,i=n+"";return function(){var o=dn(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,ys(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Xo(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,vs(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=Qi(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===e)return r.value;return null}return this.each((null==t?Ko:$o)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ss:ls)(t,e)):Qi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?cs:us)(t,e)):Qi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(hs(t,e)):Qi(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise((function(i,o){var s={value:o},l={value:function(){0==--a&&i()}};n.each((function(){var n=Xi(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var Ts={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function xs(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Ts.time=Ui(),Ts;return n}Yn.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,a,i=e.__transition,o=!0;if(i){for(a in t=null==t?null:t+"",i)(n=i[a]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete e.__transition}}(this,e)}))},Yn.prototype.transition=function(e){var t,n;e instanceof ws?(t=e._id,e=e._name):(t=_s(),(n=Ts).time=Ui(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],l=s.length,c=0;c<l;++c)(o=s[c])&&Ki(o,e,t,c,s,n||xs(o,t));return new ws(r,this._parents,e,t)};var Ss=si;function Cs(e){return e}var Ms=function(e,t){var n="id";if(e){if("identity"===e)return Cs;n="string"==typeof e?e:"object"==typeof e&&"string"==typeof e.path?e.path.split("/"):""+e}return function(e,t){return n;function n(n){if("object"==typeof n){var a=r(n,e);return void 0===a?t:a}return t}function r(e,t){return"string"==typeof t?e[t]:Array.isArray(t)?Ss(e,t):void 0}}(n,t)},As=or,Es=Ms;const{heightUnitsPerTick:Ns,ticksPerCompactUnit:js}=ca;var Ps=As.select("#board");var Ls=function({eventData:e,ticksTicked:t}){var n=Ps.select(".timeline-root-container").select(".timeline-root");!function({eventData:e,heightUnitsPerTick:t}){var r=n.selectAll(".event").data(e,Es());r.exit().remove();var a=r.enter().append("g").attr("id",Es()).attr("opacity",0).classed("event",!0),i=a.append("foreignObject").attr("width",100).attr("x",-50).append("xhtml:div").classed("event-container",!0);i.append("xhtml:div").classed("time",!0).classed("shadowed",!0),i.append("xhtml:div").classed("subtitle",!0).text("years from now");var o=a.merge(r);o.select("foreignObject").attr("height",100),o.select(".time").html(Es("yearsFromNow")),o.attr("transform",(function({easedStartTime:e}){return`translate(0, ${e*js*-t})`})).transition().duration(400).attr("opacity",(function(e,t,n){return t>=n.length-1?1:n.slice(t+1,t+3).some((function(t){return t.__data__.easedStartTime-e.easedStartTime<=.5}))?0:1}))}({eventData:e,heightUnitsPerTick:Ns});const r=t*Ns;Ps.select(".time-line").attr("y2",-r)},Hs=or.select("#description-container .description"),Os=Hs.select(".time"),Fs=Hs.select(".description-text");var Us=function({event:e}){e&&(Os.html(e.yearsFromNow),Fs.html(e.skimmableContent))},{range:Bs}=oi,{select:Is}=or,Rs=Ms;const{heightUnitsPerTick:Ds}=ca,Gs=document.body.getBoundingClientRect().height;var qs=function({ticksTicked:e}){var t=Is(".ticks-root");const n=Gs/Ds+1;var r=Bs(Math.round(Math.max(e-n,0)),e),a=t.selectAll(".tick").data(r,Rs("identity"));function i(e){return e*-Ds}a.exit().remove(),a.enter().append("line").classed("tick",!0).merge(a).attr("y1",i).attr("y2",i).attr("x1",-5).attr("x2",5)},Ws={exports:{}};function zs(){In.stopImmediatePropagation()}function Vs(){In.preventDefault(),In.stopImmediatePropagation()}function Ks(e){var t=e.document.documentElement,n=Jn(e).on("dragstart.drag",Vs,!0);"onselectstart"in t?n.on("selectstart.drag",Vs,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $s(e,t){var n=e.document.documentElement,r=Jn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vs,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Xs(e){return function(){return e}}function Qs(e,t,n,r,a,i,o,s,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=a,this.x=i,this.y=o,this.dx=s,this.dy=l,this._=c}function Ys(){return!In.ctrlKey&&!In.button}function Js(){return this.parentNode}function Zs(e){return null==e?{x:In.x,y:In.y}:e}function el(){return navigator.maxTouchPoints||"ontouchstart"in this}!function(e){function t(e){var t=Math.random,n=!0;function r(e){return Math.floor(t()*e)}function a(e){var t=e,n=t[t.length-1][0][1]-t[0][0][0]+1;function a(e){return function(e,t){t=+t;for(var n=0;n<e.length;++n){var r=e[n],a=r[0];if(t>=a[0]&&t<=a[1])return r[1]}}(t,e)}return{outcomeAtIndex:a,roll:function(){var e=a(r(n));return"function"!=typeof e||"probable_rollOnTable"!==e.name&&"probable_pick"!==e.name?e:e()},length:n,getRangesAndOutcomesArray:function(){return t}}}function i(e){var t=[],n=-1,r=function(e){var t=[];for(var n in e){var r=e[n];t.push([r,n])}return t}(e);return(r=r.sort(o)).forEach((function(e){var r=e[0],a=e[1],i=n+1,o=i+r-1;t.push([[i,o],a]),n=o})),t}function o(e,t){return e[0]>t[0]?-1:1}function s(e){return a(function(e){var t=[];for(var r in e){var a=c(r),i=e[r];if("object"==typeof i)if(Array.isArray(i))i=f(i);else if(n){var o=s(i);"function"==typeof o.roll&&(i=o.roll)}t.push([a,i])}return t.sort(l)}(e))}function l(e,t){return e[0][0]<t[0][0]?-1:1}function c(e){var t=e.split("-");if(!(t.length>2))return 1===t.length?[+e,+e]:[+t[0],+t[1]]}function u(e){return a(function(e){var t=0;return e.map(n);function n(e){var n=e[0],r=e[1],a=t+n-1,i=[t,a];if(t=a+1,Array.isArray(r))if(function(e){return Array.isArray(e)&&e.length>0&&Array.isArray(e[0])&&2===e[0].length&&"number"==typeof e[0][0]}(r)){var o=u(r);"function"==typeof o.roll&&(r=o.roll)}else r=f(r);return[i,r]}}(e))}function h(e,t){return!e||"number"!=typeof e.length||e.length<1?t:e[r(e.length)]}function f(e,t){return function(){return h(e,t)}}function p(e,t){var n=[];return e.forEach((function(e){t.forEach((function(t){Array.isArray(e)||Array.isArray(t)?n.push(e.concat(t)):n.push([e,t])}))})),n}function d(e){for(var t,n=e.length,a=Array(n),i=0;i<n;i++)(t=r(i+1))!==i&&(a[i]=a[t]),a[t]=e[i];return a}return e&&(e.random&&(t=e.random),void 0!==e.recurse&&(n=e.recurse)),{roll:r,rollDie:function(e){return 0===e?0:r(e)+1},createRangeTable:a,createRangeTableFromDict:function(e){return a(i(e))},createTableFromDef:s,createTableFromSizes:u,convertDictToRangesAndOutcomePairs:i,pickFromArray:h,pick:h,crossArrays:p,getCartesianProduct:function(e){return e.slice(1).reduce(p,e[0])},shuffle:d,sample:function(e,t){return d(e).slice(0,t)},randomFn:t}}var n=t();e.exports=n,e.exports.createProbable=t}(Ws),Qs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var tl=t(Object.freeze({__proto__:null,drag:function(){var e,t,n,r,a=Ys,i=Js,o=Zs,s=el,l={},c=ki("start","drag","end"),u=0,h=0;function f(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",y).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&a.apply(this,arguments)){var o=b("mouse",i.apply(this,arguments),ar,this,arguments);o&&(Jn(In.view).on("mousemove.drag",d,!0).on("mouseup.drag",m,!0),Ks(In.view),zs(),n=!1,e=In.clientX,t=In.clientY,o("start"))}}function d(){if(Vs(),!n){var r=In.clientX-e,a=In.clientY-t;n=r*r+a*a>h}l.mouse("drag")}function m(){Jn(In.view).on("mousemove.drag mouseup.drag",null),$s(In.view,n),Vs(),l.mouse("end")}function y(){if(a.apply(this,arguments)){var e,t,n=In.changedTouches,r=i.apply(this,arguments),o=n.length;for(e=0;e<o;++e)(t=b(n[e].identifier,r,ir,this,arguments))&&(zs(),t("start"))}}function g(){var e,t,n=In.changedTouches,r=n.length;for(e=0;e<r;++e)(t=l[n[e].identifier])&&(Vs(),t("drag"))}function v(){var e,t,n=In.changedTouches,a=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<a;++e)(t=l[n[e].identifier])&&(zs(),t("end"))}function b(e,t,n,r,a){var i,s,h,p=n(t,e),d=c.copy();if(zn(new Qs(f,"beforestart",i,e,u,p[0],p[1],0,0,d),(function(){return null!=(In.subject=i=o.apply(r,a))&&(s=i.x-p[0]||0,h=i.y-p[1]||0,!0)})))return function o(c){var m,y=p;switch(c){case"start":l[e]=o,m=u++;break;case"end":delete l[e],--u;case"drag":p=n(t,e),m=u}zn(new Qs(f,c,i,e,m,p[0]+s,p[1]+h,p[0]-y[0],p[1]-y[1],d),d.apply,d,[c,r,a])}}return f.filter=function(e){return arguments.length?(a="function"==typeof e?e:Xs(!!e),f):a},f.container=function(e){return arguments.length?(i="function"==typeof e?e:Xs(e),f):i},f.subject=function(e){return arguments.length?(o="function"==typeof e?e:Xs(e),f):o},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Xs(!!e),f):s},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f},dragDisable:Ks,dragEnable:$s})),nl="Expected a function",rl=/^\s+|\s+$/g,al=/^[-+]0x[0-9a-f]+$/i,il=/^0b[01]+$/i,ol=/^0o[0-7]+$/i,sl=parseInt,ll="object"==typeof e&&e&&e.Object===Object&&e,cl="object"==typeof self&&self&&self.Object===Object&&self,ul=ll||cl||Function("return this")(),hl=Object.prototype.toString,fl=Math.max,pl=Math.min,dl=function(){return ul.Date.now()};function ml(e,t,n){var r,a,i,o,s,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError(nl);function p(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function d(e){return c=e,s=setTimeout(y,t),u?p(e):o}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=i}function y(){var e=dl();if(m(e))return g(e);s=setTimeout(y,function(e){var n=t-(e-l);return h?pl(n,i-(e-c)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=a=void 0,o)}function v(){var e=dl(),n=m(e);if(r=arguments,a=this,l=e,n){if(void 0===s)return d(l);if(h)return s=setTimeout(y,t),p(l)}return void 0===s&&(s=setTimeout(y,t)),o}return t=gl(t)||0,yl(n)&&(u=!!n.leading,i=(h="maxWait"in n)?fl(gl(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=a=s=void 0},v.flush=function(){return void 0===s?o:g(dl())},v}function yl(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function gl(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==hl.call(e)}(e))return NaN;if(yl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=yl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(rl,"");var n=il.test(e);return n||ol.test(e)?sl(e.slice(2),n?2:8):al.test(e)?NaN:+e}var vl=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(nl);return yl(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ml(e,t,{leading:r,maxWait:t,trailing:a})},bl=or,{drag:wl}=tl,_l=vl;var kl=function({secondsPerCompactUnit:e,ticksPerCompactUnit:t,heightUnitsPerTick:n,scrollToEventDuration:r,containerSelector:a,rootSelector:i,ticker:o}){const s=e/t*1e3;var l=_l((function(e){c.attr("transform",`translate(0, ${e})`),o.setTicks(e/n)}),100),c=bl.select(i).select(".zoom-root"),u=wl();u.on("start",(function(){h=!0,o.pause()})),u.on("end",(function(){h=!1,setTimeout((()=>o.resume()),4*s)})),u.on("drag",(function(){const e=function(e){var t=e.attr("transform");if(!t)return 0;return+t.split(",")[1].split(")")[0]}(c)+bl.event.dy;l(e)})),bl.select(a).call(u);var h=!1,f=-1,p=!0;return window.onfocus=function(){p=!0,f>-1&&(console.log("Now active, scrolling to",f),d(f),f=-1)},window.onblur=function(){p=!1},{scroll:d};function d(e){h||(p?c.transition().duration(r).attr("transform",`translate(0, ${(e-.5)*n})`):(f=e,console.log("Inactive so queuing to scroll to this later",f)))}},Tl="__lodash_placeholder__",xl=32,Sl=1/0,Cl=NaN,Ml=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",xl],["partialRight",64],["rearg",256]],Al="[object Function]",El="[object GeneratorFunction]",Nl=/^\s+|\s+$/g,jl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pl=/\{\n\/\* \[wrapped with (.+)\] \*/,Ll=/,? & /,Hl=/^[-+]0x[0-9a-f]+$/i,Ol=/^0b[01]+$/i,Fl=/^\[object .+?Constructor\]$/,Ul=/^0o[0-7]+$/i,Bl=/^(?:0|[1-9]\d*)$/,Il=parseInt,Rl="object"==typeof e&&e&&e.Object===Object&&e,Dl="object"==typeof self&&self&&self.Object===Object&&self,Gl=Rl||Dl||Function("return this")();function ql(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Wl(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var a=e.length,i=n+(r?1:-1);for(;r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}(e,zl,n);var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function zl(e){return e!=e}function Vl(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function Kl(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==Tl||(e[n]=Tl,i[a++]=n)}return i}var $l,Xl=Function.prototype,Ql=Object.prototype,Yl=Gl["__core-js_shared__"],Jl=($l=/[^.]+$/.exec(Yl&&Yl.keys&&Yl.keys.IE_PROTO||""))?"Symbol(src)_1."+$l:"",Zl=Xl.toString,ec=Ql.hasOwnProperty,tc=Ql.toString,nc=RegExp("^"+Zl.call(ec).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rc=Object.create,ac=Math.max,ic=Math.min,oc=function(){var e=yc(Object,"defineProperty"),t=yc.name;return t&&t.length>2?e:void 0}();function sc(e){return xc(e)?rc(e):{}}function lc(e){return!(!xc(e)||(t=e,Jl&&Jl in t))&&(function(e){var t=xc(e)?tc.call(e):"";return t==Al||t==El}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?nc:Fl).test(function(e){if(null!=e){try{return Zl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function cc(e,t,n,r){for(var a=-1,i=e.length,o=n.length,s=-1,l=t.length,c=ac(i-o,0),u=Array(l+c),h=!r;++s<l;)u[s]=t[s];for(;++a<o;)(h||a<i)&&(u[n[a]]=e[a]);for(;c--;)u[s++]=e[a++];return u}function uc(e,t,n,r){for(var a=-1,i=e.length,o=-1,s=n.length,l=-1,c=t.length,u=ac(i-s,0),h=Array(u+c),f=!r;++a<u;)h[a]=e[a];for(var p=a;++l<c;)h[p+l]=t[l];for(;++o<s;)(f||a<i)&&(h[p+n[o]]=e[a++]);return h}function hc(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=sc(e.prototype),r=e.apply(n,t);return xc(r)?r:n}}function fc(e,t,n,r,a,i,o,s,l,c){var u=128&t,h=1&t,f=2&t,p=24&t,d=512&t,m=f?void 0:hc(e);return function y(){for(var g=arguments.length,v=Array(g),b=g;b--;)v[b]=arguments[b];if(p)var w=mc(y),_=Vl(v,w);if(r&&(v=cc(v,r,a,p)),i&&(v=uc(v,i,o,p)),g-=_,p&&g<c){var k=Kl(v,w);return pc(e,t,fc,y.placeholder,n,v,k,s,l,c-g)}var T=h?n:this,x=f?T[e]:e;return g=v.length,s?v=wc(v,s):d&&g>1&&v.reverse(),u&&l<g&&(v.length=l),this&&this!==Gl&&this instanceof y&&(x=m||hc(x)),x.apply(T,v)}}function pc(e,t,n,r,a,i,o,s,l,c){var u=8&t;t|=u?xl:64,4&(t&=~(u?64:xl))||(t&=-4);var h=n(e,t,a,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,s,l,c);return h.placeholder=r,_c(h,e,t)}function dc(e,t,n,r,a,i,o,s){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=a=void 0),o=void 0===o?o:ac(Cc(o),0),s=void 0===s?s:Cc(s),c-=a?a.length:0,64&t){var u=r,h=a;r=a=void 0}var f=[e,t,n,r,a,u,h,i,o,s];if(e=f[0],t=f[1],n=f[2],r=f[3],a=f[4],!(s=f[9]=null==f[9]?l?0:e.length:ac(f[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?function(e,t,n){var r=hc(e);return function a(){for(var i=arguments.length,o=Array(i),s=i,l=mc(a);s--;)o[s]=arguments[s];var c=i<3&&o[0]!==l&&o[i-1]!==l?[]:Kl(o,l);return(i-=c.length)<n?pc(e,t,fc,a.placeholder,void 0,o,c,void 0,void 0,n-i):ql(this&&this!==Gl&&this instanceof a?r:e,this,o)}}(e,t,s):t!=xl&&33!=t||a.length?fc.apply(void 0,f):function(e,t,n,r){var a=1&t,i=hc(e);return function t(){for(var o=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),h=this&&this!==Gl&&this instanceof t?i:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++o];return ql(h,a?n:this,u)}}(e,t,n,r);else var p=function(e,t,n){var r=1&t,a=hc(e);return function t(){return(this&&this!==Gl&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,n);return _c(p,e,t)}function mc(e){return e.placeholder}function yc(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return lc(n)?n:void 0}function gc(e){var t=e.match(Pl);return t?t[1].split(Ll):[]}function vc(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(jl,"{\n/* [wrapped with "+t+"] */\n")}function bc(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||Bl.test(e))&&e>-1&&e%1==0&&e<t}function wc(e,t){for(var n=e.length,r=ic(t.length,n),a=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var i=t[r];e[r]=bc(i,n)?a[i]:void 0}return e}var _c=oc?function(e,t,n){var r,a=t+"";return oc(e,"toString",{configurable:!0,enumerable:!1,value:(r=vc(a,kc(gc(a),n)),function(){return r})})}:function(e){return e};function kc(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(Ml,(function(n){var r="_."+n[0];t&n[1]&&!Wl(e,r)&&e.push(r)})),e.sort()}function Tc(e,t,n){var r=dc(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Tc.placeholder,r}function xc(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Sc(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==tc.call(e)}(e))return Cl;if(xc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nl,"");var n=Ol.test(e);return n||Ul.test(e)?Il(e.slice(2),n?2:8):Hl.test(e)?Cl:+e}(e))===Sl||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Cc(e){var t=Sc(e),n=t%1;return t==t?n?t-n:t:0}Tc.placeholder={};var Mc=Tc,Ac=or,Ec={4:4.25,5:4.5,6:4.75,7:5,8:5.25,9:5.5,10:5.75,11:6,12:6.25,13:6.75,14:7,15:7.25,16:7.75,17:8,18:8.25,19:8.75,20:9,21:9.5,22:9.75,23:10.25,24:10.5,25:11,26:11.5,27:11.75,28:12.25,29:12.75,30:13.25,31:13.75,32:14.25,33:14.75,34:15.25,35:15.75,36:16.5,37:17,38:17.75,39:18.25,40:19,41:19.5,42:20.25,43:21,44:21.75,45:22.5,46:23.25,47:24.25,48:25,49:26,50:27,51:27.75,52:29,53:30,54:31,55:32.25,56:33.5,57:34.75,58:36,59:37.5,60:39,61:40.5,62:42.25,63:43.75,64:45.75,65:47.75,66:49.75,67:51.75,68:54.25,69:56.75,70:59.25,71:62.25,72:65.25,73:68.5,74:72,75:75.75,76:80,77:84.5,78:89.5,79:95,80:99.75};const{midCompactTimeToMod:Nc,minCompactTimeToMod:jc,maxCompactTimeToMod:Pc,modRange1:Lc,modRange2:Hc,desiredModRange2:Oc,heightUnitsPerTick:Fc,ticksPerCompactUnit:Uc}=ca,Bc=jc+(Nc-4)/(Nc-4+.25)*Lc,Ic=Nc+(Pc-Nc)/Hc*Oc;var Rc=new Intl.NumberFormat({localeMatch:"best fit",style:"decimal",useGrouping:!0,maximumFractionDigits:2}),Dc=Ac.select("#board"),Gc=Dc.select(".now-circle"),qc=Dc.select(".ticks-root");var Wc=function({ticks:e}){const t=function(e){var t,n;if(e<4)n=e;else if(e>=4&&e<=Bc){let t=~~e;for(;t>0;){if(t in Ec){n=Ec[t];break}t--}}else n=e>Bc&&e<=Ic?(e-Nc)/Oc*Hc+Nc:e;if(n<9){const e=~~Math.pow(10,n);t=isNaN(e)||e===1/0?"???":Rc.format(e)}else t=`10<sup>${Rc.format(n)}</sup>`;return t}(e/Uc);Ac.select("#years-notice").html("1"===t?`${t} year has passed.`:`${t} years have passed.`);const n=e*-Fc;Gc.transition().duration(300).attr("cy",n);var r=qc.select(".current");r.empty()&&(r=qc.append("line").classed("current",!0).classed("tick",!0)).attr("x1",-10).attr("x2",10),r.attr("y1",n),r.attr("y2",n)};const{totalTicks:zc,bigTempoWaveAmp:Vc}=ca;var Kc=function({onTick:e,secondsPerCompactUnit:t,ticksPerCompactUnit:n,startTicks:r,onPause:a,onResume:i}){var o,s=0;!isNaN(r)&&r>-1&&(s=r);var l=1;return{getTicks:function(){return s},setTicks:function(t){s=Math.round(t),e(s)},pause:function(){clearTimeout(o),o=null,a&&a()},resume:function(){o||c();i&&i()},isPaused:function(){return!o},getCurrentTickLength:function(){return l}};function c(){e(s);const r=(s+=1)/zc;var a=1;if(r>.175){a=Vc*Math.cos(2.5*Math.PI*(r-.2))+1-Vc+1/(20*r)*Math.cos(2*Math.PI*40/r*(r-.2))}l=t/n*a,o=setTimeout(c,1e3*l)}},$c={backspace:8,tab:9,enter:13,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,equal:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backslash:220,closeBracket:221,singleQuote:222};var Xc=function(e){var t={},n={},r=!1,a=!1;function i(e,t){var n=e;return t&&(n=t.reduce(s,e)),n}function o(e){var t=[];return e.metaKey&&t.push("meta"),e.ctrlKey&&t.push("ctrl"),e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),t}function s(e,t){var n=e;switch(t){case"meta":n+=1e3;break;case"ctrl":n+=1e4;break;case"shift":n+=1e5;break;case"alt":n+=1e6}return n}function l(e){r&&e.stopPropagation();var n=i(e.which,o(e));n in t&&(e.stopPropagation(),t[n]())}function c(e){a&&e.stopPropagation();var t=i(e.which,o(e));t in n&&(e.stopPropagation(),n[t]())}return e.addEventListener("keyup",l),e.addEventListener("keydown",c),{routeKeyUp:function(e,n,r){var a=i($c[e],n);t[a]=r},routeKeyDown:function(e,t,r){var a=i($c[e],t);n[a]=r},unrouteKeyUp:function(e,n){var r=i($c[e],n);delete t[r]},unrouteKeyDown:function(e,t){var r=i($c[e],t);delete n[r]},setKeyDownAbsorbMode:function(e){a=e},setKeyUpAbsorbMode:function(e){r=e}}},{select:Qc}=or,Yc=Xc(document),Jc=sr,Zc=Qc("#pause-play-button"),eu=Zc.select(".pause-icon"),tu=Zc.select(".play-icon"),nu=Qc("#skip-forward-button"),{on:ru}=Jc();var au=function({onPausePlayToggle:e,onSkipBackClick:t,onSkipForwardClick:n}){return Yc.unrouteKeyUp("space",null),Yc.routeKeyUp("space",null,e),ru("#pause-play-button","click",e),ru("#skip-back-button","click",t),ru("#skip-forward-button","click",n),function({currentlyPlaying:e,skipForwardEnabled:t}){eu.classed("hidden",!e),tu.classed("hidden",e),nu.classed("invisible",!t)}};function iu(e){var t=e.length,n=[];if(t>1){n=new Array(t-1);for(var r=1;r<t;++r)n[r-1]=e[r]}return n}var ou=async function(e){var t=iu(arguments);return new Promise(n);function n(n){t.push((function(e){n({error:e,values:iu(arguments)})})),e.apply(e,t)}},su=pr,lu=ba,cu=ka,uu=gi,hu=vi,fu=bi,pu=wi,du=Ls,mu=Us,yu=qs,gu=Ws.exports.createProbable,vu=Ar,bu=kl,wu=Mc,_u=Wc,ku=Kc,Tu=[["Db4,F4,C5,F5","Ab3,C4,G4,F4","G3,C4,F4,Bb5","F3,G3,C4,F4"],["F4,G4,Ab4,C5","C5,Db5,Eb5,F5","F5,Bb5,Gb6,A6","F4,F5,F5,C5"],["C4,G4,Eb5,F5","Eb5,G5,C6,F5","F5,C5,G4,D5","Bb4,Eb4,C5,Eb5"],["Eb5,D5,Db5,C5","G4,Eb4,A3,F3","C4,Db4,C4,Bb3","Ab3,G3,Gb3,F4"]],xu=au,Su=ou,Cu=!1,Mu=-10;const{scrollToEventDuration:Au,heightUnitsPerTick:Eu,secondsPerCompactUnit:Nu,ticksPerCompactUnit:ju,totalTicks:Pu,speechOverlapSeconds:Lu,baseSpeechVol:Hu,minVibratoTickLength:Ou,ticksWherePanUnhinges:Fu,concurrentRiffCountsForCategories:Uu,maxConcurrentRiffs:Bu,minTicksBetweenEventPlays:Iu}=ca;var{getCurrentContext:Ru}=fu();function Du(e,t){const n=t.easedStartTime-e;return n<=1/ju&&n>=0}function Gu(e,t){const n=t/ju;for(var r=e.length-1;r>-1;--r){let t=e[r];if(n>=t.easedStartTime)return{event:t,index:r}}return{event:null,index:-1}}function qu(e){const t=+localStorage.futuremostEventTickPlayed;return t&&t>e+1}var Wu=function({timeline:e,seed:t,startTicks:n,stopTicks:r,muteVocals:a,muteTicks:i,muteHorns:o,pauseOnEndMovement:s,tickSampleDownloader:l,eventSampleDownloader:c,narrationSampleCacher:u}){for(var h=ku({onTick:function(e){const t=e/ju;v(~~e),g(t,e),e===+r&&setTimeout(h.pause,0);requestAnimationFrame((()=>{f.scroll(e),yu({ticksTicked:e}),_u({ticks:e}),y({currentlyPlaying:!0,skipForwardEnabled:qu(e)})}))},secondsPerCompactUnit:Nu,ticksPerCompactUnit:ju,startTicks:n,onPause:function(){y({currentlyPlaying:!1,skipForwardEnabled:qu(h.getTicks())})},onResume:function(){y({currentlyPlaying:!0,skipForwardEnabled:qu(h.getTicks())})}}),f=bu({secondsPerCompactUnit:Nu,ticksPerCompactUnit:ju,heightUnitsPerTick:Eu,scrollToEventDuration:Au,containerSelector:"#board",rootSelector:"#board .timeline-root-container",ticker:h}),p=gu({random:vu(t)}),d=[],m=0;m<Bu;++m)d.push(uu(p,Tu[m]));du({eventData:e,ticksTicked:e[e.length-1].easedStartTime*ju-1});var y=xu({onPausePlayToggle:function(){h.isPaused()?h.resume():h.pause()},onSkipBackClick:function(){h.setTicks(function(e,t){var{event:n}=Gu(e,t);if(!n)return 0;return n.easedStartTime*ju}(e,h.getTicks())-1),_()},onSkipForwardClick:function(){const t=function(e,t){const{index:n}=Gu(e,t+2),r=n+1;if(r>=e.length)return;return e[r].easedStartTime*ju}(e,h.getTicks());isNaN(t)||(h.setTicks(t-1),_())}});function g(t,n){if(!(Math.abs(n-Mu)<Iu)){var r=e.filter(wu(Du)(t));r.length>0&&requestAnimationFrame((()=>function(e){if(e.length<1)return;function t(t){if(0!==e[0].yearsFromNow){let r={ctx:t,probable:p,events:p.sample(e,1),envelopeMaxGain:.85,delaySeconds:0,sampleDownloader:c,muteHorns:o};lu(r),function(e){const t=e.easedStartTime*ju;(!localStorage.futuremostEventTickPlayed||t>localStorage.futuremostEventTickPlayed)&&(localStorage.futuremostEventTickPlayed=t)}(e[0]),Mu=n,s&&e.some((e=>e.endMovement))&&setTimeout((()=>h.pause()),1e3*h.getCurrentTickLength()*16),e.some((e=>e.isEnd))&&(lu(Object.assign(r,{delaySeconds:15})),lu(Object.assign(r,{delaySeconds:30})))}!function(e){e.some((e=>e.isEnd))&&(h.pause(),localStorage.finalEventReached=!0);for(var t=p.shuffle(e),n=0;n<t.length;++n){let e=t[n];setTimeout((()=>w({event:e,volumeAdj:-.05*n})),1e3*h.getCurrentTickLength()*(2+n))}}(e)}Ru(hu({ok:t,nok:pu}))}(r)))}}function v(t){const n=function(e){return e/Pu}(t);Ru(hu({ok:function(r){var a=-1+b(t),o=1-b(t),s="earth",c=Gu(e,t).event;c&&(s=c.category);const u=Uu[s];for(var f=0;f<u;++f){let e=0;t%u!=0&&p.roll(100)/100<n&&(e=p.roll(100*n)/100*h.getCurrentTickLength());let c=e;"universe"!==s&&(c+=f/u*h.getCurrentTickLength());var m={ticksTicked:t,probable:p,ctx:r,delaySeconds:c,sampleDownloader:l,vibratoOn:h.getCurrentTickLength()>Ou};i&&t>0||(su(Object.assign({riff:d[f][0],pan:a},m)),su(Object.assign({riff:d[f][1],pan:o},m)))}},nok:pu}))}function b(e){const t=Math.max((e-32)/Fu,0);return Math.min(p.roll(200*t)/200,2)}function w({event:e,volumeAdj:t=0}){Cu||(a||async function(e){Cu=!0;var n=await Su(u.getSample,e.id);if(n.error)return pu(n.error),void(Cu=!1);var r=n.values[0];if(!r)return console.error(new Error(`No sampleBuffer downloaded for ${e.id}.`)),void(Cu=!1);var a=await Su(Ru);if(a.error)return pu(a.error),void(Cu=!1);const i=r.length/r.sampleRate;setTimeout((()=>{Cu=!1}),1e3*(i-Lu)),u.loadNext(1,pu);const o=h.getTicks()/Pu;let s={feedbackSeconds:.4*o,delaySeconds:.6*o};cu({ctx:a.values[0],sampleBuffer:r,event:e,probable:p,volume:Hu+t,soundDurationSeconds:i,feedbackDelayEffect:e.isEnd?null:s})}(e),mu({event:e}))}function _(){setTimeout((()=>y({currentlyPlaying:!h.isPaused(),skipForwardEnabled:qu(h.getTicks())})),h.getCurrentTickLength())}h.resume()},zu=[].slice,Vu={};function Ku(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function $u(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,a=n[r];n[r]=Xu(e,t),--e._waiting,++e._active,n=a.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||Vu)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])Qu(e,t);else if(!e._data)throw t}}function Xu(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?Qu(e,n):(e._data[t]=r,e._waiting?$u(e):Yu(e))))}}function Qu(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,Yu(e)}function Yu(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function Ju(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new Ku(e)}Ku.prototype=Ju.prototype={constructor:Ku,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=zu.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),$u(this),this},abort:function(){return null==this._error&&Qu(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},Yu(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,Yu(this),this}};var Zu=t(Object.freeze({__proto__:null,queue:Ju})),eh={exports:{}};function th(e){return e.statusCode>199&&e.statusCode<300}!function(e){var t={makeRequest:function(e,t){var n=e.json||"application/json"===e.mimeType,r=new XMLHttpRequest;if(r.open(e.method,e.url),e.mimeType&&r.setRequestHeader("content-type",e.mimeType),n&&r.setRequestHeader("accept","application/json"),"object"==typeof e.headers)for(var a in e.headers)r.setRequestHeader(a,e.headers[a]);e.binary&&(r.responseType="arraybuffer"),n&&"object"==typeof e.body&&(e.body=JSON.stringify(e.body));var i=null;r.onload=function(){clearTimeout(i),e.onData&&l();var a={statusCode:this.status,statusMessage:r.statusText,responseURL:r.responseURL,rawResponse:r.response,xhr:r};if(e.binary)t(null,a,r.response);else{var o=this.responseText;if(n)try{o=JSON.parse(o)}catch(e){a.jsonParseError=e}t(null,a,o)}};var o=0;function s(){r.abort(),clearTimeout(i),t()}function l(){r.responseText&&(e.onData(r.responseText.substr(o)),o=r.responseText.length)}return e.onData&&(r.onreadystatechange=function(){3===r.readyState&&l()}),r.onerror=function(){var e=new Error("There is a problem with the network.");e.name="XHR network error",t(e)},r.send(e.formData||e.body),e.timeLimit>0&&(i=setTimeout(s,e.timeLimit)),{url:e.url,cancelRequest:s}}};e.exports=t.makeRequest}(eh);var nh=function(e,t){var n;if("object"==typeof e){var{url:r,responseIsOK:a}=e;n=t}else n=e;return a||(a=th),function(e,t,i){if(e)n(e);else if(a(t))n(null,i);else{let e="";e=a===th?`Received status code ${t.statusCode}`:"Bad response",r?e+=` from ${r} `:t.url&&(e+=` from ${t.url} `),e+=".",n(new Error(e))}}},{queue:rh}=Zu,ah=eh.exports,ih=nh,oh=vi;var sh=function({ctx:e,sampleFiles:t,baseURL:n},r){var a=rh();function i(t,r){function a(e){r(null,e)}ah({method:"GET",binary:!0,url:`${n}/${t}`},ih(oh({ok:function(t){e.decodeAudioData(t,a)},nok:r})))}t.forEach((function(e){a.defer(i,e)})),a.awaitAll((function(e,t){if(e)return void r(e);r(null,t)}))},lh=sh,ch=wi,uh=vi,hh=bi;var{getCurrentContext:fh}=hh();var ph=function({sampleFiles:e,localMode:t}){var n={samplesDownloaded:!1,sampleBuffers:null};return{downloadStatus:n,startDownloads:function(){fh(uh({ok:r,nok:ch}))}};function r(n){lh({ctx:n,sampleFiles:e,baseURL:t?"samples":"https://smidgeo.nyc3.cdn.digitaloceanspaces.com/sound-of-the-far-future/samples"},uh({ok:a,nok:ch}))}function a(e){n.sampleBuffers=e,n.samplesDownloaded=!0}},dh=sh,mh=wi,yh=vi,gh=bi,{getCurrentContext:vh}=gh();var bh=function({cacheSize:e=5,baseURL:t,ext:n="",idList:r}){var a={},i=[],o=0;return{getSample:function(e,t){const r=e+n;var i=a[r];if(i)return void Promise.resolve().then((()=>t(null,i)));s([e],yh({ok:()=>t(null,a[r]),nok:t}))},loadSamples:s,loadNext:function(e,t){s(r.slice(o,o+e),yh({ok:function(){(o+=e)>=r.length&&(o-=r.length),t()},nok:t}))}};function s(s,l){for(var c=s.map((e=>e+n)),u=c.length-1;u>-1;--u)a[c[u]]&&c.splice(u,1);function h(t){if(t.length<c.length)l(new Error(`Missing buffers from download of ${s.join(", ")}.`));else{for(var u=0;u<t.length;++u){const e=c[u];a[e]=t[u],i.push(e)}for(;i.length>e&&i.length>0;)delete a[i[0]],i.shift();!function(){for(var e=i.map((e=>e.slice(0,-n.length))),t=0;t<e.length;++t){const n=e[t],a=r.indexOf(n);a>o&&(o=a+1)>=r.length&&(o=0)}}(),l(null,t)}}vh(yh({ok:function(e){dh({ctx:e,sampleFiles:c,baseURL:t},yh({ok:h,nok:l}))},nok:mh}))}},wh={name:"sound-of-the-far-future",version:"2.2.7",description:"A browser-performed piece of music.",main:"index.js",private:!0,scripts:{build:"rollup -c",dev:"rollup -c -w"},repository:{type:"git",url:"git@github.com:jimkang/sound-of-the-far-future.git"},keywords:[],author:"Jim Kang",license:"Polyform Noncommercial License 1.0",bugs:{url:"https://github.com/jimkang/sound-of-the-far-future/issues"},homepage:"https://github.com/jimkang/sound-of-the-far-future",devDependencies:{"@rollup/plugin-commonjs":"^19.0.0","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.0.0","async-waterfall":"^0.1.5",eslint:"^7.24.0","lodash.curry":"^4.1.1",minimist:"^1.2.0",request:"^2.88.0",rollup:"^2.50.6","rollup-plugin-livereload":"^2.0.0","rollup-plugin-terser":"^7.0.2","sirv-cli":"^1.0.12"},dependencies:{"@jimkang/randomid":"^1.0.2",accessor:"^3.0.0","audio-context-singleton":"^1.0.3","basic-browser-request":"^9.0.2","call-next-tick":"^2.0.1","collect-in-channel":"^3.0.1","d3-array":"^2.4.0","d3-drag":"^1.2.5","d3-ease":"^1.0.6","d3-queue":"^3.0.7","d3-scale":"^3.2.1","d3-selection":"^1.4.0","d3-transition":"^1.3.2","errorback-promise":"^1.0.0","get-at-path":"^1.0.1","handle-error-web":"^1.0.1","lodash.clonedeep":"^4.5.0","lodash.throttle":"^4.1.1",oknok:"^3.0.0","one-listener-per-element":"^1.0.1",probable:"^2.1.4","request-body-mover":"^1.0.1","route-state":"^2.0.5","sanitize-html":"^1.27.5",seedrandom:"^3.0.5","soundbank-reverb":"^1.1.2",strokerouter:"^2.0.0"}},_h=Ws.exports.createProbable;const kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var Th=function(e){var t,n=kh;if(e){let{random:r}=e;t=_h({random:r}),e.idChars&&(n=e.idChars)}else t=_h();return function(e){for(var r="",a=0;a<e;++a)r+=t.pickFromArray(n);return r}},xh=Rt,Sh=fr,Ch=Wu,Mh=wi,Ah=Zr,Eh=ph,Nh=bh,jh=Ta,Ph=bi,Lh=ou,{version:Hh}=wh;var Oh,{getCurrentContext:Fh}=Ph(),Uh=Th(),Bh=document.querySelector(".outer-container"),Ih=document.querySelector(".yes-webaudio-intro"),Rh=document.querySelector(".no-webaudio-intro"),Dh=!1;function Gh({seed:e,startTicks:t,stopTicks:n,muteVocals:r,muteTicks:a,muteHorns:i,pauseOnEndMovement:o,localMode:s}){e||(e=Uh(8),Oh.updateEphemeralState({seed:e},!1)),console.log("Seed:",e),Dh?h():(Sh({onStart:h}),Dh=!0);var l=Eh({localMode:s,sampleFiles:jh}),c=Eh({localMode:s,sampleFiles:["horns-sus-ff-e2-PB-loop.mp3"]});var u=Nh({baseURL:s?"narration":"https://smidgeo.nyc3.cdn.digitaloceanspaces.com/sound-of-the-far-future/narration",ext:".mp3",idList:Ah.map((e=>e.id))});function h(){Bh.classList.remove("hidden"),Ch({timeline:Ah,seed:e,startTicks:+t,stopTicks:+n,muteVocals:r,muteTicks:a,muteHorns:i,pauseOnEndMovement:o,localMode:s,tickSampleDownloader:l,eventSampleDownloader:c,narrationSampleCacher:u})}l.startDownloads(),c.startDownloads(),u.loadNext(5,Mh)}function qh(e,t,n,r,a){Mh(a)}return async function(){window.onerror=qh,document.getElementById("version-info").textContent=Hh,Oh=xh({followRoute:Gh,windowObject:window,propsToCoerceToBool:["muteVocals","muteTicks","muteHorns","pauseOnEndMovement","localMode"]});var{error:e,values:t}=await Lh(Fh);!e&&t[0]&&t[0].createStereoPanner?Oh.routeFromHash():(Ih.classList.add("hidden"),Rh.classList.remove("hidden"))}(),{}}();
//# sourceMappingURL=index.js.map
